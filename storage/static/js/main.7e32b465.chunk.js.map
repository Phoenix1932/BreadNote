{"version":3,"sources":["redux/store.js","components/Controller/index.js","redux/reducers/TagListReducer.js","components/Controller/Login/bg.jpg","components/Controller/Login/index.js","components/Controller/Loading/index.js","App.js","reportWebVitals.js","index.js","Utils/request.js"],"names":["AsyncLeanote","allReducers","combineReducers","TagList","preState","action","undefined","length","type","TagListOrSingleTag","console","log","filter","ele","createStore","Login","state","active","loginEmail","loginPassword","registerEmail","registerPassword","handleForm","a","message","loading","content","key","request","email","pwd","result","Ok","PubSub","publish","token","Token","success","duration","warn","notification","info","description","icon","SmileOutlined","this","setState","className","src","background","onClick","ref","c","onChange","value","Component","Loading","style","height","display","flexDirection","justifyContent","LoadingOutlined","subTitle","title","Controller","subscribe","msg","data","Leanote","lazy","fallback","props","history","replace","path","component","to","withRouter","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","store","document","getElementById","url","method","Promise","resolve","reject","qs","stringify","encoder","str","defaultEncoder","charset","encodeURIComponent","axios","timeout","reason","status","synchronizedRequest","requestArray","synchronizedResult","map","all"],"mappings":"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","file":"static/js/main.7e32b465.chunk.js","sourcesContent":["//引入最为核心的对象createStore 用于创建store对象\r\nimport {createStore,combineReducers} from \"redux\";\r\n//引入为count组件服务的reducer reducer负责对传入的state进行初始化或者更新的操作\r\nimport TagListReducer from \"./reducers/TagListReducer\";\r\n//allReducers 保存了所有的状态\r\nlet allReducers = combineReducers({\r\n   TagList:TagListReducer\r\n})\r\n//暴露store\r\nexport default createStore(allReducers);","import React, {Component,lazy,Suspense} from 'react';\r\nimport {Redirect, Route, withRouter} from \"react-router-dom\";\r\n// import ReactMarkdown from \"react-markdown\";\r\nimport Login from \"./Login\";\r\nimport PubSub from \"pubsub-js\";\r\nimport Loading from \"./Loading\";\r\nlet AsyncLeanote;\r\nclass Controller extends Component {\r\n    componentDidMount() {\r\n\r\n        PubSub.subscribe(\"toBreadNote\",(msg,data) => {\r\n            AsyncLeanote = () => {\r\n                let Leanote = lazy(()=> import('./Leanote'))\r\n                return(\r\n                    <Suspense fallback={<Loading />}>\r\n                        <Leanote token={data.token}/>\r\n                    </Suspense>\r\n                )\r\n            }\r\n            this.props.history.replace(\"/BreadNote\")\r\n        })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <Route path=\"/userLogin\" component={Login}/>\r\n                <Route path=\"/BreadNote\" component={AsyncLeanote}/>\r\n                <Redirect to=\"/userLogin\"/>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default withRouter(Controller);","//reducer是一个纯函数,接受两个参数preState 和 action\r\nexport default function TagListReducer(preState,action){\r\n    //当preState为undefined则对其进行初始化操作\r\n    if (preState === undefined || (preState.length === 1 && preState[0] === '')) preState = [];\r\n    //从action中获取type和data type指明操作的动作data则是操作的数据\r\n    const {type,TagListOrSingleTag} = action;\r\n    console.log(\"TagListOrSingleTag\",TagListOrSingleTag);\r\n    /*  console.log(\"前一次的状态\",preState);\r\n      console.log(\"TagListOrSingleTag\",TagListOrSingleTag);*/\r\n    //根据type决定\r\n    switch (type){\r\n        case 'delete':\r\n            return preState.filter(ele => ele !== TagListOrSingleTag);\r\n        case 'add':\r\n            console.log(\"add\",[...preState, ...TagListOrSingleTag]);\r\n            return [...preState,...TagListOrSingleTag] ;\r\n        case \"clear\":\r\n            return [];\r\n        default:\r\n            return preState;\r\n    }\r\n}","export default __webpack_public_path__ + \"static/media/bg.18c452c7.jpg\";","import React, {Component} from 'react';\r\nimport background from './bg.jpg'\r\nimport {request} from \"../../../Utils/request\";\r\nimport PubSub from \"pubsub-js\";\r\nimport \"./login.css\"\r\nimport {message, notification} from \"antd\";\r\nimport {SmileOutlined} from \"@ant-design/icons\";\r\nclass Login extends Component {\r\n    state = {\r\n        active: 'login',\r\n        loginEmail:\"\",\r\n        loginPassword:\"\",\r\n        registerEmail:'',\r\n        registerPassword:\"\",\r\n    }\r\n    handleForm = () =>{\r\n        return async () => {\r\n            let{active,loginEmail,loginPassword,registerEmail,registerPassword} = this.state;\r\n            switch (active){\r\n                case \"login\":\r\n                    try {\r\n                        message.loading({ content: '登陆中...', key:'loading' });\r\n                        let result = await request(\"auth/login\",{email:loginEmail,pwd:loginPassword},\"post\")\r\n                        console.log(result);\r\n                        if (result.Ok){\r\n                            PubSub.publish(\"toBreadNote\",{token:result.Token})\r\n                            message.success({ content: '登录成功!', key:'loading', duration: 2 });\r\n                        }else {\r\n                            message.warn({ content: '密码错误或用户名不存在', key:'loading', duration: 2 })\r\n                        }\r\n                    }catch (e) {\r\n                        console.log(e);\r\n                        message.warn({ content: '登陆失败', key:'loading', duration: 2 })\r\n                    }\r\n\r\n                    break;\r\n                case \"register\" :\r\n                    notification.info({\r\n                        message:'提示',\r\n                        description:'目前该项目处于测试状态,暂不支持账号的注册',\r\n                        icon:<SmileOutlined />\r\n                    })\r\n                    break;\r\n            }\r\n        }\r\n\r\n    }\r\n    componentWillUnmount() {\r\n        this.setState({},()=>{\r\n            return false\r\n        });\r\n    }\r\n\r\n    render() {\r\n        let{active,loginEmail,loginPassword,registerEmail,registerPassword} = this.state;\r\n\r\n        return (\r\n            <div className=\"Login_Container\">\r\n                <div className=\"container\">\r\n                    <img src={background}/>\r\n                    <div className=\"panel\">\r\n                        <div className=\"content login\">\r\n                            <div className=\"switch\">\r\n                                <span onClick={() =>{this.setState({active:\"login\"})}} className={`${active === \"login\" ? \"active\" : \"\"}`}>登陆</span>\r\n                                <span>/</span>\r\n                                <span onClick={() =>{this.setState({active:\"register\"})}} className={`${active === \"register\" ? \"active\" : \"\"}`}>注册</span>\r\n                            </div>\r\n                            <div className='form'>\r\n                                {\r\n                                    active === \"register\" ?\r\n                                        <div>\r\n                                            <div className=\"input\">\r\n                                                <input type=\"text\" className={`${registerEmail || loginEmail? \"hasValue\" :\"\"}`} ref={c =>this.registerEmail = c} onChange={() => this.setState({registerEmail:this.registerEmail.value})}/>\r\n                                                <label>邮箱</label>\r\n                                            </div>\r\n                                            <div className=\"input\">\r\n                                                <input type=\"password\" className={`${registerPassword || loginPassword ? \"hasValue\" :\"\"}`} ref={c => this.registerPassword = c} onChange={() => this.setState({registerPassword:this.registerPassword.value})}/>\r\n                                                <label>密码</label>\r\n                                            </div>\r\n                                        </div> :\r\n                                        <div>\r\n                                            <div className=\"input\">\r\n                                                <input type=\"text\" className={`${loginEmail || registerEmail? \"hasValue\" :\"\"}`}  ref={c => this.loginEmail = c} onChange={() => this.setState({loginEmail:this.loginEmail.value})}/>\r\n                                                <label>邮箱</label>\r\n                                            </div>\r\n                                            <div className=\"input\">\r\n                                                <input type=\"password\" className={`${loginPassword || registerPassword? \"hasValue\" :\"\"}`} ref={c => this.loginPassword = c} onChange={() => this.setState({loginPassword:this.loginPassword.value})}/>\r\n                                                <label >密码</label>\r\n                                            </div>\r\n                                        </div>\r\n                                }\r\n                                <button type=\"button\" onClick={this.handleForm()}>{active === \"login\" ? \"登录\" : \"注册\"}</button>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n        );\r\n    }\r\n}\r\n\r\nexport default Login;","import React, {Component} from 'react';\r\nimport {Result} from \"antd\";\r\nimport {LoadingOutlined} from \"@ant-design/icons\";\r\n\r\nclass Loading extends Component {\r\n\trender() {\r\n\t\treturn (\r\n\r\n\t\t\t<div style={{\r\n\t\t\t\theight:'100vh',\r\n\t\t\t\tdisplay:'flex',\r\n\t\t\t\tflexDirection:'column',\r\n\t\t\t\tjustifyContent:'space-around'\r\n\t\t\t}}>\r\n\t\t\t\t<Result\r\n\t\t\t\t\ticon={<LoadingOutlined />}\r\n\t\t\t\t\tsubTitle='登录成功请稍后...'\r\n\t\t\t\t\ttitle=\"Loading...\"\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default Loading;","import React, {Component} from 'react';\nimport Controller from \"./components/Controller\";\nimport {BrowserRouter} from \"react-router-dom\";\nimport 'antd/dist/antd.css'\n// import Test from \"./Test\"\nclass App extends Component {\n    render() {\n        return (\n            <div>\n                <BrowserRouter>\n                    <Controller/>\n                </BrowserRouter>\n\n                {/*<Login/>*/}\n               {/*<Leanote/>*/}\n            </div>\n        );\n    }\n}\n\nexport default App;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport {Provider} from \"react-redux\";\nimport store from \"./redux/store\";\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n    <Provider store={store}>\n        <App />\n    </Provider>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","import axios from \"axios\";\r\nimport qs from \"qs\";\r\n    let request =  (url,data={},method=\"post\") => {\r\n        return new Promise((resolve,reject) => {\r\n\r\n            data = qs.stringify(data,{encoder:function (str, defaultEncoder, charset, type){\r\n                    if (type === 'value' || type === 'key') return encodeURIComponent(str);;\r\n            }})\r\n            // console.log(data);\r\n            axios.request({\r\n                // url:'/watish/api/auth/login?email=1057143786@qq.com&pwd=123456',\r\n                // url:`/watish/api/${url}`,\r\n                // url:`/api/${url}`,\r\n                url:`./api/${url}`,\r\n                data,\r\n                method,\r\n                timeout:10000\r\n            }).then(value => {\r\n                resolve(value.data)\r\n            },reason => {\r\n                reject({status:false});\r\n            })\r\n        })\r\n    }\r\n    let synchronizedRequest = requestArray => {\r\n        let synchronizedResult = requestArray.map(async ele =>{\r\n            return await request(ele.url,ele.data,ele.method)\r\n        })\r\n        return new Promise((resolve, reject) => {\r\n            Promise.all(synchronizedResult).then(value => {\r\n                resolve(value)\r\n            },reason => {\r\n                reject({status:false})\r\n            })\r\n        })\r\n\r\n    }\r\nexport {request,synchronizedRequest}"],"sourceRoot":""}