{"version":3,"sources":["components/Controller/Leanote/Braft/index.js","redux/actions/updateTagListAction.js","components/Controller/Leanote/MyHeader/index.js","components/Controller/Leanote/Form/FromNoteBook/index.js","components/Controller/Leanote/index.js","static/images/logo/Logo.png"],"names":["BraftEditor","use","CodeHighlighter","includeEditors","syntaxs","name","syntax","MyBraftEditor","state","editorState","createEditorState","NoteInfoList","currentNote","submitContent","a","console","log","hasOwnProperty","message","warn","loading","content","key","htmlContent","IsMarkdown","Content","toHTML","request","token","props","Token","NoteId","result","duration","success","UpdatedTime","PubSub","publish","type","NoteInfo","setState","handleEditorChange","html","onMarkDownChange","value","target","myUploadFn","param","xhr","XMLHttpRequest","formData","FormData","progressFn","event","progress","loaded","total","successFn","response","JSON","parse","url","src","meta","id","title","file","upload","addEventListener","onreadystatechange","status","append","open","send","moment","Date","now","format","btn","size","onClick","notification","close","setTimeout","description","icon","BulbOutlined","subscribe","msg","data","filter","ele","find","noteId","this","NoteList","unsubscribe","className","style","display","padding","width","height","TextArea","onChange","placeholder","minHeight","maxHeight","rehypePlugins","rehypeHighlight","excludeControls","onSave","media","uploadFn","Component","addTagListAction","TagListOrSingleTag","deleteTagListAction","MyPageHeader","subTitle","CreatedTime","Tags","parentTitle","NotebookId","Usn","inputVisible","inputValue","editInputIndex","editInputValue","hasGiveTagInformation","handleClose","removedTag","TagList","TagObj","Tag","currentNewTags","tag","synchronizedRequest","usn","method","length","showInput","input","focus","handleInputChange","e","handleInputConfirm","indexOf","info","handleEditInputChange","handleEditInputConfirm","newTags","saveInputRef","saveEditInputRef","editInput","extra","SaveOutlined","column","Item","label","alignItems","map","index","ref","onBlur","onPressEnter","isLongTag","tagElem","closable","onClose","onDoubleClick","preventDefault","slice","PlusOutlined","connect","Option","Select","FromNoteBookForm","handleOnFinish","values","onFinish","NoteBookList","layout","hideRequiredMark","initialValues","gutter","span","rules","required","showSearch","optionFilterProp","filterOption","option","children","toLowerCase","Title","mode","TagId","showTime","float","htmlType","onCancel","marginRight","Header","Layout","Sider","SubMenu","Menu","Leanote","collapsed","userToken","loadingNoteBooksInfo","isLoading","headerNoteBookTitle","TrashList","currentNoteNavList","willHandleDropDownName","currentNoteInfo","NoteModalVisible","NoteBookModalVisible","currentNoteBookInfo","isGettingData","isUsingTagNav","isSearchingNote","isSearching","currentNoteNavListCache","createNoteVisible","createNoteBookVisible","content_style","left_container","scroll","left","right_container","draggable","preClientX","currentWidth","isUsingLeftContainer","hasGiveAddNoteInformation","NoteItemNavMenu","Note","EditOutlined","handleClickNoteItemDropDown","DeleteOutlined","menu","NoteBook","handleClickLeftNavItemDropDown","TagDropDown","handleClickLeftTagNavDropDown","NoteListNav","ItemGroup","SortAscendingOutlined","SortDescendingOutlined","getData","clearAllTagAction","IsDeleted","i","notebookId","notes","IsTrash","window","confirm","Ok","forEach","Notebook","note","push","handleModal","currentValue","changeNoteBookOrNoteNameInput","defaultValue","willUpdateObj","currentObj","handleModalRequest","HeaderChangePubSub","handleClickLeftNavItem","handleClickTagNav","handleNoteListItem","handleFindNote","timer","setInterval","searchNoteName","clearInterval","handleSearchNoteBook","searchNoteBookName","handleFormFinish","handleFormRequest","handleCreateNote","handleCreateNoteBookModal","createNoteBookName","HandleDeleteTrash","OK","handleOnMouseDown","clientX","dragDivideLine","tempLength","Modal","visible","footer","FromNoteBook","onOk","okText","cancelText","backgroundColor","c","collapsible","onCollapse","alt","theme","CopyOutlined","placement","marginTop","marginBottom","paddingLeft","justifyContent","PlusSquareOutlined","color","overlay","trigger","textAlign","lineHeight","TagOutlined","TeamOutlined","margin","onMouseMove","onMouseUp","arrow","UnorderedListOutlined","SmileOutlined","transition","onMouseDown"],"mappings":"0mBAsCAA,IAAYC,IAAIC,IAAgB,CAC5BC,eAAgB,CAAC,mCAErBH,IAAYC,IAAIC,IArBA,CACZE,QAAS,CACL,CACIC,KAAM,aACNC,OAAQ,cACT,CACCD,KAAM,OACNC,OAAQ,QACT,CACCD,KAAM,MACNC,OAAQ,OACT,CACCD,KAAM,OACNC,OAAQ,Y,IASdC,E,4MAEFC,MAAQ,CAEJC,YAAaT,IAAYU,kBAAkB,MAC3CC,aAAa,GACbC,YAAY,I,EA4FhBC,c,sBAAgB,oCAAAC,EAAA,2DACoB,EAAKN,MAAhCI,EADO,EACPA,YAAYH,EADL,EACKA,YACjBM,QAAQC,IAAI,6CAAUJ,GACjBA,EAAYK,eAAe,UAHpB,uBAIRC,IAAQC,KAAK,oDAJL,iCAOZD,IAAQE,QAAQ,CAAEC,QAAS,wBAAUC,IAAI,WAErCC,EAAcX,EAAYY,WAAaZ,EAAYa,QAAUhB,EAAYiB,SATjE,mBAeOC,YAAQ,kBAAkB,CAACC,MAAM,EAAKC,MAAMC,MAAMC,OAAOnB,EAAYmB,OAAON,QAAQF,IAf3F,QAeRS,EAfQ,OAgBRjB,QAAQC,IAAI,6CAAUgB,GAGlBA,EAAOf,eAAe,MAetBC,IAAQC,KAAK,CAACE,QAAQ,yDAAYC,IAAI,SAASW,SAAS,KAdxDf,IAAQgB,QAAQ,CAACb,QAAQ,2BAAOC,IAAI,SAASW,SAAS,IAEtDrB,EAAYuB,YAAcH,EAAOG,YACjCvB,EAAYa,QAAUF,EAEtBa,IAAOC,QAAQ,aAAazB,GAE5BwB,IAAOC,QAAQ,WAAW,CACtBC,KAAK,SACLC,SAAS3B,IAEb,EAAK4B,SAAS,CAAC5B,iBA/BX,kDAqCRG,QAAQC,IAAR,MACI,KAAEC,eAAe,UACjBC,IAAQC,KAAK,CAACE,QAAQ,2BAAOC,IAAI,SAASW,SAAS,IAEnDf,IAAQC,KAAK,CAACE,QAAQ,4BAAQC,IAAI,SAASW,SAAS,IAzChD,0D,EAgDhBQ,mBAAqB,SAAChC,GAClB,IAAIiC,EAAOjC,EAAYiB,SAEX,YAATgB,GACC,EAAKF,UAAS,YAAoB,IAAlB5B,EAAiB,EAAjBA,YAEZ,OADAA,EAAYa,QAAUiB,EAChB,CACFjC,cACAG,mB,EAMhB+B,iBAAmB,YAA4B,IAAfC,EAAc,EAAxBC,OAAUD,MAC5B,EAAKJ,UAAS,YAAoB,IAAlB5B,EAAiB,EAAjBA,YAEZ,OADAA,EAAYa,QAAUmB,EACf,CAAChC,mB,EA6ChBkC,W,uCAAa,WAAMC,GAAN,qBAAAjC,EAAA,sDACS,yBACZkC,EAAM,IAAIC,eAEVC,EAAW,IAAIC,SACrBpC,QAAQC,IAAI+B,GACNK,EAAa,SAACC,GAEhBN,EAAMO,SAASD,EAAME,OAASF,EAAMG,MAAQ,MAE1CC,EAAY,SAACC,GACfA,EAAWC,KAAKC,MAAMF,GAGtBX,EAAMb,QAAQ,CACV2B,IAAKH,EAASI,IACdC,KAAM,CACFC,GAAIN,EAASM,GACbC,MAAOlB,EAAMmB,KAAK7D,SAI9B2C,EAAImB,OAAOC,iBAAiB,WAAYhB,GAAY,GACpDJ,EAAIqB,mBAAqB,WACF,MAAfrB,EAAIsB,QACJb,EAAUT,EAAIU,WAGtBR,EAASqB,OAAO,MAAMxB,EAAMmB,MAC5BhB,EAASqB,OAAO,QAAQ,EAAK1C,MAAMC,OACnCkB,EAAIwB,KAAK,OA7BS,0BA6BU,GAC5BxB,EAAIyB,KAAKvB,GA/BA,4C,oJAvMb,qCAAApC,EAAA,sDACIC,QAAQC,IAAI0D,IAAOC,KAAKC,OAAOC,OAAO,wBAChCvD,EAFV,cAEuBqD,KAAKC,OAClBE,EACF,cAAC,IAAD,CAAQxC,KAAK,UAAUyC,KAAK,QAAQC,QAAS,kBAAMC,IAAaC,MAAM5D,IAAtE,0BAIJ6D,YAAW,WACPF,IAAaT,KAAK,CACdtD,QAAS,eACTe,SAAS,EACTmD,YACI,gNACJN,MACAxD,MACA+D,KAAK,cAACC,EAAA,EAAD,QAEX,KACFlD,IAAOmD,UAAU,WAAjB,uCAA4B,WAAOC,EAAIC,GAAX,yBAAA3E,EAAA,wDACoB,EAAKN,MAA7CG,EADoB,EACpBA,aAAaC,EADO,EACPA,YAAYH,EADL,EACKA,YACzBgB,EAAU,KAFU,KAGhBgE,EAAKnD,KAHW,OAIf,UAJe,OA6Cf,YA7Ce,2BAOZ1B,GAAeA,EAAYK,eAAe,WAAaL,EAAYmB,SAAW0D,EAAKlD,SAASR,SAC5FhB,QAAQC,IAAI,8CACZL,EAAY,sBAAOA,EAAa+E,QAAO,SAAAC,GAAG,OAAIA,EAAI5D,SAAWnB,EAAYmB,WAA7D,CAAqEnB,IACjF,EAAK4B,SAAS,CAAC7B,oBAEnBC,EAAcD,EAAaiF,MAAK,SAAAD,GAAG,OAAIA,EAAI5D,SAAW0D,EAAKlD,SAASR,aAClDnB,EAAYK,eAAe,WAb7B,iBAeZR,EAAcT,IAAYU,kBAAkBE,EAAYa,SAf5C,yCAiBOE,YAAQ,sBAAuB,CAC9CC,MAAO,EAAKC,MAAMC,MAClB+D,OAAQJ,EAAKlD,SAASR,QACvB,QApBS,SAiBRC,EAjBQ,QAqBAf,eAAe,MASvBC,IAAQC,KAAK,0CAPbJ,QAAQC,IAAIgB,GACZP,EAA6B,KAAnBO,EAAOP,QAAiB,KAAOO,EAAOP,SAChDb,EAAc6E,EAAKlD,UACPd,QAAUA,EACtBhB,EAAcT,IAAYU,kBAAkBe,IA3BpC,eAiChB,EAAKe,SAAS,CACV5B,cACAH,gBAnCY,8CA8CV,EAAKI,gBA9CK,4CAA5B,yDAyDAiF,KAAKtD,SAAS,CAAC7B,aAAamF,KAAKjE,MAAMkE,WA5E3C,gD,wFAkFA,WACI3D,IAAO4D,YAAY,c,oBAyLvB,WACI,MAAoCF,KAAKtF,MAAjCC,EAAR,EAAQA,YAAYG,EAApB,EAAoBA,YAChBY,EAAaZ,EAAYY,WAC7B,OACI,qBAAKyE,UAAU,gBAAf,SAEQzE,EACI,sBAAK0E,MAAO,CACRC,QAAQ,OACRC,QAAQ,GACRC,MAAM,QAHV,UAKI,qBAAKH,MAAO,CAACG,MAAM,MAAMC,OAAO,uBAAhC,SACI,cAACC,EAAA,EAAD,CACI3D,MAAOhC,EAAYa,QACnB+E,SAAUV,KAAKnD,iBACf8D,YAAa7F,EAAYa,QAAUb,EAAYa,QAAU,YACzDyE,MAAO,CAACI,OAAO,OAAOI,UAAU,sBAAsBC,UAAU,2BAIxE,qBAAKV,UAAU,oBAAf,SACI,qBAAKA,UAAU,WAAf,SACI,cAAC,IAAD,CACIW,cAAe,CAACC,KADpB,SAGKjG,EAAYa,iBAKnB,8BACN,cAAC,IAAD,CACImB,MAAOnC,EACPqG,gBAAiB,CAAC,SAClBN,SAAUV,KAAKrD,mBACfsE,OAAQjB,KAAKjF,cACbmD,GAAG,+BACHgD,MAAO,CAACC,SAASnB,KAAKhD,sB,GA3T1BoE,aAuUb3G,I,qCCjXF4G,GAAmB,SAAAC,GAAkB,MAAK,CAAC9E,KAAK,MAAM8E,uBACtDC,GAAsB,SAAAD,GAAkB,MAAK,CAAC9E,KAAK,SAAS8E,uBCQnEE,I,mNAEF9G,MAAQ,CACJ+B,SAAS,CACLgF,SAAS,GACTC,YAAY,GACZrF,YAAY,GAEZsF,KAAK,GACLC,YAAY,GAEZ3F,OAAO,GACP4F,WAAW,GACXC,IAAI,GAGRC,cAAc,EACdC,WAAY,GACZC,gBAAiB,EACjBC,eAAgB,GAEhBC,uBAAsB,G,EA6C1BC,Y,uCAAc,WAAMC,GAAN,qCAAArH,EAAA,2DAC6B,EAAKN,MAAvC+B,EADK,EACLA,SAAS0F,EADJ,EACIA,sBACTlG,EAAmBQ,EAAnBR,OAAO0F,EAAYlF,EAAZkF,KAAKG,EAAOrF,EAAPqF,IACZQ,EAAW,EAAKvG,MAAhBuG,QAEDC,EAASD,EAAQxC,MAAK,SAAAD,GAAG,OAAIA,EAAI2C,MAAQH,KAEzCI,EAAiBd,EAAK/B,QAAO,SAAA8C,GAAG,OAAIA,IAAQL,KAGhDpH,QAAQC,IAAIuH,GAVF,UAaFF,EAbE,kCAcaI,YAAoB,CAC/B,CAAC5E,IAAI,gBAAgB4B,KAAK,CAAC+C,IAAIL,EAAWvG,MAAM,EAAKC,MAAMC,MAAM4G,IAAIL,EAAOT,KAAKe,OAAO,QACxF,CAAC9E,IAAI,kBAAkB4B,KAAK,CAACgC,KAAK,YAAgC,IAA1Bc,EAAeK,OAAe,CAAC,IAAML,GAAiB3G,MAAM,EAAKC,MAAMC,MAAMC,SAAO6F,OAAKe,OAAO,UAhB1I,QAcF3G,EAdE,OAkBFO,EAASqF,IAAM5F,EAAO,GAAG4F,IACzBrF,EAASJ,YAAcH,EAAO,GAAGG,YAnB/B,yCAsBaR,YAAQ,kBAAkB,CAAC8F,KAAK,YAAgC,IAA1Bc,EAAeK,OAAe,CAAC,IAAML,GAAiB3G,MAAM,EAAKC,MAAMC,MAAMC,SAAO6F,QAtBvI,QAsBF5F,EAtBE,eA0BNjB,QAAQC,IAAI,0CAAYgB,GACnBA,EAAOf,eAAe,MAwBvBC,IAAQC,KAAK,4DAtBboB,EAASkF,KAAOc,EAEXN,IACK3G,EADiB,cACJqD,KAAKC,OAClBE,EACF,cAAC,IAAD,CAAQxC,KAAK,UAAUyC,KAAK,QAAQC,QAAS,kBAAMC,IAAaC,MAAM5D,IAAtE,0BAIJ2D,IAAaT,KAAK,CACdtD,QAAS,eACTe,SAAS,EACTmD,YACI,6QACJN,MACAxD,SAGR,EAAKkB,SAAS,CAACD,WAAS0F,uBAAsB,IAC9C7F,IAAOC,QAAQ,aAAaE,IAhD1B,kDAsDNxB,QAAQC,IAAR,MACAE,IAAQC,KAAK,2DAvDP,0D,wDA2Dd0H,UAAY,WACR,EAAKrG,SAAS,CAAEqF,cAAc,IAAQ,kBAAM,EAAKiB,MAAMC,Y,EAG3DC,kBAAoB,SAAAC,GAChB,EAAKzG,SAAS,CAAEsF,WAAYmB,EAAEpG,OAAOD,S,EAMzCsG,mB,sBAAqB,0CAAApI,EAAA,2DACW,EAAKN,MAA5B+B,EADY,EACZA,SAASuF,EADG,EACHA,WACT/F,EAAmBQ,EAAnBR,OAAO0F,EAAYlF,EAAZkF,KAAKG,EAAOrF,EAAPqF,IACZQ,EAAW,EAAKvG,MAAhBuG,SACDN,IAA4C,IAA9BL,EAAK0B,QAAQrB,GAJd,0CAOUW,YAAoB,CACnC,CAAC5E,IAAI,aAAa4B,KAAK,CAAC+C,IAAIV,EAAWlG,MAAM,EAAKC,MAAMC,OAAO6G,OAAO,QACtE,CAAC9E,IAAI,kBAAkB4B,KAAK,CAACgC,KAAK,GAAD,mBAAMA,GAAN,CAAWK,IAAYlG,MAAM,EAAKC,MAAMC,MAAMC,SAAO6F,OAAKe,OAAO,UAT7F,OAOL3G,EAPK,OAYTO,EAASJ,YAAcH,EAAO,GAAGG,YAE5BH,EAAOf,eAAe,QACvBF,QAAQC,IAAIgB,GAEZyF,EAAI,sBAAOA,GAAP,CAAaK,IAEbM,EAAQxC,MAAK,SAAAD,GAAG,OAAIA,EAAI2C,MAAQR,MAChC,EAAKjG,MAAMsF,iBAAiB,CAACnF,EAAO,KAExCO,EAASkF,KAAOA,EAChB,EAAKjF,SAAS,CACVD,cAxBC,kDA4BTrB,IAAQC,KAAK,0DA5BJ,gCA+BbD,IAAQkI,KAAK,0DA/BA,QAiCjBhH,IAAOC,QAAQ,aAAaE,GAC5BH,IAAOC,QAAQ,eAAeE,GAE9B,EAAKC,SAAS,CACVqF,cAAc,EACdC,WAAY,KAtCC,0D,EA0CrBuB,sBAAwB,SAAAJ,GACpB,EAAKzG,SAAS,CAAEwF,eAAgBiB,EAAEpG,OAAOD,S,EAG7C0G,uBAAyB,WACrB,EAAK9G,UAAS,YAAmD,IAAhDD,EAA+C,EAA/CA,SAAUwF,EAAqC,EAArCA,eAAgBC,EAAqB,EAArBA,eACjCuB,EAAO,YAAOhH,EAASkF,MAG7B,OAFA8B,EAAQxB,GAAkBC,EAC1BzF,EAASkF,KAAO8B,EACT,CACHhH,WACAwF,gBAAiB,EACjBC,eAAgB,Q,EAK5BwB,aAAe,SAAAV,GACX,EAAKA,MAAQA,G,EAGjBW,iBAAmB,SAAAX,GACf,EAAKY,UAAYZ,G,uDAjLrB,WAAqB,IAAD,OAChB1G,IAAOmD,UAAU,YAAW,SAACC,EAAIC,GAC7B,IAAIlD,EAAY,EAAK/B,MAAjB+B,SACJ,OAAQkD,EAAKnD,MACT,IAAK,QACD,EAAKE,SAAS,CAACD,SAASkD,EAAKlD,WAC7B,MACJ,IAAK,SAED,GAAGA,GAAYA,EAASR,SAAW0D,EAAKlD,SAASR,OAAO,CACpDhB,QAAQC,IAAI,yBAAyBuB,GACrC,MAAgCkD,EAAKlD,SAAjCJ,EAAJ,EAAIA,YAAYoF,EAAhB,EAAgBA,SAASK,EAAzB,EAAyBA,IAGzBrF,EAAQ,2BAAOA,GAAP,IAAgBJ,cAAYoF,WAASK,QAC7C,EAAKpF,SAAS,CAACD,aAUnB,MACJ,IAAK,MACD,EAAKC,SAAS,CAACD,SAAS,W,kCAIxC,WACIH,IAAO4D,YAAY,YACnBF,KAAKtD,SAAS,IAAG,WACb,OAAO,O,oBAmJf,WAAU,IAAD,OACL,EAA0EsD,KAAKtF,MAA3E+B,EAAJ,EAAIA,SAAUsF,EAAd,EAAcA,aAAcC,EAA5B,EAA4BA,WAAYC,EAAxC,EAAwCA,eAAgBC,EAAxD,EAAwDA,eACpDT,EAAqDhF,EAArDgF,SAASC,EAA4CjF,EAA5CiF,YAAYrF,EAAgCI,EAAhCJ,YAAYuF,EAAoBnF,EAApBmF,YAAYD,EAAQlF,EAARkF,KACjD,OACI,sBAAKxB,UAAU,gBAAf,UACI,cAAC,IAAD,CACIA,UAAU,mBACVhC,MAAOyD,GAA6B,YACpCH,SAAUA,GAAsB,UAChCrB,MAAO,CACHI,OAAO,IACPF,QAAQ,YAEZuD,MAAO,CACH,cAAC,IAAD,CAAmBtE,KAAM,cAACuE,EAAA,EAAD,IAAkB5E,QAAS,kBAAM5C,IAAOC,QAAQ,WAAW,CAACC,KAAK,aAA1F,yBAAY,SATpB,SAcI,eAAC,IAAD,CAAcyC,KAAK,QAAQ8E,OAAQ,EAAnC,UACI,cAAC,IAAaC,KAAd,CAAmBC,MAAM,cAAzB,SAAwCvC,EAAc9C,IAAO8C,GAAa3C,OAAO,uBAAyB,KAC1G,cAAC,IAAaiF,KAAd,CAAmBC,MAAM,cAAzB,SAAwC5H,EAAcuC,IAAOvC,GAAa0C,OAAO,uBAAyB,UAGjH6C,EAAc,sBAAKxB,MAAO,CACvBC,QAAQ,OACR6D,WAAW,SACX3D,MAAM,OACND,QAAQ,SACRE,OAAO,IALI,UAQVmB,EAAKwC,KAAI,SAACzB,EAAK0B,GACZ,GAAInC,IAAmBmC,EACnB,OACI,cAAC,IAAD,CACIC,IAAK,EAAKV,iBAEV1E,KAAK,QACLkB,UAAU,YACVrD,MAAOoF,EACPxB,SAAU,EAAK6C,sBACfe,OAAQ,EAAKd,uBACbe,aAAc,EAAKf,wBANdd,GAWjB,IAAM8B,EAAY9B,EAAII,OAAS,GACzB2B,EACF,cAAC,IAAD,CACItE,UAAU,WAEVuE,UAAU,EACVC,QAAS,kBAAM,EAAKvC,YAAYM,IAJpC,SAMM,sBACIkC,cAAe,SAAAzB,GACG,IAAViB,IACA,EAAK1H,SAAS,CAAEuF,eAAgBmC,EAAOlC,eAAgBQ,IAAO,WAC1D,EAAKkB,UAAUX,WAEnBE,EAAE0B,mBANd,SAUGL,EAAS,UAAM9B,EAAIoC,MAAM,EAAG,IAAnB,OAA8BpC,KAdvCA,GAkBb,OAAO8B,EACH,cAAC,IAAD,CAASrG,MAAOuE,EAAhB,SACK+B,GADqB/B,GAI1B+B,KAGP1C,GACG,cAAC,IAAD,CACIsC,IAAKrE,KAAK0D,aACVlH,KAAK,OACLyC,KAAK,QACLkB,UAAU,YACVrD,MAAOkF,EACPtB,SAAUV,KAAKkD,kBACfoB,OAAQtE,KAAKoD,mBACbmB,aAAcvE,KAAKoD,sBAGzBrB,GACE,eAAC,IAAD,CAAK5B,UAAU,gBAAgBjB,QAASc,KAAK+C,UAA7C,UACI,cAACgC,GAAA,EAAD,IADJ,iBAIC,oC,GA3SE3D,cAmTZ4D,gBAAQ,SAAAtK,GAAK,MAAK,CAAC4H,QAAQ5H,EAAM4H,WAAU,CAEtDf,uBACAF,qBAHW2D,CAKZxD,I,kDC/TKyD,GAAWC,KAAXD,OACFE,G,4MACFC,e,uCAAiB,WAAOC,GAAP,SAAArK,EAAA,sDAMRqK,EAAO1D,OAAM0D,EAAO1D,KAAO,CAAC,KACjC,EAAK5F,MAAMuJ,SAASD,GAPP,2C,kGAUjB,WAEI,MAA4BrF,KAAKjE,MAA7BwJ,EAAJ,EAAIA,aAAajD,EAAjB,EAAiBA,QACjB,OACI,eAAC,KAAD,CAAMkD,OAAO,WACPC,kBAAgB,EAChBC,cAAe,CAAC,KAAO,YACvBJ,SAAUtF,KAAKoF,eAHrB,UAKI,eAAC,KAAD,CAAKO,OAAQ,GAAb,UACI,cAAC,KAAD,CAAKC,KAAM,GAAX,SACI,cAAC,KAAK5B,KAAN,CACIzJ,KAAK,aACL0J,MAAM,iCACN4B,MAAO,CAAC,CAAEC,UAAU,EAAM1K,QAAS,qDAHvC,SAKI,cAAC,KAAD,CACI2K,YAAU,EACV3F,MAAO,CAAEG,MAAO,KAChBI,YAAY,iCACZqF,iBAAiB,WAKjBC,aAAc,SAACjD,EAAOkD,GAAR,OACVA,EAAOC,SAASC,cAAc/C,QAAQL,EAAMoD,gBAAkB,GAVtE,SAcQb,EAAapB,KAAI,SAAAtE,GACb,OAAQ,cAACoF,GAAD,CAA6BnI,MAAO+C,EAAIgC,WAAxC,SAAqDhC,EAAIwG,OAA5CxG,EAAIgC,qBAQ7C,cAAC,KAAD,CAAK+D,KAAM,GAAX,SACI,cAAC,KAAK5B,KAAN,CACIzJ,KAAK,QACL0J,MAAM,2BACN4B,MAAO,CAAC,CAAEC,UAAU,EAAM1K,QAAS,+CAHvC,SAKI,cAAC,IAAD,CAAOuF,YAAY,yDAI/B,eAAC,KAAD,CAAKgF,OAAQ,GAAb,UACI,cAAC,KAAD,CAAKC,KAAM,GAAX,SACI,cAAC,KAAK5B,KAAN,CACIzJ,KAAK,OACL0J,MAAM,2BACN4B,MAAO,CAAC,CAAEC,UAAU,EAAM1K,QAAS,6EAHvC,SAKI,eAAC,KAAD,WACI,cAAC6J,GAAD,CAAQnI,MAAM,SAAd,sCACA,cAACmI,GAAD,CAAQnI,MAAM,WAAd,6BAIZ,cAAC,KAAD,CAAK8I,KAAM,GAAX,SACI,cAAC,KAAK5B,KAAN,CACIzJ,KAAK,OACL0J,MAAM,eAFV,SAKI,cAAC,KAAD,CAAQqC,KAAK,OAAOlG,MAAO,CAAEG,MAAO,QAAUI,YAAY,qEAA1D,SACK2B,EAAQ6B,KAAI,SAAAtE,GACT,OACI,cAACoF,GAAD,CAAwBnI,MAAO+C,EAAI2C,IAAnC,SAAyC3C,EAAI2C,KAAhC3C,EAAI0G,mBAOzC,cAAC,KAAD,CAAKZ,OAAQ,GAAb,SACI,cAAC,KAAD,CAAKC,KAAM,GAAX,SACI,cAAC,KAAK5B,KAAN,CACIzJ,KAAK,cACL0J,MAAM,eACN4B,MAAO,CACH,CACIC,UAAU,EAAK1K,QAAQ,gDALnC,SASI,cAAC,KAAD,CAAYoL,UAAQ,EAACpG,MAAO,CAACG,MAAM,gBAmB/C,cAAC,KAAD,CAAKoF,OAAQ,GAAb,SACI,cAAC,KAAD,CAAKC,KAAM,GAAX,SACI,cAAC,KAAK5B,KAAN,UACI,sBAAK5D,MAAO,CACRqG,MAAM,SADV,UAGI,cAAC,IAAD,CAAQC,SAAS,SAASxH,QAASc,KAAKjE,MAAM4K,SAAWvG,MAAO,CAAEwG,YAAa,QAA/E,0BAGA,cAAC,IAAD,CAAQpK,KAAK,UAAUkK,SAAS,SAAhC,0C,GAhIDtF,aA4IhB+D,MC3HP0B,I,OAA2BC,IAA3BD,QAAQlL,GAAmBmL,IAAnBnL,QAASoL,GAAUD,IAAVC,MACjBC,GAAYC,IAAZD,QAGFE,G,4MACFxM,MAAQ,CACJyM,WAAW,EAEXC,UAAU,GAGVC,qBAAsB,CAACC,WAAU,EAAK9I,QAAO,EAAKkB,IAAI,IAEtDO,SAAS,GACTsF,aAAa,GACbgC,oBAAoB,GAGpBC,UAAU,GAEVC,mBAAmB,GAGnBC,uBAAuB,GAGvBC,gBAAgB,GAEhBC,kBAAiB,EAGjBC,sBAAqB,EACrBC,oBAAoB,GAEpBC,eAAc,EAEdC,eAAc,EAGdC,iBAAgB,EAChBC,aAAY,EAEZC,wBAAwB,GAExBC,mBAAkB,EAElBC,uBAAsB,EAKtBC,cAAc,CACVC,eAAiB,CACbhI,MAAO,KAEXiI,OAAS,CACLC,KAAK,KAETC,gBAAkB,CACdnI,MAAO,uBAIfoI,WAAU,EACVC,WAAW,EAEXC,aAAa,EAEbC,sBAAqB,EAGrBC,2BAA0B,G,EAM9BC,gBAAkB,SAAAC,GACd,OACI,eAAC,IAAD,WACI,cAAC,IAAKjF,KAAN,CAAmBzE,KAAM,cAAC2J,EAAA,EAAD,IAAkBhK,QAAS,EAAKiK,4BAA4B,SAASF,GAA9F,mBAAe,KAGf,cAAC,IAAKjF,KAAN,CAAmBzE,KAAM,cAAC6J,EAAA,EAAD,IAAoBlK,QAAS,EAAKiK,4BAA4B,SAASF,GAAhG,mBAAe,S,EAO3BI,KAAO,SAAAC,GACH,OACI,eAAC,IAAD,WACI,cAAC,IAAKtF,KAAN,CAAmBzE,KAAM,cAAC2J,EAAA,EAAD,IAAkBhK,QAAS,EAAKqK,+BAA+B,SAASD,GAAjG,mBAAe,KAGf,cAAC,IAAKtF,KAAN,CAAmBzE,KAAM,cAAC6J,EAAA,EAAD,IAAoBlK,QAAS,EAAKqK,+BAA+B,SAASD,GAAnG,mBAAe,S,EAO3BE,YAAc,SAAAjH,GACV,OACI,cAAC,IAAD,UACI,cAAC,IAAKyB,KAAN,CAA2BzE,KAAM,cAAC6J,EAAA,EAAD,IAAoBlK,QAAS,EAAKuK,8BAA8BlH,GAAjG,mBAAe,gB,EAQ3BmH,YAAc,WACV,OACI,eAAC,IAAD,CAAMpD,KAAK,WAAX,UAEI,eAAC,IAAKqD,UAAN,CAAiBxJ,UAAU,mBAA3B,UACI,cAAC,IAAK6D,KAAN,CAAiC7D,UAAU,kBAAkBZ,KAAM,cAACqK,EAAA,EAAD,IAAnE,qCAAe,mBAIf,cAAC,IAAK5F,KAAN,CAAgC7D,UAAU,kBAAmBZ,KAAM,cAACsK,EAAA,EAAD,IAAnE,qCAAe,qBAKnB,eAAC,IAAKF,UAAN,CAAiBxJ,UAAU,mBAA3B,UACI,cAAC,IAAK6D,KAAN,CAAgC7D,UAAU,mBAAmBZ,KAAM,cAACqK,EAAA,EAAD,IAAnE,qCAAe,kBAGf,cAAC,IAAK5F,KAAN,CAAiC7D,UAAU,kBAAkBZ,KAAM,cAACsK,EAAA,EAAD,IAAnE,qCAAe,0B,EAyD/BC,Q,sBAAU,oCAAA9O,EAAA,0DACF,EAAKN,MAAMqN,cADT,uBAEF3M,IAAQkI,KAAK,2DAFX,iCAKN,EAAK5G,SAAS,CAACqL,eAAc,IAE7B,EAAKhM,MAAMgO,kBAAkB,MAPvB,SAiEGvC,EAAY,GAjEf,SAoEc3L,YAAQ,kBAAmB,CAACC,MAAO,EAAKC,MAAMD,OAAQ,QApEpE,cAoEDI,EApEC,QAuEU4G,OAAS,IAChB5G,EAASA,EAAO0D,QAAO,SAAAC,GAAG,OAAKA,EAAImK,aACnC/O,QAAQC,IAAI,MAAMgB,GAClB,EAAKH,MAAMsF,iBAAiBnF,IA1E/B,UA6EcL,YAAQ,wBAAyB,CAACC,MAAO,EAAKC,MAAMD,OAAQ,QA7E1E,WA6EDI,EA7EC,OAgFGqJ,EAAerJ,EACf+D,EAAW,KAEX/D,EAAO4G,OAAS,GAnFnB,iBAwFYmH,EAAI,EAxFhB,aAwFkBA,EAAI1E,EAAazC,QAxFnC,kCAyFsBjH,YAAQ,gBAAiB,CAACC,MAAO,EAAKC,MAAMD,MAAOoO,WAAY3E,EAAa0E,GAAGpI,YAAa,QAzFlH,cAyFO3F,EAzFP,SA4FoBA,EAAO4G,QAAU,GA5FrC,wBA6FWyC,EAAa0E,GAAb,2BAAsB1E,EAAa0E,IAAnC,IAAuCE,MAAM,YAAIjO,EAAO0D,QAAO,SAAAC,GAAG,OAAKA,EAAIuK,cAC3E5C,EAAS,sBAAOA,GAAP,YAAoBtL,EAAO0D,QAAO,SAAAC,GAAG,OAAIA,EAAIuK,aACtDnK,EAAQ,sBAAOA,GAAP,YAAmB/D,IA/FtC,gCAkGOqJ,EAAa0E,GAAb,2BAAsB1E,EAAa0E,IAAnC,IAAuCE,MAAO,KAlGrD,QAwF2CF,IAxF3C,wBAoGGhP,QAAQC,IAAI,eAAeqK,GApG9B,QAsGD,EAAK7I,SAAS,CAAC0K,UAAU,EAAKrL,MAAMD,MAAMyJ,eAAatF,WAASoH,qBAAsB,CAACC,WAAW,EAAM9I,QAAQ,EAAKkB,IAAK,MAtGzH,kDAwGFzE,QAAQC,IAAR,MACA,EAAKwB,SAAS,CAAC2K,qBAAqB,CAACC,WAAU,EAAM9I,QAAO,EAAMkB,IAAI,+DACtEtE,IAAQC,KAAK,CAACE,QAAQ,4DAAeC,IAAI,UAAUW,SAAS,IA1G1D,QA4GH,EAAKzB,MAAM2M,qBAAqB7I,QAC/Ba,YAAW,WACP,EAAK3C,SAAS,CAACqL,eAAc,MAC/B,KA/GA,0D,EAiIVwB,+BAAiC,SAAC/M,EAAK8M,GACnC,6BAAO,4BAAAtO,EAAA,2DACKwB,EADL,OAEM,WAFN,OAiCM,WAjCN,2BAGKvB,QAAQC,IAAI,SAASoO,IACjBe,OAAOC,QAAQ,mCAJxB,wBAKSlP,IAAQE,QAAQ,CAAEC,QAAS,aAAaC,IAAI,mBALrD,SAM4BK,YAAQ,0BAA0B,CACjDqO,WAAWZ,EAASzH,WACpBe,IAAI0G,EAASxH,IACbhG,MAAM,EAAKpB,MAAM0M,WACnB,QAVX,OAMalL,EANb,OAWSjB,QAAQC,IAAIgB,GACRA,EAAOqO,IACP,EAAK7N,UAAS,YAAyF,IAAvF6I,EAAsF,EAAtFA,aAAatF,EAAyE,EAAzEA,SAAS6H,EAAgE,EAAhEA,oBAAoBL,EAA4C,EAA5CA,mBAAmBF,EAAyB,EAAzBA,oBAOzE,OANAhC,EAAgBA,EAAa3F,QAAO,SAAAC,GAAG,OAAIA,EAAIgC,aAAeyH,EAASzH,cACvE5B,EAAWA,EAASL,QAAO,SAAAqJ,GAAI,OAAIA,EAAKpH,aAAeyH,EAASzH,cAC5DyH,EAASY,aAAepC,EAAoBjG,YAAsC,IAAxB0D,EAAazC,SACvE2E,EAAqB,GACrBF,EAAsB,IAEnB,CACHE,qBACAxH,WACAsF,eACAgC,0BAGRnM,IAAQgB,QAAQ,CAAEb,QAAS,4BAASC,IAAI,iBAAkBW,SAAU,KAEpEf,IAAQC,KAAK,CAAEE,QAAS,0DAAcC,IAAI,iBAAkBW,SAAU,IA7BnF,mDAkCK,EAAKO,SAAS,CACVgL,uBAAuB4B,EAASjD,MAChCyB,oBAAoBwB,EACpBzB,sBAAqB,IAEzB5M,QAAQC,IAAI,SAASoO,GAvC1B,kE,EAmDXH,4BAA8B,SAAC3M,EAAKyM,GAChC,6BAAO,4BAAAjO,EAAA,2DACKwB,EADL,OAEM,WAFN,OAgCM,WAhCN,4BAGS6N,OAAOC,QAAQ,+FAHxB,wBAISrP,QAAQC,IAAI,6CAAU+N,GAJ/B,SAK4BpN,YAAQ,kBAAkB,CAACuO,SAAQ,EAAKtO,MAAM,EAAKpB,MAAM0M,UAAUnL,OAAOgN,EAAKhN,OAAO6F,IAAImH,EAAKnH,MAL3H,OAKa5F,EALb,OAMSjB,QAAQC,IAAIgB,GACPA,EAAOf,eAAe,MAqBvBC,IAAQC,KAAK,2DAnBb,EAAKqB,UAAS,YAA0D,IAAxD+K,EAAuD,EAAvDA,mBAAmBxH,EAAoC,EAApCA,SAASsF,EAA2B,EAA3BA,aAAaiC,EAAc,EAAdA,UAUrD,OARAC,EAAqBA,EAAmB7H,QAAO,SAAAC,GAAG,OAAIA,EAAI5D,SAAWgN,EAAKhN,UAC1EgE,EAAWA,EAASL,QAAO,SAAAC,GAAG,OAAIA,EAAI5D,SAAWgN,EAAKhN,UACtDsJ,EAAaiF,SAAQ,SAAAC,GACbxB,EAAKpH,aAAe4I,EAAS5I,aAC7B4I,EAASN,MAAQM,EAASN,MAAMvK,QAAO,SAAA8K,GAAI,OAAIA,EAAKzO,SAAWgN,EAAKhN,cAG5EuL,EAAUmD,KAAK1B,GACT,CACFzB,YACAjC,eACAtF,WACAwH,yBAGRrM,IAAQgB,QAAQ,6BA1B7B,mDAiCK,EAAKM,SAAS,CACVkL,kBAAiB,EACjBD,gBAAgBsB,EAChBvB,uBAAuBuB,EAAK5C,QAEhCpL,QAAQC,IAAI,SAAS+N,GAtC1B,kE,EAgDXQ,8BAAgC,SAAAlH,GAC5B,6BAAO,4BAAAvH,EAAA,sEACgBa,YAAQ,gBAAgB,CAACC,MAAM,EAAKpB,MAAM0M,UAAU1E,IAAIH,EAAOC,IAAII,IAAIL,EAAOT,MAD9F,OACC5F,EADD,OAIHjB,QAAQC,IAAIgB,GACTA,EAAOqO,IACNnP,IAAQgB,QAAQ,4BAChB,EAAKL,MAAMwF,oBAAoBgB,IAE/BnH,IAAQC,KAAK,0DATd,4C,EAqFXuP,YAAc,SAAApO,GACV,6BAAO,4CAAAxB,EAAA,2DACwE,EAAKN,MAA5E6K,EADD,EACCA,aAAauC,EADd,EACcA,oBAAoBL,EADlC,EACkCA,mBAAmBE,EADrD,EACqDA,gBAEnC,MADjBkD,EAAe,EAAKC,8BAA8B9H,MAAM+H,cAFzD,uBAIC3P,IAAQC,KAAK,+CAJd,+BAUKmB,EAVL,OAWM,aAXN,OAuBM,SAvBN,+BAYKA,EAAO,aACPwO,EAAgBzF,EAChB0F,EAAanD,EAEb5L,EAASL,YAAQ,0BAA0B,CACvCqO,WAAWe,EAAWpJ,WACtB1D,MAAM0M,EACNjI,IAAIqI,EAAWnJ,IACfhG,MAAM,EAAKpB,MAAM0M,YApB1B,oCAwBK5K,EAAO,SACPwO,EAAgBvD,EAChBwD,EAAatD,EAEbzL,EAASL,YAAQ,kBAAkB,CAC/BI,OAAOgP,EAAWhP,OAClB6F,IAAImJ,EAAWnJ,IACfuE,MAAMwE,EACN/O,MAAM,EAAKpB,MAAM0M,YAhC1B,8CAoCG,EAAK8D,mBAAmBF,EAAcC,EAAWJ,EAAa3O,EAAOM,GApCxE,6C,EAuCX0O,mB,uCAAqB,WAAOF,EAAcC,EAAWJ,EAAa3O,EAAOM,GAApD,SAAAxB,EAAA,yDACjBC,QAAQC,IAAI8P,IACRA,EAAclL,MAAK,SAAAD,GAAG,OAAKA,EAAImK,WAAanK,EAAIwG,QAAUwE,KAF7C,uBAGbzP,IAAQC,KAAK,2DAHA,0CAMFa,EANE,OAMjBA,EANiB,OAOjBjB,QAAQC,IAAI,eAAegB,GACtBA,EAAOf,eAAe,MASvBC,IAAQC,KAAK,2DAPb4P,EAAW5E,MAAQwE,EACnBI,EAAWnJ,IAAM5F,EAAO4F,IACxBmJ,EAAW5O,YAAcH,EAAOG,YAEhC2O,EAAa,sBAAOA,EAAcpL,QAAO,SAAAC,GAAG,OAAIA,EAAIrD,KAAUyO,EAAWzO,OAA5D,CAAmEyO,IAChF7P,IAAQgB,QAAQ,8BAfH,KAmBTI,EAnBS,OAoBR,eApBQ,QAuBR,WAvBQ,gCAqBT,EAAKE,SAAS,CAAC6I,aAAayF,EAAcnD,sBAAqB,IArBtD,oCAwBT,EAAKsD,mBAAmBF,EAAW,GAAG,UACtC,EAAKvO,SAAS,CAAC+K,mBAAmBuD,EAAcpD,kBAAiB,IAzBxD,iE,gEA8BrBwD,uBAAyB,SAACjN,EAAMgM,EAAMrC,GAClC,OAAO,WACH,EAAKpL,SAAS,CAAC6K,oBAAoBpJ,EAAMsJ,mBAAmB0C,EAAMnC,eAAc,EAAMF,0B,EAQ9FuD,kBAAoB,SAAA9I,GAChB,OAAO,WAEH,IAAKtC,EAAY,EAAKvF,MAAjBuF,SAEDwH,EAAqB,GACzBxH,EAASuK,SAAQ,SAAAE,GACbA,EAAK/I,KAAK6I,SAAQ,SAAA9H,GACVA,IAAQH,EAAOC,MACfiF,EAAkB,sBAAOA,GAAP,CAA0BiD,WAcxD,EAAKhO,SAAS,CAAC6K,oBAAoBhF,EAAOC,IAAIiF,qBAAmBO,eAAc,IAC/E,EAAKmD,uB,EAIbG,mBAAqB,SAACzL,EAAI+B,EAAYpF,GAClC,OAAO,WACH,EAAK2O,mBAAmBtL,EAAI+B,EAAYpF,K,EAGhD2O,mBAAqB,SAACtL,EAAI+B,EAAYpF,GAE9BqD,EACAvD,IAAOC,QAAQ,WAAW,CACtBE,SAAS,CAELqF,IAAIjC,EAAIiC,IACRD,WAAWhC,EAAIgC,WACf5F,OAAO4D,EAAI5D,OACXwF,SAAS5B,EAAIwG,MACb3E,YAAY7B,EAAI6B,YAChBrF,YAAYwD,EAAIxD,YAChBsF,KAA0B,IAApB9B,EAAI8B,KAAKmB,QAAgC,KAAhBjD,EAAI8B,KAAK,GAAY,GAAK9B,EAAI8B,KAC7DC,cACAlG,WAAWmE,EAAInE,YAEnBc,SAGJF,IAAOC,QAAQ,WAAW,CACtBC,KAAK,S,EAKjB+O,eAAiB,WACb,MAA6B,EAAK7Q,MAA7BuF,EAAL,EAAKA,SAAL,EAAciI,cAKd,EAAKxL,SAAS,CAACwL,aAAY,EAAKD,iBAAgB,IAChD,EAAKuD,MAAQC,aAAY,WACrB,IAAIC,EAAiB,EAAKA,eAAe1I,MAAM+H,aAE/C,GADA9P,QAAQC,IAAIwQ,GACU,KAAnBA,EACC,EAAKhP,SAAS,CAACwL,aAAY,EAAMD,iBAAgB,IAEjD0D,cAAc,EAAKH,WACjB,CACF,IAAIrD,EAA0BlI,EAASL,QAAO,SAAA8K,GAAI,OAA4C,IAAxCA,EAAKrE,MAAMhD,QAAQqI,MACzE,EAAKhP,SAAS,CAACyL,+BAErB,KACF9I,YAAW,WACH,EAAKmM,QACL,EAAK9O,SAAS,CAACwL,aAAY,IAC3ByD,cAAc,EAAKH,UAEzB,O,EAGNI,qBAAuB,WACnB,IAAKrG,EAAgB,EAAK7K,MAArB6K,aACDsG,EAAqB,EAAKA,mBAAmB7I,MAAM+H,aACnDzB,EAAW/D,EAAazF,MAAK,SAAAwJ,GAAQ,OAAoD,IAAhDA,EAASjD,MAAMhD,QAAQwI,MAChEvC,GACA,EAAK5M,SAAS,CAAC6K,oBAAoB+B,EAASjD,MAAMoB,mBAAmB6B,EAASa,MAAMnC,eAAc,K,EAG1G8D,iB,uCAAmB,WAAMrP,GAAN,SAAAzB,EAAA,yDACfC,QAAQC,IAAIuB,IACQ,EAAK/B,MAArB6K,aAEazF,MAAK,SAAAD,GAAG,OAAIA,EAAIgC,aAAepF,EAASoF,cAAYsI,MAAMrK,MAAK,SAAAD,GAAG,OAAIA,EAAIwG,QAAU5J,EAAS4J,SAJ/F,uBAKXjL,IAAQC,KAAK,sEALF,0CAQT,EAAK0Q,kBAAkBtP,GARd,OASf,EAAKC,SAAS,CAAC0L,mBAAkB,IATlB,2C,wDAWnB2D,kB,uCAAoB,WAAMtP,GAAN,yBAAAzB,EAAA,6DAYZ6G,EAA0CpF,EAA1CoF,WAAWwE,EAA+B5J,EAA/B4J,MAAM1E,EAAyBlF,EAAzBkF,KAAKD,EAAoBjF,EAApBiF,YAAYlF,EAAQC,EAARD,KAZtB,SAaGX,YAAQ,eAAe,CAACC,MAAM,EAAKpB,MAAM0M,UAAUvF,aAAWF,OAAK0E,QAAM1K,QAAQ,GAAG+F,cAAYhG,WAAoB,aAATc,IAb9G,OAaZN,EAbY,OAchBjB,QAAQC,IAAIgB,GACPA,EAAOf,eAAe,MA0CvBC,IAAQC,KAAK,4DAzCbD,IAAQgB,QAAQ,yCAChB,EAAKM,UAAS,YAA+F,IAA7F6I,EAA4F,EAA5FA,aAAatF,EAA+E,EAA/EA,SAASwH,EAAsE,EAAtEA,mBAAmBK,EAAmD,EAAnDA,oBAAoBiB,EAA+B,EAA/BA,0BAezE,GAbAxD,EAAaiF,SAAQ,SAAAC,GACbA,EAAS5I,aAAeA,IACxB4I,EAASN,MAAT,sBAAqBM,EAASN,OAA9B,CAAoCjO,QAM5C+D,EAAQ,sBAAOA,GAAP,CAAgB/D,IAEpB4L,EAAoBjG,aAAeA,IACnC4F,EAAkB,sBAAOA,GAAP,CAA0BvL,MAE3C6M,EAA0B,CAC3BA,GAA4B,EAC5B,IAAMvN,EAAG,cAAUqD,KAAKC,OAClBE,EACF,cAAC,IAAD,CAAQxC,KAAK,UAAUyC,KAAK,QAAQC,QAAS,kBAAMC,IAAaC,MAAM5D,IAAtE,0BAIJ2D,IAAaT,KAAK,CACdtD,QAAS,eACTe,SAAS,EACTmD,YACI,kMACJN,MACAxD,QAGR,MAAO,CACHuN,4BACAxD,eACAtF,WACAwH,0BArDI,2C,wDA4DpBuE,iBAAmB,WACf,6BAAO,sBAAAhR,EAAA,sDACC,EAAKN,MAAM6K,aAAazC,OAAS,EACjC,EAAKpG,SAAS,CAAC0L,mBAAkB,IAGjCjJ,IAAamE,KAAK,CACdnH,SAAS,EACTf,QAAQ,eACRkE,YAAY,4GARjB,4C,EAcX2M,0BAA4B,WACxB,6BAAO,8BAAAjR,EAAA,yDACCkR,EAAqB,EAAKA,mBAAmBlJ,MAAM+H,cACnC,EAAKrQ,MAArB6K,aACazF,MAAK,SAAAD,GAAG,OAAIA,EAAIwG,QAAU6F,KAHxC,uBAIC9Q,IAAQC,KAAK,gEAJd,0CAOgBQ,YAAQ,uBAAuB,CAACC,MAAM,EAAKpB,MAAM0M,UAAUjJ,MAAM+N,IAPjF,OAOChQ,EAPD,OAQHjB,QAAQC,IAAIgB,GACPA,EAAOf,eAAe,MAQvBC,IAAQC,KAAK,2DAPbD,IAAQgB,QAAQ,4BAChB,EAAKM,UAAS,YAAqB,IAAnB6I,EAAkB,EAAlBA,aAGZ,OAFArJ,EAAOiO,MAAQ,GAER,CAAC5E,aADRA,EAAY,sBAAOA,GAAP,CAAoBrJ,SAMxC,EAAKQ,SAAS,CAAC2L,uBAAsB,IAnBlC,6C,EAsBX8D,kBAAoB,SAAAtM,GAChB,6BAAO,4BAAA7E,EAAA,sEACgBa,YAAQ,mBAAmB,CAACC,MAAM,EAAKpB,MAAM0M,UAAUrH,OAAOF,EAAI5D,SADlF,OACCC,EADD,OAEHjB,QAAQC,IAAIgB,GAETA,EAAOkQ,IACNhR,IAAQgB,QAAQ,4BAChB,EAAKM,UAAS,YAAkB,IAAhB8K,EAAe,EAAfA,UAEZ,MAAO,CAACA,UADRA,EAAYA,EAAU5H,QAAO,SAAAqJ,GAAI,OAAIA,EAAKhN,SAAW4D,EAAI5D,eAI7Db,IAAQC,KAAK,6BAXd,4C,EA0BXgR,kBAAoB,SAAA9O,GAChB,IAAI+O,EAAW/O,EAAX+O,QAEA/L,EADiB,EAAK7F,MAAtB4N,cACuBC,eAAvBhI,MAEJ,EAAK7D,SAAS,CAACiM,WAAU,EAAKC,WAAW0D,EAAQzD,aAAatI,K,EAGlEgM,eAAiB,SAAAhP,GACb,MAA0C,EAAK7C,MAA1CiO,EAAL,EAAKA,UAAUC,EAAf,EAAeA,WAAWC,EAA1B,EAA0BA,aACrByD,EAAW/O,EAAX+O,QACDxD,GAAuB,EAC3B,GAAIH,EAAU,CACV,IAAI6D,EAAaF,EAAU1D,EAAaC,EACxC,GAAG2D,EAAa,EAEZ,YADA,EAAK9P,SAAS,CAACiM,WAAW,IAI9B,GAAI6D,EAAa,KAAOA,EAAc,IAAK,CACvC,KAAIA,EAAa,KAIb,OAHAA,EAAa,EACb1D,GAAuB,EAK/B,EAAKpM,SAAS,CACV4L,cAAc,CACVC,eAAe,CAAChI,MAAMiM,GACtB9D,gBAAgB,CAACnI,MAAM,eAAD,OAAiBiM,EAAjB,QACtBhE,OAAO,CAACC,KAAM+D,IAElB1D,2B,8FApsBZ,iCAAA9N,EAAA,6DAEIC,QAAQC,IACJ,i2HAsBJoB,IAAOmD,UAAU,cAAa,SAACC,EAAIuJ,GAE/BA,EAAK5C,MAAQ4C,EAAKxH,SAClB,EAAK/E,UAAS,YAAgD,IAA9C6I,EAA6C,EAA7CA,aAAakC,EAAgC,EAAhCA,mBAAmBxH,EAAa,EAAbA,SAa5C,OAXAsF,EAAaiF,SAAQ,SAAAC,GACbA,EAAS5I,aAAeoH,EAAKpH,aAC7B4I,EAASN,MAAT,sBAAsBM,EAASN,MAAMvK,QAAO,SAAAC,GAAG,OAAIA,EAAI5D,SAAWgN,EAAKhN,WAAvE,CAAgFgN,QAMxFhJ,EAAQ,sBAAQA,EAASL,QAAO,SAAAC,GAAG,OAAIA,EAAI5D,SAAWgN,EAAKhN,WAAnD,CAA4DgN,IAG9D,CACF1D,eACAkC,mBAJJA,EAAkB,sBAAQA,EAAmB7H,QAAO,SAAAC,GAAG,OAAIA,EAAI5D,SAAWgN,EAAKhN,WAA7D,CAAsEgN,IAKpFhJ,kBA5ChB,SAgDUD,KAAK8J,UAhDf,gD,wFAsKA,WACI9J,KAAKtD,SAAS,IAAG,WACb,OAAO,KAEXJ,IAAO4D,YAAY,gB,oBA+hBvB,WAAU,IAAD,OACL,EAC+GF,KAAKtF,MADhH6K,EAAJ,EAAIA,aAAatF,EAAjB,EAAiBA,SAASuH,EAA1B,EAA0BA,UAAUH,EAApC,EAAoCA,qBAAqBE,EAAzD,EAAyDA,oBAAoBe,EAA7E,EAA6EA,cAAcK,EAA3F,EAA2FA,UACvFlB,EADJ,EACIA,mBAAmBN,EADvB,EACuBA,UAAUa,EADjC,EACiCA,cAAcC,EAD/C,EAC+CA,gBAAgBE,EAD/D,EAC+DA,wBAAwBW,EADvF,EACuFA,qBAClFxG,EAAWtC,KAAKjE,MAAhBuG,QAEDiG,EAAyCD,EAAzCC,eAAeG,EAA0BJ,EAA1BI,gBAAgBF,EAAUF,EAAVE,OAE/BlB,EAAwBD,EAAxBC,UAAU5H,EAAc2H,EAAd3H,IAAIlB,EAAU6I,EAAV7I,OAUlB,OARAiJ,EAAqBQ,EAAkBE,EAA0BV,EACjEF,EAAsBU,EAAkB,SAAWV,EAQ/C,eAAC,IAAD,CAAQnH,MAAO,CAAEQ,UAAW,SAA5B,UACI,cAAC6L,EAAA,EAAD,CACItO,MAAM,yDACNuO,QAAS1M,KAAKtF,MAAM0N,kBAEpBuE,OAAQ,KACRhG,SAAU,kBAAM,EAAKjK,SAAS,CAAC0L,mBAAkB,KALrD,SAWI,cAACwE,GAAD,CAAkBtK,QAASA,EAASiD,aAAcA,EAAcoB,SAAU,kBAAM,EAAKjK,SAAS,CAAC0L,mBAAkB,KAAS9C,SAAUtF,KAAK8L,qBAE7I,eAACW,EAAA,EAAD,CACItO,MAAM,yDACNuO,QAAS1M,KAAKtF,MAAMkN,iBACpBiF,KAAM7M,KAAK4K,YAAY,QACvBjE,SAAU,kBAAM,EAAKjK,SAAS,CAACkL,kBAAiB,KAChDkF,OAAO,eACPC,WAAW,eACXxM,MAAO,IAPX,UASI,6BAAKP,KAAKtF,MAAMgN,yBAChB,cAAC,IAAD,CAAO/G,YAAY,SAASP,MAAO,CAAC4M,gBAAgB,WAAY3I,IAAK,SAAA4I,GAAC,OAAI,EAAKnC,8BAAgCmC,GAAG1I,aAAcvE,KAAK4K,YAAY,aAErJ,eAAC7D,GAAD,CAAOmG,aAAW,EAAC/F,UAAWA,EAAWgG,WAAY,SAAAhG,GAAS,OAAI,EAAKzK,SAAS,CAACyK,eAAjF,UACI,qBAAKhH,UAAU,OAAf,SACI,qBAAKC,MAAO,CAACI,OAAQ,QAArB,SAESR,KAAKtF,MAAMyM,UAA2C,mBAAGhH,UAAU,+BAA7C,qBAAKnC,ICx5B7C,ygNDw5BwDoP,IAAI,aAIvD,eAAC,IAAD,CAAMC,MAAM,OAAO/G,KAAK,SAASnG,UAAU,cAA3C,UAEI,cAAC6G,GAAD,CAAoBzH,KAAM,cAAC+N,EAAA,EAAD,IAAmBnP,MAAM,WAAnD,SACMgJ,EA6FE,6BA5FA,qCACI,cAAC,IAAD,CAASoG,UAAU,QAAQpP,MAAM,+DAAjC,SACI,cAAC,IAAK6F,KAAN,CAAwB5D,MAAO,CAC3B4M,gBAAgB,UAChBQ,UAAU,EACVC,aAAa,EACbC,YAAY,IAJhB,SAMI,qBAAKtN,MAAO,CACRC,QAAQ,OACRsN,eAAe,eACfzJ,WAAW,UAHf,SAKI,cAAC,IAAD,CAAOvD,YAAY,YAAY0D,IAAK,SAAA4I,GAAC,OAAI,EAAKpB,mBAAqBoB,GAAG7M,MAAO,CAAC4M,gBAAgB,UAAUzM,MAAM,KAAMgE,aAAcvE,KAAK4L,0BAXhI,YAgBnB,cAACa,EAAA,EAAD,CACItO,MAAM,+DACNuO,QAAS1M,KAAKtF,MAAM2N,sBACpB1B,SAAU,kBAAM,EAAKjK,SAAS,CAAC2L,uBAAsB,KACrDwE,KAAM7M,KAAKiM,4BACXa,OAAO,eACPC,WAAW,eACXxM,MAAO,IAPX,SASI,cAAC,IAAD,CAAOI,YAAY,yDAAY0D,IAAK,SAAA4I,GAAC,OAAI,EAAKf,mBAAqBe,GAAG1I,aAAcvE,KAAKiM,gCAE7F,cAAC,IAAD,CAASsB,UAAU,QAAQpP,MAAM,yDAAjC,SACI,cAAC,IAAK6F,KAAN,CAAwBzE,KAAM,cAACqO,EAAA,EAAD,IAAwBxN,MAAO,CAACyN,MAAM,QAAQb,gBAAgB,WAAY9N,QAAS,kBAAM,EAAKxC,SAAS,CAAC2L,uBAAsB,KAA5J,mBAAe,YAKff,EAAY,cAAC,IAAKtD,KAAN,mCAAe,WACvBxF,EACI+G,EAAa3F,QAAO,SAAAC,GAAG,OAAKA,EAAImK,aAAW7F,KAAI,SAAAtE,GAC3C,OACI,cAAC,IAAKmE,KAAN,CAAgC9E,QAAS,EAAKkM,uBAAuBvL,EAAIwG,MAAMxG,EAAIsK,MAAMtK,GAAzF,SACI,cAAC,IAAD,CAAUiO,QAAS,EAAKzE,KAAKxJ,GAAMkO,QAAS,CAAC,eAA7C,SACI,qBACI5N,UAAU,6BACVC,MAAO,CACH4N,UAAW,SACXxN,OAAQ,IACRyN,WAAY,SALpB,SAQI,sBAAK7N,MAAO,CACRC,QAAQ,OACRsN,eAAe,gBACfzJ,WAAW,UAHf,UAKI,eAACuI,EAAA,EAAD,CACItO,MAAM,+DACNuO,QAAS,EAAKhS,MAAMmN,qBAEpBgF,KAAM,EAAKjC,YAAY,YACvBjE,SAAU,kBAAM,EAAKjK,SAAS,CAACmL,sBAAqB,KACpDiF,OAAO,eACPC,WAAW,eACXxM,MAAO,IARX,UAUI,6BAAK,EAAK7F,MAAMgN,yBAChB,cAAC,IAAD,CACI/G,YAAY,SACZP,MAAO,CAAC4M,gBAAgB,WACxB3I,IAAK,SAAA4I,GAAC,OAAI,EAAKnC,8BAAgCmC,GAC/C1I,aAAc,EAAKqG,YAAY,iBAGvC,8BACK/K,EAAIwG,QAET,8BACKxG,EAAIsK,MAAMrH,iBArCfjD,EAAIgC,eA4CzB,cAAC,IAAKmC,KAAN,CAA8B5D,MAAO,CAAC,SAAW,QAAjD,SAA2DV,GAA5C,oBArF7B,QAkGb,cAACsH,GAAD,CAAoBzH,KAAM,cAAC2O,EAAA,EAAD,IAAiB/P,MAAM,MAAjD,SACMgJ,EAaoF,6BAZlFG,EAAY,cAAC,IAAKtD,KAAN,mCAAe,cAC3BxF,EACA8D,EAAQ1C,QAAO,SAAAC,GAAG,MAAgB,KAAZA,EAAI2C,OAAY2B,KAAI,SAAAtE,GACtC,OACQ,cAAC,IAAKmE,KAAN,CAA2B9E,QAAS,EAAKmM,kBAAkBxL,GAA3D,SACI,cAAC,IAAD,CAAUiO,QAAS,EAAKtE,YAAY3J,GAAMkO,QAAS,CAAC,eAApD,SACI,qBAAK3N,MAAO,CAACG,MAAM,QAAnB,SACKV,EAAI2C,SAHD3C,EAAI0G,UAQ7B,cAAC,IAAKvC,KAAN,CAAiC5D,MAAO,CAAC,SAAW,QAApD,SAA8DV,GAA/C,oBAdb,QAkBb,cAACsH,GAAD,CAAyBzH,KAAM,cAAC6J,EAAA,EAAD,IAAoBjL,MAAM,QAAzD,SACMgJ,EAmBK,6BAlBHK,EAAUrD,KAAI,SAAAtE,GACV,OACQ,cAAC,IAAKmE,KAAN,UACI,cAAC,IAAD,CAAUuJ,UAAU,cAAcO,QAAS,WACvC,OACI,cAAC,IAAD,UACI,cAAC,IAAK9J,KAAN,CAAwB5D,MAAO,CAAC,SAAW,OAAO4N,UAAU,UAAW9O,QAAS,EAAKiN,kBAAkBtM,GAAvG,mBAAe,aAH3B,SAOI,qBAAKO,MAAO,CAACG,MAAM,QAAnB,SACKV,EAAIwG,WATDxG,EAAI5D,YAJ3B,aAwBb,cAAC+K,GAAD,CAAoBzH,KAAM,cAAC4O,EAAA,EAAD,IAAkBhQ,MAAM,QAAlD,SACUgJ,EASe,6BARb,cAACH,GAAD,CAAqB7I,MAAM,QAA3B,SACI,cAAC,WAAD,UACI,cAAC,IAAK6F,KAAN,CAAgC5D,MAAO,CACnC4M,gBAAgB,WADpB,2BAAe,qBAFV,UAFZ,cAerB,eAAC,IAAD,CAAQ7M,UAAU,cAAlB,UACI,cAAC0G,GAAD,CAAQ1G,UAAU,yBAAyBC,MAAO,CAAEE,QAAS,EAAE0M,gBAAgB,WAA/E,SACI,sBAAK7M,UAAU,mBAAf,UAEI,sBAAKA,UAAU,wBAAf,UACI,sBAAKC,MAAO,CACRI,OAAO,GACPD,MAAM,IACNF,QAAS,OACTsN,eAAgB,gBAChBzJ,WAAY,UALhB,UAOI,cAAC,IAAD,CAAO1H,KAAK,UAAUyC,KAAK,QAAQ0B,YAAY,iBAAiB0D,IAAK,SAAA4I,GAAC,OAAI,EAAKvB,eAAiBuB,GAAG7M,MAAO,CAACG,MAAM,IAAIyM,gBAAgB,WAAYtM,SAAUV,KAAKuL,iBAChK,cAAC,IAAD,CAAQ/O,KAAK,UAAUyC,KAAK,QAAQkB,UAAU,qBAAqBjB,QAASc,KAAKgM,mBAAjF,yBAEJ,qBAAK7L,UAAU,wBAAf,SACKoH,EAAsB,cAAC,IAAD,CAAKsG,MAAM,OAAO1N,UAAU,YAA5B,SAAyCoH,IAA8B,QAItG,qBAAKpH,UAAU,sBAAf,SACI,cAAC,IAAD,CAAQA,UAAU,qBAAqB3D,KAAK,UAAU0C,QAAO,sBAAE,sBAAAlE,EAAA,sEACrD,EAAK8O,UADgD,2CAA/D,yDAoBZ,cAAC,GAAD,CAAS1J,MAAO,CAAEgO,OAAQ,aAA1B,SACI,qBAAKjO,UAAU,yBAAyBC,MAAO,CAAEQ,UAAU,IAAKJ,OAAO,QAAvE,SACI,sBAAKL,UAAU,oBAAoBkO,YAAarO,KAAKuM,eAAgB+B,UAAW,kBAAO,EAAK5R,SAAS,CAACiM,WAAU,KAAhH,UAEQG,EAAwB,sBAAK3I,UAAU,iBAAiBC,MAAOmI,EAAvC,UACpB,eAAC1B,GAAD,CAAQ1G,UAAU,oBAAlB,UACI,qBAAKC,MAAO,CACRG,MAAM,KADV,SAGI,qBAAKH,MAAO,CACRoN,UAAU,IADd,SAGKjG,EAAsB,cAAC,IAAD,CAAKhI,KAAM,cAAC2J,EAAA,EAAD,IAAkB2E,MAAM,UAAU1N,UAAU,YAAYC,MAAO,CAACyN,MAAO,WAAlF,SAAgGtG,IAA8B,OAI7J,8BACI,cAAC,IAAD,CAAUuG,QAAS9N,KAAK0J,YAAa6D,UAAU,cAAcgB,OAAK,EAAlE,SACI,cAACC,EAAA,EAAD,WAIZ,qBAAKrO,UAAU,cAAf,UAES6H,GAAkBA,GAAiBP,EAAmB3E,OAAS,EAC5D,cAAC,IAAD,CACI1C,MAAO,CAAEG,MAAO,QAChB+F,KAAK,SAFT,SAKQmB,EAAmBtD,KAAI,SAAAtE,GACnB,OACI,cAAC,IAAKmE,KAAN,CAA4B7D,UAAU,kBAAkBjB,QAAS,EAAKoM,mBAAmBzL,EAAI0H,EAAoB,SAAjH,SACI,cAAC,IAAD,CAAUuG,QAAS,EAAK9E,gBAAgBnJ,GAAMkO,QAAS,CAAC,eAAxD,SAEI,qBACI5N,UAAU,6BACVC,MAAO,CACH4N,UAAW,OACXxN,OAAQ,IACRyN,WAAY,SALpB,SAQI,sBAAM7N,MAAOP,EAAInE,WAAc,CAACmS,MAAM,WAAa,KAAnD,SACKhO,EAAIwG,aAZLxG,EAAI5D,aAsBpC,cAAC,IAAD,CACIsD,KAAM,cAACkP,EAAA,EAAD,IACNtQ,MAAM,4KACN0F,MAAO,cAAC,IAAD,CAAQrH,KAAK,UAAU0C,QAASc,KAAKgM,mBAArC,6CAKpB,6BAGX,qBAAK7L,UAAU,SAASC,MAAQuI,EAAD,2BAKrBH,GALqB,IAMxBwE,gBAAiB,UACjB0B,WAAW,mCAPa,2BACpBlG,GADoB,IAExBwE,gBAAiB,UACjB0B,WAAW,mCAMhBC,YAAa3O,KAAKqM,oBACpB,sBAAKlM,UAAU,kBAAkBC,MAAOsI,EAAxC,UAEG,cAAC,GAAD,CAAc1M,MAAOgE,KAAKtF,MAAM0M,YAGhC,cAAC,EAAD,CAAepL,MAAOgE,KAAKtF,MAAM0M,UAAWnH,SAAUA,wB,GA1pCnEmB,aAwqCP4D,uBAAQ,SAAAtK,GAAK,MAAK,CAAC4H,QAAQ5H,EAAM4H,WAAU,CAEtDf,uBACAF,oBACA0I,kBHlsC6B,SAAAzI,GAAkB,MAAK,CAAC9E,KAAK,QAAQ8E,wBG8rCvD0D,CAKZkC","file":"static/js/4.f8cfc119.chunk.js","sourcesContent":["import React, {Component,Fragment} from 'react';\r\n// 引入编辑器组件\r\nimport BraftEditor from 'braft-editor'\r\nimport ReactMarkdown from \"react-markdown\";\r\nimport rehypeHighlight from 'rehype-highlight'\r\nimport 'highlight.js/styles/github.css';\r\n// 引入编辑器样式\r\nimport 'braft-editor/dist/index.css'\r\nimport 'braft-extensions/dist/code-highlighter.css'\r\nimport CodeHighlighter from 'braft-extensions/dist/code-highlighter'\r\nimport 'prismjs/components/prism-java'\r\nimport PubSub from \"pubsub-js\";\r\nimport {Button, message, notification, Upload} from \"antd\";\r\nimport {BulbOutlined} from \"@ant-design/icons\";\r\nimport moment from \"moment\";\r\nimport TextArea from \"antd/es/input/TextArea\";\r\nimport './index.css'\r\nimport {request} from \"../../../../Utils/request\";\r\n// 通过opitons.\r\n\r\nconst options = {\r\n    syntaxs: [\r\n        {\r\n            name: 'JavaScript',\r\n            syntax: 'javascript'\r\n        }, {\r\n            name: 'HTML',\r\n            syntax: 'html'\r\n        }, {\r\n            name: 'CSS',\r\n            syntax: 'css'\r\n        }, {\r\n            name: 'Java',\r\n            syntax: 'java',\r\n        }\r\n    ]\r\n}\r\n\r\nBraftEditor.use(CodeHighlighter({\r\n    includeEditors: ['editor-with-code-highlighter']\r\n}))\r\nBraftEditor.use(CodeHighlighter(options))\r\nclass MyBraftEditor extends Component {\r\n\r\n    state = {\r\n        // 创建一个空的editorState作为初始值\r\n        editorState: BraftEditor.createEditorState(null),\r\n        NoteInfoList:{},\r\n        currentNote:{},\r\n        // hasChange:false\r\n    }\r\n    async componentDidMount () {\r\n        console.log(moment(Date.now()).format(\"YYYY-MM-DD HH:mm:ss\"));\r\n        const key = `open${Date.now()}`;\r\n        const btn = (\r\n            <Button type=\"primary\" size=\"small\" onClick={() => notification.close(key)}>\r\n                确认\r\n            </Button>\r\n        )\r\n        setTimeout(()=>{\r\n            notification.open({\r\n                message: '提示',\r\n                duration:0,\r\n                description:\r\n                    '您可以点击页头保存按钮或者按下ctrl+s键来保存笔记,笔记内容暂不支持自动保存',\r\n                btn,\r\n                key,\r\n                icon:<BulbOutlined />\r\n            })\r\n        },10000)\r\n        PubSub.subscribe('NoteInfo',async (msg,data) => {\r\n            let{NoteInfoList,currentNote,editorState} = this.state;\r\n            let Content = null\r\n            switch (data.type) {\r\n                case \"click\":\r\n                    // console.log(\"点击\",data.NoteInfo);\r\n                    //说明切换到了其他的笔记\r\n                    if (currentNote && currentNote.hasOwnProperty(\"NoteId\") && currentNote.NoteId !== data.NoteInfo.NoteId){\r\n                        console.log(\"点击了其他组件\")\r\n                        NoteInfoList = [...NoteInfoList.filter(ele => ele.NoteId !== currentNote.NoteId),currentNote];\r\n                        this.setState({NoteInfoList});\r\n                    }\r\n                    currentNote = NoteInfoList.find(ele => ele.NoteId === data.NoteInfo.NoteId)\r\n                    if(currentNote && currentNote.hasOwnProperty(\"Content\")){\r\n                        //说明当前存在组件\r\n                        editorState = BraftEditor.createEditorState(currentNote.Content)\r\n                    }else {\r\n                        let result = await request(\"note/getNoteContent\", {\r\n                            token: this.props.Token,\r\n                            noteId: data.NoteInfo.NoteId\r\n                        }, \"post\")\r\n                        if (!result.hasOwnProperty(\"Ok\")) {\r\n                            //首次点击当前组件\r\n                            console.log(result);\r\n                            Content = result.Content === \"\" ? null : result.Content;\r\n                            currentNote = data.NoteInfo;\r\n                            currentNote.Content = Content;\r\n                            editorState = BraftEditor.createEditorState(Content)\r\n\r\n                        } else {\r\n                            message.warn(\"获取内容失败!\")\r\n                        }\r\n                    }\r\n                    this.setState({\r\n                        currentNote,\r\n                        editorState\r\n                    })\r\n                    break;\r\n                /*case \"update\":\r\n                    if(data.NoteInfo.NoteId === currentNote.NoteId){\r\n                        currentNote.Usn = data.NoteInfo.Usn;\r\n                        this.setState({currentNote});\r\n                    }\r\n\r\n                    break;*/\r\n                case \"content\":\r\n                    await this.submitContent()\r\n            }\r\n        })\r\n\r\n       /* PubSub.subscribe(\"updateEditor\",(msg,data) => {\r\n            console.log(\"编辑器更新\")\r\n            this.setState(({currentNote}) => {\r\n                currentNote.Usn = data.Usn;\r\n                return{currentNote}\r\n            })\r\n        })*/\r\n        this.setState({NoteInfoList:this.props.NoteList})\r\n        // 假设此处从服务端获取html格式的编辑器内容\r\n        // const htmlContent = await fetchEditorContent()\r\n        // 使用BraftEditor.createEditorState将html字符串转换为编辑器需要的editorStat\r\n\r\n    }\r\n    componentWillUnmount() {\r\n        PubSub.unsubscribe(\"NoteInfo\")\r\n        // PubSub.unsubscribe(\"updateEditor\")\r\n    }\r\n\r\n    // 在编辑器获得焦点时按下ctrl+s会执行此方法\r\n    // 编辑器内容提交到服务端之前，可直接调用editorState.toHTML()来获取HTML格式的内容\r\n    submitContent = async () => {\r\n        let {currentNote,editorState} = this.state;\r\n        console.log(\"保存的笔记信息\",currentNote);\r\n        if (!currentNote.hasOwnProperty(\"NoteId\")) {\r\n            message.warn(\"请选中一个笔记！\")\r\n            return;\r\n        }\r\n        message.loading({ content: '保存中...', key:'submit'});\r\n\r\n        let htmlContent = currentNote.IsMarkdown ? currentNote.Content : editorState.toHTML();\r\n        //updateNote\r\n        // const result = await saveEditorContent(htmlContent)\r\n        try {\r\n            let result\r\n            // result = await request(\"note/updateNote\",{token:this.props.Token,NoteId:currentNote.NoteId,Usn:currentNote.Usn,Content:htmlContent})\r\n            result = await request(\"note/updateNote\",{token:this.props.Token,NoteId:currentNote.NoteId,Content:htmlContent})\r\n            console.log(\"笔记内容的更新\",result)\r\n            /* result = await request(\"note/getNotes\", {token: this.state.userToken,afterUsn:result.usn}, \"post\")\r\n             console.log(\"同步笔记\",result)*/\r\n            if(!result.hasOwnProperty(\"Ok\")){\r\n                message.success({content:\"保存成功\",key:'submit',duration:2})\r\n                // NoteInfo.Usn = result.Usn;\r\n                currentNote.UpdatedTime = result.UpdatedTime;\r\n                currentNote.Content = htmlContent\r\n                //通知主界面全局更新笔记相关信息\r\n                PubSub.publish(\"updateNote\",currentNote)\r\n                //头部组件更新\r\n                PubSub.publish(\"NoteInfo\",{\r\n                    type:\"update\",\r\n                    NoteInfo:currentNote\r\n                })\r\n                this.setState({currentNote});\r\n\r\n            }else {\r\n                message.warn({content:\"保存失败请稍后再试\",key:'submit',duration:2})\r\n            }\r\n        }catch (e) {\r\n            console.log(e);\r\n            if (e.hasOwnProperty(\"status\")){\r\n                message.warn({content:\"保存失败\",key:'submit',duration:2})\r\n            }else {\r\n                message.warn({content:\"请求超时!\",key:'submit',duration:2})\r\n            }\r\n\r\n        }\r\n\r\n    }\r\n\r\n    handleEditorChange = (editorState) => {\r\n        let html = editorState.toHTML()\r\n        // console.log(editorState.toHTML());\r\n        if(html !== '<p></p>'){\r\n            this.setState(({currentNote}) => {\r\n                currentNote.Content = html;\r\n                return{\r\n                    editorState,\r\n                    currentNote,\r\n                }\r\n            });\r\n        }\r\n\r\n    }\r\n    onMarkDownChange = ({ target: { value } } )=> {\r\n        this.setState(({currentNote}) => {\r\n            currentNote.Content = value;\r\n            return {currentNote};\r\n        });\r\n        // console.log(value);\r\n    }\r\n    /*\r\n     <div className=\"MyBraftEditor\">\r\n                {\r\n                    IsMarkdown ?\r\n                        <div style={{\r\n                            display:'flex',\r\n                            padding:20,\r\n                            width:'100%'\r\n                        }}>\r\n                            <div style={{width:'50%',maxHeight:\"100%\"}}>\r\n                                <TextArea\r\n                                    value={currentNote.Content}\r\n                                    onChange={this.onMarkDownChange}\r\n                                    placeholder={currentNote.Content ? currentNote.Content : \"Mark Down\"}\r\n                                    style={{height:'100%',maxHeight:1200,}}\r\n                                    // autoSize={{ minRows: 25}}\r\n                                />\r\n                            </div>\r\n                            <div className='MarkDownContainer'>\r\n                                <div className='MarkDown' >\r\n                                    <ReactMarkdown\r\n                                        rehypePlugins={[rehypeHighlight]}\r\n                                    >\r\n                                        {currentNote.Content}\r\n                                    </ReactMarkdown>\r\n                                </div>\r\n                            </div>\r\n\r\n                    </div> :  <div>\r\n                                <BraftEditor\r\n                                    value={editorState}\r\n                                    excludeControls={['emoji']}\r\n                                    onChange={this.handleEditorChange}\r\n                                    onSave={this.submitContent}\r\n                                    id=\"editor-with-code-highlighter\"\r\n                                />\r\n                            </div>\r\n                }\r\n\r\n            </div>\r\n     */\r\n    myUploadFn = async param => {\r\n        const serverURL = '/api/file/uploadAttach'\r\n        const xhr = new XMLHttpRequest()\r\n\r\n        const formData = new FormData()\r\n        console.log(param);\r\n        const progressFn = (event) => {\r\n            // 上传进度发生变化时调用param.progress\r\n            param.progress(event.loaded / event.total * 100)\r\n        }\r\n        const successFn = (response) => {\r\n            response = JSON.parse(response)\r\n            // 假设服务端直接返回文件上传后的地址\r\n            // 上传成功后调用param.success并传入上传后的文件地址\r\n            param.success({\r\n                url: response.src,\r\n                meta: {\r\n                    id: response.id,\r\n                    title: param.file.name,\r\n                }\r\n            })\r\n        }\r\n        xhr.upload.addEventListener(\"progress\", progressFn, false)\r\n        xhr.onreadystatechange = () => {\r\n            if (xhr.status === 200){\r\n                successFn(xhr.response)\r\n            }\r\n        }\r\n        formData.append('img',param.file)\r\n        formData.append('token',this.props.Token)\r\n        xhr.open('POST', serverURL, true)\r\n        xhr.send(formData)\r\n\r\n    }\r\n    /*extendControls = [\r\n        {\r\n            key: 'antd-uploader',\r\n            type: 'component',\r\n            component: (\r\n                <Upload\r\n                    accept=\"image/!*\"\r\n                    showUploadList={false}\r\n                    // customRequest={this.uploadHandler}\r\n                >\r\n                    {/!* 这里的按钮最好加上type=\"button\"，以避免在表单容器中触发表单提交，用Antd的Button组件则无需如此 *!/}\r\n                    <button type=\"button\" className=\"control-item button upload-button\" data-title=\"插入图片\">\r\n                        {/!*<Icon type=\"picture\" theme=\"filled\" />*!/}\r\n                    </button>\r\n                </Upload>\r\n            )\r\n        }\r\n    ]\r\n    uploadProps = {\r\n        name: 'file',\r\n        action: 'https://www.mocky.io/v2/5cc8019d300000980a055e76',\r\n        headers: {\r\n            authorization: 'authorization-text',\r\n        },\r\n        onChange(info) {\r\n            if (info.file.status !== 'uploading') {\r\n                console.log(info.file, info.fileList);\r\n            }\r\n            if (info.file.status === 'done') {\r\n                message.success(`${info.file.name} file uploaded successfully`);\r\n            } else if (info.file.status === 'error') {\r\n                message.error(`${info.file.name} file upload failed.`);\r\n            }\r\n        },\r\n    };*/\r\n    render() {\r\n        const { editorState,currentNote } = this.state\r\n        let IsMarkdown = currentNote.IsMarkdown\r\n        return (\r\n            <div className=\"MyBraftEditor\">\r\n                {\r\n                    IsMarkdown ?\r\n                        <div style={{\r\n                            display:'flex',\r\n                            padding:20,\r\n                            width:'100%'\r\n                        }}>\r\n                            <div style={{width:'50%',height:'calc(100vh - 180px)'}}>\r\n                                <TextArea\r\n                                    value={currentNote.Content}\r\n                                    onChange={this.onMarkDownChange}\r\n                                    placeholder={currentNote.Content ? currentNote.Content : \"Mark Down\"}\r\n                                    style={{height:'100%',minHeight:'calc(100vh - 180px)',maxHeight:'calc(100vh - 180px)'}}\r\n                                    // autoSize={{ minRows: 25}}\r\n                                />\r\n                            </div>\r\n                            <div className='MarkDownContainer'>\r\n                                <div className='MarkDown' >\r\n                                    <ReactMarkdown\r\n                                        rehypePlugins={[rehypeHighlight]}\r\n                                    >\r\n                                        {currentNote.Content}\r\n                                    </ReactMarkdown>\r\n                                </div>\r\n                            </div>\r\n\r\n                        </div> :  <div>\r\n                            <BraftEditor\r\n                                value={editorState}\r\n                                excludeControls={['emoji']}\r\n                                onChange={this.handleEditorChange}\r\n                                onSave={this.submitContent}\r\n                                id=\"editor-with-code-highlighter\"\r\n                                media={{uploadFn:this.myUploadFn}}\r\n                                // extendControls={this.extendControls}\r\n                            />\r\n                        </div>\r\n                }\r\n\r\n            </div>\r\n        )\r\n\r\n    }\r\n}\r\n\r\nexport default MyBraftEditor;","export const addTagListAction = TagListOrSingleTag => ({type:\"add\",TagListOrSingleTag})\r\nexport const deleteTagListAction = TagListOrSingleTag => ({type:\"delete\",TagListOrSingleTag})\r\nexport const clearAllTagAction = TagListOrSingleTag => ({type:\"clear\",TagListOrSingleTag})\r\n// export const requestTagListAction = TagListOrSingleTag => ({type:\"request\",TagListOrSingleTag})","import React, {Component} from 'react';\r\nimport {PageHeader, Descriptions, Tag, Tooltip, Input, message, notification, Button} from 'antd';\r\nimport PubSub from \"pubsub-js\";\r\nimport moment from \"moment\";\r\nimport {PlusOutlined, SaveOutlined} from '@ant-design/icons';\r\nimport {connect} from \"react-redux\";\r\nimport {request, synchronizedRequest} from \"../../../../Utils/request\";\r\nimport {addTagListAction, deleteTagListAction} from \"../../../../redux/actions/updateTagListAction\";\r\nimport './index.css'\r\nclass MyPageHeader extends Component {\r\n\r\n    state = {\r\n        NoteInfo:{\r\n            subTitle:'',\r\n            CreatedTime:'',\r\n            UpdatedTime:'',\r\n            //当前notebook的tag数组\r\n            Tags:[],\r\n            parentTitle:'',\r\n            // NoteUsn:0,\r\n            NoteId:\"\",\r\n            NotebookId:'',\r\n            Usn:0\r\n        },\r\n        //总状态的数组用于寻找Usn来进行更新操作\r\n        inputVisible: false,\r\n        inputValue: '',\r\n        editInputIndex: -1,\r\n        editInputValue: '',\r\n        //告诉用户关于删除Tag的操作\r\n        hasGiveTagInformation:false\r\n    }\r\n    componentDidMount() {\r\n        PubSub.subscribe(\"NoteInfo\",(msg,data) => {\r\n            let{NoteInfo} = this.state;\r\n            switch (data.type){\r\n                case \"click\":\r\n                    this.setState({NoteInfo:data.NoteInfo})\r\n                    break;\r\n                case \"update\":\r\n                    //只有是当前选中的NoteInfo才去更新显示信息\r\n                    if(NoteInfo && NoteInfo.NoteId === data.NoteInfo.NoteId){\r\n                        console.log(\"BeforePageHeaderUpdate\",NoteInfo)\r\n                        let{UpdatedTime,subTitle,Usn} = data.NoteInfo\r\n                        // let{UpdatedTime,subTitle,Usn} = data.NoteInfo\r\n                        // NoteInfo = {...NoteInfo,UpdatedTime,subTitle,Usn}\r\n                        NoteInfo = {...NoteInfo,UpdatedTime,subTitle,Usn}\r\n                        this.setState({NoteInfo});\r\n                    }\r\n                   /* this.setState(({NoteInfo}) =>{\r\n                        console.log(\"BeforePageHeaderUpdate\",NoteInfo)\r\n                        let{UpdatedTime,subTitle,Usn} = data.NoteInfo\r\n                        NoteInfo = {...NoteInfo,UpdatedTime,subTitle,Usn}\r\n                        return{\r\n                            NoteInfo\r\n                        }\r\n                    })*/\r\n                    break;\r\n                case \"Tag\":\r\n                    this.setState({NoteInfo:{}});\r\n            }\r\n        })\r\n    }\r\n    componentWillUnmount() {\r\n        PubSub.unsubscribe(\"NoteInfo\");\r\n        this.setState({},()=>{\r\n            return false\r\n        });\r\n    }\r\n\r\n    /**\r\n     *  当所有的笔记中都不没有同一个标签时，标签会被标记为IsDeleted:true\r\n     * @param removedTag\r\n     * @returns 删除Tag的回调\r\n     */\r\n    handleClose = async removedTag => {\r\n        let {NoteInfo,hasGiveTagInformation} = this.state;\r\n        let {NoteId,Tags,Usn} = NoteInfo;\r\n        let {TagList} = this.props\r\n        //总状态的Tag\r\n        let TagObj = TagList.find(ele => ele.Tag === removedTag);\r\n        //当前页头的Tag\r\n        let currentNewTags = Tags.filter(tag => tag !== removedTag);\r\n        //给的api在空标签状态下需要放一个空串否则过不了\r\n        // if (currentNewTags.length === 0) currentNewTags[0] = '';\r\n        console.log(currentNewTags);\r\n        try{\r\n            let result;\r\n            if (TagObj){\r\n                result = await synchronizedRequest([\r\n                    {url:\"tag/deleteTag\",data:{tag:removedTag,token:this.props.Token,usn:TagObj.Usn},method:\"post\"},\r\n                    {url:\"note/updateNote\",data:{Tags: [...(currentNewTags.length === 0 ? [\"\"] : currentNewTags)],token:this.props.Token,NoteId,Usn},method:\"post\"}\r\n                ])\r\n                NoteInfo.Usn = result[1].Usn;\r\n                NoteInfo.UpdatedTime = result[1].UpdatedTime;\r\n                // Usn = updatedNote.Usn\r\n            }else {\r\n                result = await request(\"note/updateNote\",{Tags: [...(currentNewTags.length === 0 ? [\"\"] : currentNewTags)],token:this.props.Token,NoteId,Usn})\r\n                // NoteInfo.Usn = result.Usn;\r\n            }\r\n\r\n            console.log(\"删除tag后的更新\",result);\r\n            if (!result.hasOwnProperty(\"Ok\")){\r\n                //在页面修改时要重新变为空数组\r\n                NoteInfo.Tags = currentNewTags\r\n                // this.props.deleteTagListAction(TagObj)\r\n                if (!hasGiveTagInformation){\r\n                    const key = `open${Date.now()}`;\r\n                    const btn = (\r\n                        <Button type=\"primary\" size=\"small\" onClick={() => notification.close(key)}>\r\n                            确认\r\n                        </Button>\r\n                    )\r\n                    notification.open({\r\n                        message: '提示',\r\n                        duration:0,\r\n                        description:\r\n                            '当所有笔记中都不存在当前标签时,即该标签已经完全被移除时,下一次更新标签导航将不会显示该标签',\r\n                        btn,\r\n                        key\r\n                    })\r\n                }\r\n                this.setState({NoteInfo,hasGiveTagInformation:true});\r\n                PubSub.publish(\"updateNote\",NoteInfo)\r\n                // PubSub.publish(\"updateEditor\",NoteInfo)\r\n            }else {\r\n                message.warn(\"删除失败请稍后再试!\")\r\n            }\r\n        }catch (e){\r\n            console.log(e);\r\n            message.warn(\"删除失败请稍后再试!\")\r\n        }\r\n    };\r\n\r\n    showInput = () => {\r\n        this.setState({ inputVisible: true }, () => this.input.focus());\r\n    };\r\n\r\n    handleInputChange = e => {\r\n        this.setState({ inputValue: e.target.value });\r\n    };\r\n    /**\r\n     *\r\n     * @returns 更新Tag操作\r\n     */\r\n    handleInputConfirm = async () => {\r\n        let {NoteInfo,inputValue} = this.state;\r\n        let {NoteId,Tags,Usn} = NoteInfo;\r\n        let {TagList} = this.props;\r\n        if (inputValue && Tags.indexOf(inputValue) === -1) {\r\n            try {\r\n                //发请求添加tag并且通知更新当前note的tag信息\r\n                let result = await synchronizedRequest([\r\n                    {url:\"tag/addTag\",data:{tag:inputValue,token:this.props.Token},method:\"post\"},\r\n                    {url:\"note/updateNote\",data:{Tags: [...Tags,inputValue],token:this.props.Token,NoteId,Usn},method:\"post\"}\r\n                ])\r\n                // NoteInfo.Usn = result[1].Usn;\r\n                NoteInfo.UpdatedTime = result[1].UpdatedTime;\r\n                //说明tag修改成功且对应的note也修改成功\r\n                if (!result.hasOwnProperty(\"Ok\")){\r\n                    console.log(result);\r\n                    // PubSub.publish(\"updateTagList\",{type:\"add\",Tag:result[0]})\r\n                    Tags = [...Tags, inputValue];\r\n                    //result[0] = {Tag...}对象信息\r\n                    if(!TagList.find(ele => ele.Tag === inputValue)){\r\n                        this.props.addTagListAction([result[0]])\r\n                    }\r\n                    NoteInfo.Tags = Tags;\r\n                    this.setState({\r\n                        NoteInfo,\r\n                    });\r\n                }\r\n            }catch (e){\r\n                message.warn(\"网络异常请稍后再试\")\r\n            }\r\n        }else {\r\n            message.info(\"请勿添加相同的标签\")\r\n        }\r\n        PubSub.publish(\"updateNote\",NoteInfo);\r\n        PubSub.publish(\"updateEditor\",NoteInfo);\r\n\r\n        this.setState({\r\n            inputVisible: false,\r\n            inputValue: '',\r\n        });\r\n    };\r\n\r\n    handleEditInputChange = e => {\r\n        this.setState({ editInputValue: e.target.value });\r\n    };\r\n\r\n    handleEditInputConfirm = () => {\r\n        this.setState(({ NoteInfo, editInputIndex, editInputValue }) => {\r\n            const newTags = [...NoteInfo.Tags];\r\n            newTags[editInputIndex] = editInputValue;\r\n            NoteInfo.Tags = newTags;\r\n            return {\r\n                NoteInfo,\r\n                editInputIndex: -1,\r\n                editInputValue: '',\r\n            };\r\n        });\r\n    };\r\n\r\n    saveInputRef = input => {\r\n        this.input = input;\r\n    };\r\n\r\n    saveEditInputRef = input => {\r\n        this.editInput = input;\r\n    };\r\n\r\n\r\n    render() {\r\n        let{NoteInfo, inputVisible, inputValue, editInputIndex, editInputValue} = this.state;\r\n        let{subTitle,CreatedTime,UpdatedTime,parentTitle,Tags} = NoteInfo;\r\n        return (\r\n            <div className=\"Editor_Header\">\r\n                <PageHeader\r\n                    className=\"site-page-header\"\r\n                    title={parentTitle ?  parentTitle : 'BreadNote' }\r\n                    subTitle={subTitle ? subTitle : 'Welcome'}\r\n                    style={{\r\n                        height:100,\r\n                        padding:\"8px 24px\"\r\n                    }}\r\n                    extra={[\r\n                        <Button key=\"save\" icon={<SaveOutlined />} onClick={() => PubSub.publish(\"NoteInfo\",{type:\"content\"})}>\r\n                            保存\r\n                        </Button>,\r\n                    ]}\r\n                >\r\n                    <Descriptions size=\"small\" column={2}>\r\n                        <Descriptions.Item label=\"CreatedTime\">{CreatedTime ? moment(CreatedTime).format(\"YYYY-MM-DD HH:mm:ss\") : ''}</Descriptions.Item>\r\n                        <Descriptions.Item label=\"UpdatedTime\">{UpdatedTime ? moment(UpdatedTime).format(\"YYYY-MM-DD HH:mm:ss\") : ''}</Descriptions.Item>\r\n                    </Descriptions>\r\n                </PageHeader>\r\n                {parentTitle ? <div style={{\r\n                    display:\"flex\",\r\n                    alignItems:'center',\r\n                    width:\"100%\",\r\n                    padding:\"0 20px\",\r\n                    height:20\r\n                }}>\r\n\r\n                    {Tags.map((tag, index) => {\r\n                        if (editInputIndex === index ) {\r\n                            return (\r\n                                <Input\r\n                                    ref={this.saveEditInputRef}\r\n                                    key={tag}\r\n                                    size=\"small\"\r\n                                    className=\"tag-input\"\r\n                                    value={editInputValue}\r\n                                    onChange={this.handleEditInputChange}\r\n                                    onBlur={this.handleEditInputConfirm}\r\n                                    onPressEnter={this.handleEditInputConfirm}\r\n                                />\r\n                            );\r\n                        }\r\n\r\n                        const isLongTag = tag.length > 20;\r\n                        const tagElem = (\r\n                            <Tag\r\n                                className=\"edit-tag\"\r\n                                key={tag}\r\n                                closable={true}\r\n                                onClose={() => this.handleClose(tag)}\r\n                            >\r\n                                  <span\r\n                                      onDoubleClick={e => {\r\n                                          if (index !== 0) {\r\n                                              this.setState({ editInputIndex: index, editInputValue: tag }, () => {\r\n                                                  this.editInput.focus();\r\n                                              });\r\n                                              e.preventDefault();\r\n                                          }\r\n                                      }}\r\n                                  >\r\n                                    {isLongTag ? `${tag.slice(0, 20)}...` : tag}\r\n                                  </span>\r\n                            </Tag>\r\n                        );\r\n                        return isLongTag ? (\r\n                            <Tooltip title={tag} key={tag}>\r\n                                {tagElem}\r\n                            </Tooltip>\r\n                        ) : (\r\n                            tagElem\r\n                        );\r\n                    })}\r\n                    {inputVisible && (\r\n                        <Input\r\n                            ref={this.saveInputRef}\r\n                            type=\"text\"\r\n                            size=\"small\"\r\n                            className=\"tag-input\"\r\n                            value={inputValue}\r\n                            onChange={this.handleInputChange}\r\n                            onBlur={this.handleInputConfirm}\r\n                            onPressEnter={this.handleInputConfirm}\r\n                        />\r\n                    )}\r\n                    {!inputVisible && (\r\n                        <Tag className=\"site-tag-plus\" onClick={this.showInput}>\r\n                            <PlusOutlined /> New Tag\r\n                        </Tag>\r\n                    )}\r\n                </div> : <></>}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n//暴露组件\r\n//state将会是store中的总状态需要分别拿出来\r\nexport default connect(state => ({TagList:state.TagList}),{\r\n    //api层面的优化，会自动加入dispatch\r\n    deleteTagListAction,\r\n    addTagListAction,\r\n    // requestTagListAction\r\n})(MyPageHeader);","import React, {Component} from 'react';\r\nimport {Form, Col, Row, Input, Select, DatePicker, Button, message} from 'antd'\r\nconst { Option } = Select;\r\nclass FromNoteBookForm extends Component {\r\n    handleOnFinish = async (values) => {\r\n       /* if (values.type === 'MarkDown'){\r\n            message.warn(\"当前不支持MarkDown编辑器\");\r\n            return\r\n        }*/\r\n        // console.log(values);\r\n        if (!values.Tags) values.Tags = [\"\"];\r\n        this.props.onFinish(values);\r\n        // console.log(values)\r\n    }\r\n    render() {\r\n        // const { tags, inputVisible, inputValue ,children} = this.state;\r\n        let{NoteBookList,TagList} = this.props\r\n        return (\r\n            <Form layout=\"vertical\"\r\n                  hideRequiredMark\r\n                  initialValues={{\"type\":\"MarkDown\"}}\r\n                  onFinish={this.handleOnFinish}\r\n            >\r\n                <Row gutter={16}>\r\n                    <Col span={12}>\r\n                        <Form.Item\r\n                            name=\"NotebookId\"\r\n                            label=\"笔记本名称\"\r\n                            rules={[{ required: true, message: '请选择一个笔记本' }]}\r\n                        >\r\n                            <Select\r\n                                showSearch\r\n                                style={{ width: 200 }}\r\n                                placeholder=\"选择笔记本\"\r\n                                optionFilterProp=\"children\"\r\n                                /*onChange={onChange}\r\n                                onFocus={onFocus}\r\n                                onBlur={onBlur}\r\n                                onSearch={onSearch}*/\r\n                                filterOption={(input, option) =>\r\n                                    option.children.toLowerCase().indexOf(input.toLowerCase()) >= 0\r\n                                }\r\n                            >\r\n                                {\r\n                                    NoteBookList.map(ele => {\r\n                                        return (<Option key={ele.NotebookId} value={ele.NotebookId}>{ele.Title}</Option>)\r\n                                    })\r\n                                }\r\n                        </Select>\r\n                            {/*<Input placeholder=\"默认在当前选中的笔记本下创建\" />*/}\r\n                            {/*<Input placeholder={this.props.NoteBookName ? this.props.NoteBookName : \"你尚未选择笔记本\"}/>*/}\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={12}>\r\n                        <Form.Item\r\n                            name=\"Title\"\r\n                            label=\"笔记名称\"\r\n                            rules={[{ required: true, message: '请输入笔记名称' }]}\r\n                        >\r\n                            <Input placeholder=\"请输入笔记名称...\"/>\r\n                        </Form.Item>\r\n                    </Col>\r\n                </Row>\r\n                <Row gutter={16}>\r\n                    <Col span={12}>\r\n                        <Form.Item\r\n                            name=\"type\"\r\n                            label=\"笔记类型\"\r\n                            rules={[{ required: true, message: '请选择你要创建的笔记类型' }]}\r\n                        >\r\n                            <Select>\r\n                                <Option value=\"Common\">普通笔记</Option>\r\n                                <Option value=\"MarkDown\">MarkDown</Option>\r\n                            </Select>\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={12}>\r\n                        <Form.Item\r\n                            name=\"Tags\"\r\n                            label=\"标签\"\r\n                            // rules={[{ required: true, message: 'Please enter url' }]}\r\n                        >\r\n                            <Select mode=\"tags\" style={{ width: '100%' }} placeholder=\"在这里输入你想要的标签\">\r\n                                {TagList.map(ele => {\r\n                                    return (\r\n                                        <Option key={ele.TagId} value={ele.Tag}>{ele.Tag}</Option>\r\n                                    )\r\n                                })}\r\n                            </Select>\r\n                        </Form.Item>\r\n                    </Col>\r\n                </Row>\r\n                <Row gutter={16}>\r\n                    <Col span={24}>\r\n                        <Form.Item\r\n                            name=\"CreatedTime\"\r\n                            label=\"日期\"\r\n                            rules={[\r\n                                {\r\n                                    required: true,message:'请选择创建日期!'\r\n                                },\r\n                            ]}\r\n                        >\r\n                            <DatePicker showTime style={{width:\"100%\"}}/>\r\n                        </Form.Item>\r\n                    </Col>\r\n                </Row>\r\n                {/*<Row gutter={16}>\r\n                    <Col span={24}>\r\n                        <Form.Item\r\n                            name=\"Content\"\r\n                            label=\"笔记内容\"\r\n                            rules={[\r\n                                {\r\n                                    required: false,\r\n                                },\r\n                            ]}\r\n                        >\r\n                            <Input.TextArea rows={4} placeholder=\"你可以在此输入一些基本的内容或者默认不添加内容\" />\r\n                        </Form.Item>\r\n                    </Col>\r\n                </Row>*/}\r\n                <Row gutter={16}>\r\n                    <Col span={24}>\r\n                        <Form.Item>\r\n                            <div style={{\r\n                                float:'right'\r\n                            }}>\r\n                                <Button htmlType=\"button\" onClick={this.props.onCancel}  style={{ marginRight: \"10px\" }}>\r\n                                    取消\r\n                                </Button>\r\n                                <Button type=\"primary\" htmlType=\"submit\" >\r\n                                    确认\r\n                                </Button>\r\n                            </div>\r\n                        </Form.Item>\r\n                    </Col>\r\n                </Row>\r\n            </Form>\r\n        );\r\n    }\r\n}\r\n\r\nexport default FromNoteBookForm;","import React,{Component,Fragment} from \"react\";\r\nimport {Layout, Menu, Input, message, Button, Dropdown, Tooltip, Tag, notification, Result} from 'antd';\r\nimport {\r\n    CopyOutlined, DeleteOutlined, EditOutlined, PlusSquareOutlined,\r\n    SmileOutlined, SortAscendingOutlined, SortDescendingOutlined,\r\n    TagOutlined, TeamOutlined, UnorderedListOutlined,\r\n} from '@ant-design/icons';\r\nimport Modal from \"antd/es/modal/Modal\";\r\nimport PubSub from \"pubsub-js\";\r\nimport {connect} from \"react-redux\"\r\nimport MyBraftEditor from \"./Braft\";\r\nimport MyPageHeader from \"./MyHeader\";\r\n// import logo from \"../../static/images/leanote/logo/leanote_white.png\"\r\nimport logo from \"../../../static/images/logo/Logo.png\"\r\nimport {request} from \"../../../Utils/request\";\r\nimport {addTagListAction, clearAllTagAction, deleteTagListAction} from \"../../../redux/actions/updateTagListAction\";\r\nimport FromNoteBookForm from \"./Form/FromNoteBook\";\r\nimport './leanote.css'\r\n\r\n\r\nconst { Header, Content, Sider } = Layout;\r\nconst { SubMenu } = Menu;\r\n\r\n\r\nclass Leanote extends Component {\r\n    state = {\r\n        collapsed: false,\r\n        //用户信息\r\n        userToken:\"\",\r\n        // userID:\"\",\r\n        //用户笔记本相关信息\r\n        loadingNoteBooksInfo: {isLoading:true,status:true,msg:\"\"},\r\n        //所有的Note集合,\r\n        NoteList:[],\r\n        NoteBookList:[],\r\n        headerNoteBookTitle:'',\r\n\r\n        //垃圾箱\r\n        TrashList:[],\r\n        //note导航栏\r\n        currentNoteNavList:[],\r\n        \r\n        //全局对话框的名字\r\n        willHandleDropDownName:'',\r\n        \r\n        //当前note导航栏的note信息\r\n        currentNoteInfo:{},\r\n        //Note导航的对话框状态\r\n        NoteModalVisible:false,\r\n        \r\n        //左侧导航栏对话框的状态\r\n        NoteBookModalVisible:false,\r\n        currentNoteBookInfo:{},\r\n        //是否正在获取信息\r\n        isGettingData:false,\r\n        //是否使用了标签查询\r\n        isUsingTagNav:false,\r\n\r\n        //是否正在查找笔记\r\n        isSearchingNote:false,\r\n        isSearching:false,\r\n        //查找笔记的暂时保存\r\n        currentNoteNavListCache:[],\r\n        //创建新的笔记的对话框\r\n        createNoteVisible:false,\r\n        //创建心得笔记本的对话框\r\n        createNoteBookVisible:false,\r\n        //相关样式\r\n        // imgOpacity:100,\r\n        // IconOpacity:0,\r\n        //content 内部 css\r\n        content_style:{\r\n            left_container : {\r\n                width: 250,\r\n            },\r\n            scroll : {\r\n                left:250\r\n            },\r\n            right_container : {\r\n                width: \"calc(100% - 250px)\"\r\n            }\r\n        },\r\n        //设置左右移动div的方法\r\n        draggable:false,\r\n        preClientX:0,\r\n        //每次拖动时的宽度\r\n        currentWidth:0,\r\n        //当宽度小于一定时不展示左边的container\r\n        isUsingLeftContainer:true,\r\n        //用户相关体验\r\n        //添加笔记第一次告知用户关于标签的信息\r\n        hasGiveAddNoteInformation:false\r\n        //抽屉表单\r\n        // DrawerVisible:false\r\n    };\r\n    //note导航的右击菜单\r\n    //执行修改名称或者删除操作\r\n    NoteItemNavMenu = Note =>{\r\n        return (\r\n            <Menu>\r\n                <Menu.Item key=\"1\" icon={<EditOutlined />} onClick={this.handleClickNoteItemDropDown(\"Rename\",Note)}>\r\n                    Rename\r\n                </Menu.Item>\r\n                <Menu.Item key=\"2\" icon={<DeleteOutlined />} onClick={this.handleClickNoteItemDropDown(\"Delete\",Note)}>\r\n                    Delete\r\n                </Menu.Item>\r\n            </Menu>\r\n        )\r\n    }\r\n    //左侧导航栏的右击菜单\r\n    menu = NoteBook =>{\r\n        return (\r\n            <Menu>\r\n                <Menu.Item key=\"1\" icon={<EditOutlined />} onClick={this.handleClickLeftNavItemDropDown(\"Rename\",NoteBook)}>\r\n                    Rename\r\n                </Menu.Item>\r\n                <Menu.Item key=\"2\" icon={<DeleteOutlined />} onClick={this.handleClickLeftNavItemDropDown(\"Delete\",NoteBook)}>\r\n                    Delete\r\n                </Menu.Item>\r\n            </Menu>\r\n        )\r\n    }\r\n    //标签栏的导航，只提供删除服务\r\n    TagDropDown = TagObj =>{\r\n        return (\r\n            <Menu>\r\n                <Menu.Item key=\"DeleteTag\" icon={<DeleteOutlined />} onClick={this.handleClickLeftTagNavDropDown(TagObj)}>\r\n                    Delete\r\n                </Menu.Item>\r\n            </Menu>\r\n        )\r\n\r\n    }\r\n    //note导航栏的排序选项\r\n    NoteListNav = () => {\r\n        return (\r\n            <Menu mode='vertical'>\r\n                {/*从大到小*/}\r\n                <Menu.ItemGroup  className='NoteNavItemGroup'>\r\n                    <Menu.Item key=\"DateCreatedDesc\" className=\"NoteNavMenuItem\" icon={<SortAscendingOutlined />}>\r\n                       创建日期\r\n                    </Menu.Item>\r\n                    {/*从小到大*/}\r\n                    <Menu.Item key=\"DateCreatedAsc\" className=\"NoteNavMenuItem\"  icon={<SortDescendingOutlined />}>\r\n                        创建日期\r\n                    </Menu.Item>\r\n                </Menu.ItemGroup>\r\n\r\n                <Menu.ItemGroup  className='NoteNavItemGroup'>\r\n                    <Menu.Item key=\"DateUpdatedAsc\" className=\"NoteNavMenuItem \" icon={<SortAscendingOutlined />}>\r\n                        更新日期\r\n                    </Menu.Item>\r\n                    <Menu.Item key=\"DateUpdatedDesc\" className=\"NoteNavMenuItem\" icon={<SortDescendingOutlined />}>\r\n                       更新日期\r\n                    </Menu.Item>\r\n                </Menu.ItemGroup>\r\n            </Menu>\r\n        )\r\n    }\r\n    async componentDidMount(){\r\n        // console.log(\"状态\",this.props.location.state.token);\r\n        console.log(\r\n            \"⠀               ⣀⣀⣀⣀⣀⣀⣀⣠⠂⠀⠂⢁⠀⠀⠀⠀\\n\" +\r\n            \"⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢀⣴⣻⣽⣻⣺⡽⣻⣻⣽⣻⣺⣆⠀⠀⠄⠀⠀⠀\\n\" +\r\n            \"⠀⠀⠀⠀⠀⠀⠀⠀⠀⢀⣤⡿⠿⠫⠉⢀⣺⣺⠇⠀⠈⠉⠉⣺⣺⣮⡄⠀⠀⠀\\n\" +\r\n            \"⠀⠀⠀⠀⠀⠀⠀⠀⠀⣾⡟⢀⠄⠠⡈⠙⠋⠁⠀⠐⠁⡈⢢⠈⢿⣺⣺⡄⠀⠀\\n\" +\r\n            \"⠀⠀⠀⠀⠀⠀⠀⠀⠘⡟⠀⠘⠀⣴⡄⠀⠀⠀⠀⠀⠸⠟⠀⠀⠀⠙⠿⠇⠀⠀\\n\" +\r\n            \"⠀⠀⠀⠀⠀⠀⠀⠀⢀⢃⠀⠀⠠⠈⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠈⠨⠐⠀⠀\\n\" +\r\n            \"⠀⠀⠀⠀⠀⠀⠀⠀⠀⠬⡀⠀⠀⠀⠀⠀⠀⠀⠀⠀⡀⠄⠐⠀⠀⢈⠀⠁⠀⠀\\n\" +\r\n            \"⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠐⠀⠀⠀⠁⠢⠀⠀⠐⠁⠀⠀⠀⡀⠈⠀⠀⠀⠀⠀\\n\" +\r\n            \"⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠁⠂⢠⣤⣀⣀⣤⣤⣤⣖⠄⢀⠀⠀⠀⠀⠀⠀\\n\" +\r\n            \"⠀⠀⠀⠀⠀⠀⠀⠀⢀⠠⢄⢆⢗⢝⢜⡜⣜⢭⢫⢪⡪⡪⡲⡡⡀⡀⠀⠀⠀\\n\" +\r\n            \"⠀⠀⣀⡠⢀⠠⡰⡔⣕⢕⡝⡜⣎⢮⢣⡣⡫⡪⡪⡪⡣⡣⡫⡪⡺⡸⣌⡂⡀⠀\\n\" +\r\n            \"⠀⠀⠁⢀⢆⠸⠕⣇⢧⡣⡳⣹⢸⡪⡪⡪⡗⡝⡜⡕⡝⡜⣕⢽⡘⣪⢲⢱⡪⠀\\n\" +\r\n            \"⠀⠀⠀⠀⠁⠀⠀⠀⠀⠀⠀⠀⢰⢕⢝⢜⡎⡞⣜⢕⢝⡜⣜⡜⡎⡮⡪⡣⠃⠀\\n\" +\r\n            \"⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⡳⢹⡸⡱⡹⡸⡸⣱⡱⢱⠁⡋⠎⠊⠀⠀⠀\\n\" +\r\n            \"⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢀⡝⣒⢖⢆⡔⣔⢖⢆⠯⣍⠸⠅⠜⠀⠀⠀⠀\\n\" +\r\n            \"⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠸⡸⡪⣪⣎⠮⣪⢎⢧⢫⡪⡎⡷⠀⠀⠀⠀⠀\\n\" +\r\n            \"⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠃⠀⢀⠊⠀⠀⠀⠈⠃⠉⠀⡃⠀⠀⠀⠀⠀\\n\" +\r\n            \"⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢸⠀⠀⡘⠀⠀⠀⠀⠀⢂⠀⢀⢠⠀⠀⠀⠀⠐\\n\" +\r\n            \"⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⣰⢯⣤⡴⡆⠀⠀⠀⠀⠀⠀⣦⠀⢸⣄⠀⠀⠀⢈\\n\" +\r\n            \"⠀⠀⠀⠀⠀⠀⠀⣠⡶⣶⣻⣽⣻⣺⡽⠇⠀⠀⠀⠀⠀⠀⣯⢿⣽⣺⢄⠀⠀⠠\\n\" +\r\n            \"⠀⠀⠀⠀⠀⠀⠀⠙⠙⠓⠛⠚⠃⠁⠀⠀⠀⠀⠀⠀⠀⠀⠈⠛⢾⣺⢯⣟⡦⡀\\n\" +\r\n            \"⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠙⠙⠺⠝⢃\")\r\n        PubSub.subscribe(\"updateNote\",(msg,Note) => {\r\n            // console.log(\"PubSubNote\",Note);\r\n            Note.Title = Note.subTitle;\r\n            this.setState(({NoteBookList,currentNoteNavList,NoteList}) =>{\r\n                //找到对应的笔记本的笔记进行修改\r\n                NoteBookList.forEach(Notebook => {\r\n                    if (Notebook.NotebookId === Note.NotebookId){\r\n                        Notebook.notes = [...(Notebook.notes.filter(ele => ele.NoteId !== Note.NoteId)),Note]\r\n                    }\r\n                })\r\n               /* let NoteBook = NoteBookList.find(ele => ele.NotebookId === Note.NotebookId)\r\n                NoteBook.notes = [...(NoteBook.notes.filter(ele => ele.NoteId !== Note.NoteId)),Note]\r\n                NoteBookList = [...(NoteBookList.filter(ele => ele.NotebookId !== NoteBook.NotebookId)),NoteBook]*/\r\n                NoteList = [...(NoteList.filter(ele => ele.NoteId !== Note.NoteId)),Note]\r\n                currentNoteNavList = [...(currentNoteNavList.filter(ele => ele.NoteId !== Note.NoteId)),Note]\r\n                // console.log(currentNoteNavList);\r\n                return{\r\n                    NoteBookList,\r\n                    currentNoteNavList,\r\n                    NoteList\r\n                }\r\n            });\r\n        })\r\n        await this.getData();\r\n    }\r\n    getData = async () => {\r\n        if (this.state.isGettingData){\r\n            message.info(\"请不要频繁获取信息!\")\r\n            return;\r\n        }\r\n        this.setState({isGettingData:true});\r\n        //redux清空\r\n        this.props.clearAllTagAction(null);\r\n        try {\r\n/*            let result;\r\n            let TrashList = [];\r\n            result = await request(\"auth/login\",{email:\"admin\",pwd:\"123456\"},\"post\")\r\n            console.log(result);\r\n            if (result.Ok) {\r\n                message.loading({ content: '加载中...', key:'getData'});\r\n                this.setState({userToken:result.Token})\r\n                result = await request(\"tag/getSyncTags\", {token: this.state.userToken}, \"post\");\r\n                // result = await request(\"tag/getSyncTags\", {token: this.props.location.state.token}, \"post\");\r\n                //删除的Tag过滤\r\n\r\n                if (result.length > 0){\r\n                    result = result.filter(ele => !ele.IsDeleted)\r\n                    console.log(\"Tag\",result);\r\n                    this.props.addTagListAction(result)\r\n                    // this.setState({TagList:result})\r\n                }\r\n                result = await request(\"notebook/getNotebooks\", {token: this.state.userToken}, \"post\");\r\n                // result = await request(\"notebook/getNotebooks\", {token: this.props.location.state.token}, \"post\");\r\n                //获取笔记本列表\r\n                //     console.log(result);\r\n                let NoteBookList = result;\r\n                let NoteList = [];\r\n\r\n                if (result.length > 0) {\r\n\r\n                    // let TrashList = [];\r\n                    //获取每一个noteBook当前所拥有的笔记个数\r\n                    //获取的笔记数默认多一个需要从数组index为1开始截取\r\n                    for (let i = 0;i < NoteBookList.length; i++) {\r\n                        result = await request(\"/note/getNotes\", {token:this.state.userToken, notebookId: NoteBookList[i].NotebookId}, \"post\");\r\n                        // result = await request(\"/note/getNotes\", {token: this.props.location.state.token, notebookId: NoteBookList[i].NotebookId}, \"post\");\r\n\r\n                        // console.log(result);\r\n                        if(result && result.length >= 1){\r\n                            NoteBookList[i] = {...NoteBookList[i], notes:[...result.filter(ele => !ele.IsTrash)]}\r\n                            TrashList = [...TrashList,...result.filter(ele => ele.IsTrash)];\r\n                            /!*for(let j = 0;j < result.length;j++){\r\n                                if (result[j].IsTrash){\r\n                                    TrashList = [...TrashList,result[j]];\r\n                                }\r\n                            }*!/\r\n                            NoteList = [...NoteList,...result]\r\n                            continue;\r\n                        }\r\n                        NoteBookList[i] = {...NoteBookList[i], notes: []}\r\n                    }\r\n                    console.log('NoteBookList',NoteBookList);\r\n                }\r\n                this.setState({NoteBookList,NoteList,TrashList,loadingNoteBooksInfo: {isLoading: false,status: true,msg: \"\"}})\r\n                message.success({ content: '成功获取信息!', key:'getData',duration:2});\r\n                // this.setState({userToken:this.props.location.state.token,NoteBookList,NoteList,loadingNoteBooksInfo: {isLoading: false,status: true,msg: \"\"}})\r\n            }else {\r\n                message.warn(\"登陆失败！！\");\r\n            }*/\r\n             let result;\r\n             let TrashList = [];\r\n\r\n\r\n             result = await request(\"tag/getSyncTags\", {token: this.props.token}, \"post\");\r\n             //删除的Tag过滤\r\n\r\n             if (result.length > 0){\r\n                 result = result.filter(ele => !ele.IsDeleted)\r\n                 console.log(\"Tag\",result);\r\n                 this.props.addTagListAction(result)\r\n                 // this.setState({TagList:result})\r\n             }\r\n             result = await request(\"notebook/getNotebooks\", {token: this.props.token}, \"post\");\r\n             //获取笔记本列表\r\n             //     console.log(result);\r\n             let NoteBookList = result;\r\n             let NoteList = [];\r\n\r\n             if (result.length > 0) {\r\n\r\n                 // let TrashList = [];\r\n                 //获取每一个noteBook当前所拥有的笔记个数\r\n                 //获取的笔记数默认多一个需要从数组index为1开始截取\r\n                 for (let i = 0;i < NoteBookList.length; i++) {\r\n                     result = await request(\"note/getNotes\", {token: this.props.token, notebookId: NoteBookList[i].NotebookId}, \"post\");\r\n\r\n                     // console.log(result);\r\n                     if(result && result.length >= 1){\r\n                         NoteBookList[i] = {...NoteBookList[i], notes:[...result.filter(ele => !ele.IsTrash)]}\r\n                         TrashList = [...TrashList,...result.filter(ele => ele.IsTrash)];\r\n                         NoteList = [...NoteList,...result]\r\n                         continue;\r\n                     }\r\n                     NoteBookList[i] = {...NoteBookList[i], notes: []}\r\n                 }\r\n                 console.log('NoteBookList',NoteBookList);\r\n             }\r\n             this.setState({userToken:this.props.token,NoteBookList,NoteList,loadingNoteBooksInfo: {isLoading: false,status: true,msg: \"\"}})\r\n        }catch (e){\r\n            console.log(e);\r\n            this.setState({loadingNoteBooksInfo:{isLoading:false,status:false,msg:\"加载失败请刷新再试...\"}});\r\n            message.warn({content:'加载失败请刷新再试...',key:'getData',duration:2})\r\n        }\r\n        if(this.state.loadingNoteBooksInfo.status){\r\n            setTimeout(()=>{\r\n                this.setState({isGettingData:false});\r\n            },10000)\r\n        }\r\n\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this.setState({},()=>{\r\n            return false\r\n        })\r\n        PubSub.unsubscribe(\"updateNote\");\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param type\r\n     * @param NoteBook\r\n     * @returns 右键导航的dropdown菜单的回调，用于删除或者修改NoteBook\r\n     */\r\n    handleClickLeftNavItemDropDown = (type,NoteBook) =>{\r\n        return async () => {\r\n            switch (type){\r\n                case \"Delete\":\r\n                    console.log(\"Delete\",NoteBook)\r\n                    if (window.confirm(\"确认删除吗?\")){\r\n                        message.loading({ content: 'Loading...',key:'deleteNoteBook'});\r\n                        let result = await request(\"notebook/deleteNotebook\",{\r\n                            notebookId:NoteBook.NotebookId,\r\n                            usn:NoteBook.Usn,\r\n                            token:this.state.userToken\r\n                        },\"post\")\r\n                        console.log(result);\r\n                        if (result.Ok){\r\n                            this.setState(({NoteBookList,NoteList,currentNoteBookInfo,currentNoteNavList,headerNoteBookTitle}) => {\r\n                                NoteBookList =  NoteBookList.filter(ele => ele.NotebookId !== NoteBook.NotebookId);\r\n                                NoteList = NoteList.filter(Note => Note.NotebookId !== NoteBook.NotebookId)\r\n                                if (NoteBook.notebookId === currentNoteBookInfo.NotebookId || NoteBookList.length === 0) {\r\n                                    currentNoteNavList = [];\r\n                                    headerNoteBookTitle = \"\"\r\n                                }\r\n                                return {\r\n                                    currentNoteNavList,\r\n                                    NoteList,\r\n                                    NoteBookList,\r\n                                    headerNoteBookTitle\r\n                                }\r\n                            })\r\n                            message.success({ content: '删除成功!', key:'deleteNoteBook', duration: 2 });\r\n                        }else {\r\n                            message.warn({ content: '删除失败请稍后重试!', key:'deleteNoteBook', duration: 2 });\r\n                        }\r\n                    }\r\n                    break;\r\n                case \"Rename\":\r\n                    this.setState({\r\n                        willHandleDropDownName:NoteBook.Title,\r\n                        currentNoteBookInfo:NoteBook,\r\n                        NoteBookModalVisible:true\r\n                    })\r\n                    console.log(\"Rename\",NoteBook)\r\n                    break;\r\n                default:\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     *\r\n     * @param type\r\n     * @param Note\r\n     * @returns 笔记右击菜单的回调\r\n     */\r\n    handleClickNoteItemDropDown = (type,Note) => {\r\n        return async () => {\r\n            switch (type){\r\n                case \"Delete\":\r\n                    if (window.confirm(\"确认要删除吗?你的操作将无法返回\")){\r\n                        console.log(\"即将删除的笔记\",Note)\r\n                        let result = await request(\"note/updateNote\",{IsTrash:true,token:this.state.userToken,NoteId:Note.NoteId,Usn:Note.Usn})\r\n                        console.log(result);\r\n                        if (!result.hasOwnProperty(\"Ok\")){\r\n\r\n                            this.setState(({currentNoteNavList,NoteList,NoteBookList,TrashList}) =>{\r\n                                //删除后更新状态\r\n                                currentNoteNavList = currentNoteNavList.filter(ele => ele.NoteId !== Note.NoteId);\r\n                                NoteList = NoteList.filter(ele => ele.NoteId !== Note.NoteId);\r\n                                NoteBookList.forEach(Notebook => {\r\n                                    if (Note.NotebookId === Notebook.NotebookId){\r\n                                        Notebook.notes = Notebook.notes.filter(note => note.NoteId !== Note.NoteId);\r\n                                    }\r\n                                })\r\n                                TrashList.push(Note)\r\n                                return{\r\n                                    TrashList,\r\n                                    NoteBookList,\r\n                                    NoteList,\r\n                                    currentNoteNavList,\r\n                                }\r\n                            });\r\n                            message.success(\"移除成功\")\r\n                        }else {\r\n                            message.warn(\"网络异常请稍后再试\")\r\n                        }\r\n                    }\r\n                    break;\r\n                case \"Rename\":\r\n                    this.setState({\r\n                        NoteModalVisible:true,\r\n                        currentNoteInfo:Note,\r\n                        willHandleDropDownName:Note.Title\r\n                    });\r\n                    console.log('Rename',Note)\r\n                    break;\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * 当前选中删除标签\r\n     * Note中包含的标签不影响最终使用\r\n     *\r\n     */\r\n    handleClickLeftTagNavDropDown = TagObj => {\r\n        return async () => {\r\n            let result = await request(\"tag/deleteTag\",{token:this.state.userToken,tag:TagObj.Tag,usn:TagObj.Usn})\r\n            // /tag/deleteTag 删除标签\r\n            // console.log(\"DeleteTag\",TagObj);\r\n            console.log(result);\r\n            if(result.Ok){\r\n                message.success(\"删除成功\");\r\n                this.props.deleteTagListAction(TagObj)\r\n            }else {\r\n                message.warn(\"网络异常请稍后再试\")\r\n            }\r\n        }\r\n    }\r\n   /*\r\n    //处理笔记本修改名称的回调\r\n    hideNoteBookUpdateModal = isOk => {\r\n        return async () => {\r\n            let{currentNoteBookInfo,NoteBookList} = this.state;\r\n            let currentValue = this.changeNoteBookOrNoteNameInput.input.defaultValue\r\n            if (isOk) {\r\n                if (NoteBookList.find(ele => ele.Title === currentValue)) {\r\n                    message.warn(\"请勿输入相同的笔记本名称!\")\r\n                    return;\r\n                }\r\n                //更新NoteBook信息\r\n                let result = await request(\"notebook/updateNotebook\",{\r\n                    notebookId:currentNoteBookInfo.NotebookId,\r\n                    title:currentValue,\r\n                    usn:currentNoteBookInfo.Usn,\r\n                    token:this.state.userToken\r\n                },\"post\")\r\n                console.log(result);\r\n                //不含有OK属性说明返回了一个对象\r\n                if (!result.hasOwnProperty(\"Ok\")){\r\n\r\n                    currentNoteBookInfo.Title = currentValue\r\n                    currentNoteBookInfo.Usn = result.Usn\r\n\r\n                    NoteBookList = [...NoteBookList.filter(ele => ele.Title !== currentNoteBookInfo.Title),currentNoteBookInfo]\r\n                    this.setState({NoteBookList})\r\n                    message.success(\"修改成功!\")\r\n                }else {\r\n                    message.warn(\"网络异常请稍后再试\")\r\n                }\r\n            }\r\n            this.setState({\r\n                NoteBookModalVisible: false,\r\n            });\r\n        }\r\n    };\r\n    //修改笔记名称的回调\r\n    hideNoteUpdateModal = isOk =>{\r\n        return async () => {\r\n            let {currentNoteNavList,currentNoteInfo} = this.state\r\n            let currentValue = this.changeNoteBookOrNoteNameInput.input.defaultValue;\r\n            if(isOk){\r\n                if (currentNoteNavList.find(ele => ele.Title === currentValue)){\r\n                    message.warn(\"请勿输入相同的笔记名称!\")\r\n                    return;\r\n                }\r\n                let result = await request(\"note/updateNote\",{\r\n                    NoteId:currentNoteInfo.NoteId,\r\n                    Usn:currentNoteInfo.Usn,\r\n                    Title:currentValue,\r\n                    token:this.state.userToken\r\n                },\"post\");\r\n                console.log(result);\r\n                if (!result.hasOwnProperty(\"Ok\")){\r\n\r\n                    currentNoteInfo.Title = currentValue\r\n                    currentNoteInfo.Usn = result.Usn\r\n\r\n                    currentNoteNavList = [...currentNoteNavList.filter(ele => ele.Title !== currentNoteInfo.Title),currentNoteInfo]\r\n                    this.setState({currentNoteNavList})\r\n                    message.success(\"修改成功!\")\r\n                }else {\r\n                    message.warn(\"网络异常请稍后再试\")\r\n                }\r\n            }\r\n            /!*console.log(isOk);\r\n            console.log(this.state.currentNoteInfo);*!/\r\n            this.setState({NoteModalVisible:false});\r\n        }\r\n    }*/\r\n    //统一处理两个对话框\r\n    handleModal = type => {\r\n        return async () =>{\r\n            let{NoteBookList,currentNoteBookInfo,currentNoteNavList,currentNoteInfo} = this.state\r\n            let currentValue = this.changeNoteBookOrNoteNameInput.input.defaultValue;\r\n            if (currentValue === '') {\r\n                message.warn(\"请输入新的名称!\");\r\n                return;\r\n            }\r\n            let willUpdateObj;\r\n            let currentObj;\r\n            let result;\r\n            switch (type){\r\n                case \"NoteBook\":\r\n                    type = \"NotebookId\";\r\n                    willUpdateObj = NoteBookList;\r\n                    currentObj = currentNoteBookInfo;\r\n                    //更新NoteBook信息\r\n                    result = request(\"notebook/updateNotebook\",{\r\n                        notebookId:currentObj.NotebookId,\r\n                        title:currentValue,\r\n                        usn:currentObj.Usn,\r\n                        token:this.state.userToken\r\n                    })\r\n                    break;\r\n                case \"Note\":\r\n                    type = \"NoteId\";\r\n                    willUpdateObj = currentNoteNavList;\r\n                    currentObj = currentNoteInfo;\r\n                    //更新笔记信息\r\n                    result = request(\"note/updateNote\",{\r\n                        NoteId:currentObj.NoteId,\r\n                        Usn:currentObj.Usn,\r\n                        Title:currentValue,\r\n                        token:this.state.userToken\r\n                    });\r\n                    break;\r\n            }\r\n            await this.handleModalRequest(willUpdateObj,currentObj,currentValue,result,type)\r\n        }\r\n    }\r\n    handleModalRequest = async (willUpdateObj,currentObj,currentValue,result,type) => {\r\n        console.log(willUpdateObj);\r\n        if (willUpdateObj.find(ele => !ele.IsDeleted && ele.Title === currentValue)){\r\n            message.warn(\"请勿输入相同的名称!\")\r\n            return;\r\n        }\r\n        result = await result;\r\n        console.log(\"ModalRequest\",result);\r\n        if (!result.hasOwnProperty(\"Ok\")){\r\n\r\n            currentObj.Title = currentValue\r\n            currentObj.Usn = result.Usn\r\n            currentObj.UpdatedTime = result.UpdatedTime\r\n\r\n            willUpdateObj = [...willUpdateObj.filter(ele => ele[type] !== currentObj[type]),currentObj]\r\n            message.success(\"修改成功!\")\r\n        }else {\r\n            message.warn(\"网络异常请稍后再试\")\r\n        }\r\n        switch (type){\r\n            case \"NotebookId\":\r\n                this.setState({NoteBookList:willUpdateObj,NoteBookModalVisible:false});\r\n                break;\r\n            case \"NoteId\":\r\n                this.HeaderChangePubSub(currentObj,\"\",\"update\")\r\n                this.setState({currentNoteNavList:willUpdateObj,NoteModalVisible:false});\r\n                break;\r\n        }\r\n    }\r\n    //导航栏切换后需要更改头部notebook名称\r\n    handleClickLeftNavItem = (title,notes,currentNoteBookInfo) => {\r\n        return () =>{\r\n            this.setState({headerNoteBookTitle:title,currentNoteNavList:notes,isUsingTagNav:false,currentNoteBookInfo})\r\n        }\r\n    }\r\n    /**\r\n     *\r\n     * @param TagObj\r\n     * @returns 单机标签导航栏的回调同上一个方法\r\n     */\r\n    handleClickTagNav = TagObj => {\r\n        return () =>{\r\n            // console.log(\"TagObj\",TagObj)\r\n            let {NoteList} = this.state;\r\n            // console.log(NoteList);\r\n            let currentNoteNavList = [];\r\n            NoteList.forEach(note => {\r\n                note.Tags.forEach(tag => {\r\n                    if (tag === TagObj.Tag){\r\n                        currentNoteNavList = [...currentNoteNavList,note]\r\n                    }\r\n                })\r\n            })\r\n            // console.log(\"单机标签导航\",currentNoteNavList);\r\n            /* NoteBookList.forEach(NoteBook => {\r\n                 NoteBook.notes.forEach(note => {\r\n                     note.Tags.forEach(tag => {\r\n                         if (tag === TagObj.Tag){\r\n                             currentNoteNavList = [...currentNoteNavList,note]\r\n                         }\r\n                     })\r\n                 })\r\n             })*/\r\n            this.setState({headerNoteBookTitle:TagObj.Tag,currentNoteNavList,isUsingTagNav:true})\r\n            this.HeaderChangePubSub();\r\n        }\r\n    }\r\n    //点击当前notebook的note的回调\r\n    handleNoteListItem = (ele,parentTitle,type) =>{\r\n        return () => {\r\n            this.HeaderChangePubSub(ele,parentTitle,type);\r\n        }\r\n    }\r\n    HeaderChangePubSub = (ele,parentTitle,type) => {\r\n        // console.log('dianji',ele);\r\n        if (ele){\r\n            PubSub.publish(\"NoteInfo\",{\r\n                NoteInfo:{\r\n                    //当前note的更新序号\r\n                    Usn:ele.Usn,\r\n                    NotebookId:ele.NotebookId,\r\n                    NoteId:ele.NoteId,\r\n                    subTitle:ele.Title,\r\n                    CreatedTime:ele.CreatedTime,\r\n                    UpdatedTime:ele.UpdatedTime,\r\n                    Tags:(ele.Tags.length === 1 && ele.Tags[0] === '' ? [] : ele.Tags),\r\n                    parentTitle,\r\n                    IsMarkdown:ele.IsMarkdown\r\n                },\r\n                type\r\n            })\r\n        }else {\r\n            PubSub.publish(\"NoteInfo\",{\r\n                type:'Tag'\r\n            })\r\n        }\r\n    }\r\n    //全局查询笔记\r\n    handleFindNote = () => {\r\n        let {NoteList,isSearching} = this.state;\r\n        //函数防抖\r\n        if (isSearching) {\r\n            return;\r\n        }\r\n        this.setState({isSearching:true,isSearchingNote:true})\r\n        this.timer = setInterval(() =>{\r\n            let searchNoteName = this.searchNoteName.input.defaultValue\r\n            console.log(searchNoteName);\r\n            if(searchNoteName === ''){\r\n                this.setState({isSearching:false,isSearchingNote:false})\r\n                // console.log('clear')\r\n                clearInterval(this.timer)\r\n            }else {\r\n                let currentNoteNavListCache = NoteList.filter(note => note.Title.indexOf(searchNoteName) !== -1)\r\n                this.setState({currentNoteNavListCache})\r\n            }\r\n        },500)\r\n        setTimeout(()=>{\r\n            if (this.timer){\r\n                this.setState({isSearching:false})\r\n                clearInterval(this.timer)\r\n            }\r\n        },5000)\r\n    }\r\n    //列表查询笔记本\r\n    handleSearchNoteBook = () => {\r\n        let {NoteBookList} = this.state;\r\n        let searchNoteBookName = this.searchNoteBookName.input.defaultValue\r\n        let NoteBook = NoteBookList.find(NoteBook => NoteBook.Title.indexOf(searchNoteBookName) !== -1);\r\n        if (NoteBook){\r\n            this.setState({headerNoteBookTitle:NoteBook.Title,currentNoteNavList:NoteBook.notes,isUsingTagNav:false})\r\n        }\r\n    }\r\n    handleFormFinish = async NoteInfo => {\r\n        console.log(NoteInfo);\r\n        let{NoteBookList} = this.state;\r\n        //全局笔记本中寻找\r\n        if (NoteBookList.find(ele => ele.NotebookId === NoteInfo.NotebookId).notes.find(ele => ele.Title === NoteInfo.Title)){\r\n            message.warn(\"请勿添加相同的笔记名称\")\r\n            return;\r\n        }\r\n        await this.handleFormRequest(NoteInfo);\r\n        this.setState({createNoteVisible:false});\r\n    }\r\n    handleFormRequest = async NoteInfo => {\r\n        /*\r\n            NotebookId string 必传\r\n            Title string 必传\r\n            Tags []string 可选\r\n            Content string 必传\r\n            Abstract string 可选, 当是markdown笔记时必须传\r\n            IsMarkdown bool 可选\r\n            CreatedTime string 可选, 如2012-12-01 12:32:11\r\n            UpdatedTime string 可选, 如2012-12-01 12:32:11\r\n            Files []type.NoteFiles 数组  可选\r\n         */\r\n        let{NotebookId,Title,Tags,CreatedTime,type} = NoteInfo\r\n        let result = await request(\"note/addNote\",{token:this.state.userToken,NotebookId,Tags,Title,Content:\"\",CreatedTime,IsMarkdown:type === 'MarkDown'})\r\n        console.log(result);\r\n        if (!result.hasOwnProperty(\"Ok\")){\r\n            message.success(\"添加笔记成功!\")\r\n            this.setState(({NoteBookList,NoteList,currentNoteNavList,currentNoteBookInfo,hasGiveAddNoteInformation}) => {\r\n                //找到对应的笔记本和笔记数组过滤修改\r\n                NoteBookList.forEach(Notebook =>　{\r\n                    if (Notebook.NotebookId === NotebookId){\r\n                        Notebook.notes = [...Notebook.notes,result]\r\n                    }\r\n                })\r\n               /* let currentNoteBook = NoteBookList.find(ele => ele.NotebookId === NotebookId);\r\n                currentNoteBook.notes = [...currentNoteBook.notes,result];\r\n                NoteBookList = [...(NoteBookList.filter(ele => ele.NotebookId !== currentNoteBook.NotebookId)),currentNoteBook]*/\r\n                NoteList = [...NoteList,result];\r\n                //如果当前处于笔记本下的导航则需要添加\r\n                if (currentNoteBookInfo.NotebookId === NotebookId){\r\n                    currentNoteNavList = [...currentNoteNavList,result];\r\n                }\r\n                if (!hasGiveAddNoteInformation){\r\n                    hasGiveAddNoteInformation = true;\r\n                    const key = `open${Date.now()}`;\r\n                    const btn = (\r\n                        <Button type=\"primary\" size=\"small\" onClick={() => notification.close(key)}>\r\n                            确认\r\n                        </Button>\r\n                    )\r\n                    notification.open({\r\n                        message: '提示',\r\n                        duration:0,\r\n                        description:\r\n                            '新添加笔记的标签在更新后不会显示在导航栏,这是后端api原因,后续会修改',\r\n                        btn,\r\n                        key\r\n                    })\r\n                }\r\n                return {\r\n                    hasGiveAddNoteInformation,\r\n                    NoteBookList,\r\n                    NoteList,\r\n                    currentNoteNavList\r\n                }\r\n            })\r\n        }else {\r\n            message.warn(\"添加失败请稍后再试!\")\r\n        }\r\n    }\r\n    handleCreateNote = () => {\r\n        return async () => {\r\n            if (this.state.NoteBookList.length > 0){\r\n                this.setState({createNoteVisible:true});\r\n            }else{\r\n                // message.warn(\"当前没有笔记本,请先创建笔记本后\")\r\n                notification.info({\r\n                    duration:2,\r\n                    message:'提示',\r\n                    description:'当前没有笔记本,请先创建笔记本后重试'\r\n                })\r\n            }\r\n        }\r\n\r\n    }\r\n    handleCreateNoteBookModal = () => {\r\n        return async () => {\r\n            let createNoteBookName = this.createNoteBookName.input.defaultValue;\r\n            let{NoteBookList} = this.state;\r\n            if (NoteBookList.find(ele => ele.Title === createNoteBookName)){\r\n                message.warn(\"请勿添加相同的笔记本\")\r\n                return;\r\n            }\r\n            let result = await request(\"notebook/addNotebook\",{token:this.state.userToken,title:createNoteBookName})\r\n            console.log(result);\r\n            if (!result.hasOwnProperty(\"Ok\")){\r\n                message.success(\"添加成功\")\r\n                this.setState(({NoteBookList}) => {\r\n                    result.notes = [];\r\n                    NoteBookList = [...NoteBookList,result];\r\n                    return {NoteBookList};\r\n                })\r\n            }else{\r\n                message.warn(\"添加失败请稍后再试\");\r\n            }\r\n            this.setState({createNoteBookVisible:false})\r\n        }\r\n    }\r\n    HandleDeleteTrash = ele =>{\r\n        return async () => {\r\n            let result = await request('note/deleteTrash',{token:this.state.userToken,noteId:ele.NoteId})\r\n            console.log(result);\r\n\r\n            if(result.OK){\r\n                message.success('删除成功')\r\n                this.setState(({TrashList}) => {\r\n                    TrashList = TrashList.filter(Note => Note.NoteId !== ele.NoteId)\r\n                    return {TrashList}\r\n                })\r\n            }else {\r\n                message.warn(\"删除失败!\")\r\n            }\r\n            // console.log(result)\r\n\r\n        }\r\n    }\r\n   /* createNewNote = () => {\r\n        this.setState({createNoteVisible:true})\r\n    }*/\r\n    //处理新建笔记本的对话框\r\n    /*handleCreateNoteModal = () => {\r\n        this.setState({createNoteVisible:false});\r\n    }*/\r\n\r\n    //鼠标按下split时\r\n    handleOnMouseDown = event =>{\r\n        let{clientX} = event;\r\n        let{content_style} = this.state\r\n        let{width} = content_style.left_container\r\n        //获取当前两个容器的宽度和相比较的前一个鼠标位置\r\n        this.setState({draggable:true,preClientX:clientX,currentWidth:width})\r\n    }\r\n    //拖拽分界线修改左右div宽度\r\n    dragDivideLine = event => {\r\n        let {draggable,preClientX,currentWidth} = this.state;\r\n        let {clientX} = event;\r\n        let isUsingLeftContainer = true;\r\n        if (draggable){\r\n            let tempLength = clientX - preClientX + currentWidth\r\n            if(tempLength < 0){\r\n                this.setState({draggable: false});\r\n                return;\r\n            }\r\n            //最小距离限制\r\n            if (tempLength < 250 || tempLength  > 700) {\r\n                if (tempLength < 100){\r\n                    tempLength = 0;\r\n                    isUsingLeftContainer = false;\r\n                }else {\r\n                    return;\r\n                }\r\n            }\r\n            this.setState({\r\n                content_style:{\r\n                    left_container:{width:tempLength},\r\n                    right_container:{width: `calc(100% - ${tempLength}px)`},\r\n                    scroll:{left: tempLength}\r\n                },\r\n                isUsingLeftContainer\r\n            })\r\n        }\r\n    }\r\n\r\n    render() {\r\n        let{NoteBookList,NoteList,TrashList,loadingNoteBooksInfo,headerNoteBookTitle,content_style,draggable,\r\n            currentNoteNavList,collapsed,isUsingTagNav,isSearchingNote,currentNoteNavListCache,isUsingLeftContainer} = this.state\r\n        let {TagList} = this.props\r\n        //content拖动样式\r\n        let{left_container,right_container,scroll} = content_style\r\n\r\n        let{isLoading,msg,status} = loadingNoteBooksInfo;\r\n        //决定使用哪种状态显示\r\n        currentNoteNavList = isSearchingNote ? currentNoteNavListCache : currentNoteNavList;\r\n        headerNoteBookTitle = isSearchingNote ? \"Search\" : headerNoteBookTitle\r\n       /* {\r\n            this.state.collapsed ?\r\n                <div style={{position:\"relative\"}}>\r\n                    <i className=\"iconfont icon-mianbao\"  style={{position:'absolute',left:6,top:-10,color:\"white\",fontSize:45,opacity:`${this.state.IconOpacity}%`}}/>\r\n                </div> :  <img src={logo} alt=\"logo\" style={{opacity:`${this.state.imgOpacity}%`}}/>\r\n        }*/\r\n        return (\r\n            <Layout style={{ minHeight: '100vh' }}>\r\n                <Modal\r\n                    title=\"请输入新的笔记名称\"\r\n                    visible={this.state.createNoteVisible}\r\n                    // style={{ top: 200,left:-200 }}\r\n                    footer={null}\r\n                    onCancel={() => this.setState({createNoteVisible:false})}\r\n                   /* onOk={this.handleCreateNoteModal}\r\n                    okText=\"确认\"\r\n                    cancelText=\"取消\"*/\r\n                    // width={250}\r\n                >\r\n                    <FromNoteBookForm TagList={TagList} NoteBookList={NoteBookList} onCancel={() => this.setState({createNoteVisible:false})} onFinish={this.handleFormFinish}/>\r\n                </Modal>\r\n                <Modal\r\n                    title=\"请输入新的笔记名称\"\r\n                    visible={this.state.NoteModalVisible}\r\n                    onOk={this.handleModal(\"Note\")}\r\n                    onCancel={() => this.setState({NoteModalVisible:false})}\r\n                    okText=\"确认\"\r\n                    cancelText=\"取消\"\r\n                    width={250}\r\n                >\r\n                    <h4>{this.state.willHandleDropDownName}</h4>\r\n                    <Input placeholder=\"Rename\" style={{backgroundColor:\"#e6f7ff\"}} ref={c => this.changeNoteBookOrNoteNameInput = c} onPressEnter={this.handleModal(\"Note\")}/>\r\n                </Modal>\r\n                <Sider collapsible collapsed={collapsed} onCollapse={collapsed => this.setState({collapsed})}>\r\n                    <div className=\"logo\">\r\n                        <div style={{height: \"50px\"}}>\r\n                            {\r\n                                !this.state.collapsed ?<img src={logo} alt=\"logo\"/> :  <i className=\"iconfont icon-mianbao Icon\"/>\r\n                            }\r\n                        </div>\r\n                    </div>\r\n                    <Menu theme=\"dark\" mode=\"inline\" className=\"LeftNavMenu\">\r\n                        {/*笔记本导航*/}\r\n                        <SubMenu key=\"sub1\" icon={<CopyOutlined />}  title=\"NoteBook\">\r\n                            {!collapsed ? (\r\n                                <>\r\n                                    <Tooltip placement=\"right\" title=\"按下回车来查找笔记本\">\r\n                                        <Menu.Item key=\"Search\" style={{\r\n                                            backgroundColor:\"#000c17\",\r\n                                            marginTop:8,\r\n                                            marginBottom:2,\r\n                                            paddingLeft:32\r\n                                        }}>\r\n                                            <div style={{\r\n                                                display:\"flex\",\r\n                                                justifyContent:\"space-around\",\r\n                                                alignItems:\"center\"\r\n                                            }}>\r\n                                                <Input placeholder=\"Search...\" ref={c => this.searchNoteBookName = c} style={{backgroundColor:\"#e6f7ff\",width:160}} onPressEnter={this.handleSearchNoteBook}/>\r\n                                            </div>\r\n                                        </Menu.Item>\r\n                                    </Tooltip>\r\n                                    {/*创建笔记本的对话框*/}\r\n                                    <Modal\r\n                                        title=\"请输入新的笔记本名称\"\r\n                                        visible={this.state.createNoteBookVisible}\r\n                                        onCancel={() => this.setState({createNoteBookVisible:false})}\r\n                                        onOk={this.handleCreateNoteBookModal()}\r\n                                        okText=\"确认\"\r\n                                        cancelText=\"取消\"\r\n                                        width={250}\r\n                                    >\r\n                                        <Input placeholder=\"在此输入笔记本名称\" ref={c => this.createNoteBookName = c} onPressEnter={this.handleCreateNoteBookModal()}/>\r\n                                    </Modal>\r\n                                    <Tooltip placement=\"right\" title=\"点击来创建新的笔记\">\r\n                                        <Menu.Item key=\"Newest\" icon={<PlusSquareOutlined />} style={{color:\"white\",backgroundColor:\"#2f54eb\"}} onClick={() => this.setState({createNoteBookVisible:true})}>\r\n                                            Newest\r\n                                        </Menu.Item>\r\n                                    </Tooltip>\r\n                                    {\r\n                                        isLoading ? <Menu.Item key=\"loading\">加载中...</Menu.Item> :\r\n                                            status ?\r\n                                                NoteBookList.filter(ele => !ele.IsDeleted).map(ele =>{\r\n                                                    return (\r\n                                                        <Menu.Item key={ele.NotebookId} onClick={this.handleClickLeftNavItem(ele.Title,ele.notes,ele)}>\r\n                                                            <Dropdown overlay={this.menu(ele)} trigger={['contextMenu']}>\r\n                                                                <div\r\n                                                                    className=\"site-dropdown-context-menu\"\r\n                                                                    style={{\r\n                                                                        textAlign: 'center',\r\n                                                                        height: 200,\r\n                                                                        lineHeight: '200px',\r\n                                                                    }}\r\n                                                                >\r\n                                                                    <div style={{\r\n                                                                        display:\"flex\",\r\n                                                                        justifyContent:\"space-between\",\r\n                                                                        alignItems:\"center\"\r\n                                                                    }}>\r\n                                                                        <Modal\r\n                                                                            title=\"请输入新的笔记本名称\"\r\n                                                                            visible={this.state.NoteBookModalVisible}\r\n                                                                            // style={{ top: 200,left:-200 }}\r\n                                                                            onOk={this.handleModal(\"NoteBook\")}\r\n                                                                            onCancel={() => this.setState({NoteBookModalVisible:false})}\r\n                                                                            okText=\"确认\"\r\n                                                                            cancelText=\"取消\"\r\n                                                                            width={250}\r\n                                                                        >\r\n                                                                            <h4>{this.state.willHandleDropDownName}</h4>\r\n                                                                            <Input\r\n                                                                                placeholder=\"Rename\"\r\n                                                                                style={{backgroundColor:\"#e6f7ff\"}}\r\n                                                                                ref={c => this.changeNoteBookOrNoteNameInput = c}\r\n                                                                                onPressEnter={this.handleModal(\"NoteBook\")}\r\n                                                                            />\r\n                                                                        </Modal>\r\n                                                                        <div>\r\n                                                                            {ele.Title}\r\n                                                                        </div>\r\n                                                                        <div>\r\n                                                                            {ele.notes.length}\r\n                                                                        </div>\r\n                                                                    </div>\r\n                                                                </div>\r\n                                                            </Dropdown>\r\n                                                        </Menu.Item>\r\n                                                    )\r\n                                                }):<Menu.Item key=\"loadingFalse\" style={{\"fontSize\":\"15px\"}}>{msg}</Menu.Item>\r\n                                    }\r\n\r\n                                  {/*  <SubMenu key=\"Trash\" title=\"Trash\" icon={<DeleteOutlined/>} style={{color:\"white\",backgroundColor:\"#2f54eb\"}}>\r\n                                        {TrashList.map(ele => {\r\n                                            return <Menu.Item key={ele.NotebookId}>{ele.Title}</Menu.Item>\r\n                                        })}\r\n                                    </SubMenu>*/}\r\n                                </>\r\n                            ) : <></>}\r\n                        </SubMenu>\r\n\r\n                        {/*选中tag来筛选list*/}\r\n                        <SubMenu key=\"sub2\" icon={<TagOutlined />} title=\"Tag\">\r\n                            {!collapsed ?\r\n                                isLoading ? <Menu.Item key=\"loadingTag\">加载中...</Menu.Item> :\r\n                                status ?\r\n                                TagList.filter(ele => ele.Tag !== '').map(ele =>{\r\n                                    return (\r\n                                            <Menu.Item key={ele.TagId} onClick={this.handleClickTagNav(ele)}>\r\n                                                <Dropdown overlay={this.TagDropDown(ele)} trigger={['contextMenu']}>\r\n                                                    <div style={{width:\"100%\"}}>\r\n                                                        {ele.Tag}\r\n                                                    </div>\r\n                                                </Dropdown>\r\n                                            </Menu.Item>\r\n                                    )\r\n                                }):<Menu.Item key=\"loadingTagFalse\" style={{\"fontSize\":\"15px\"}}>{msg}</Menu.Item>:<></>\r\n                            }\r\n                        </SubMenu>\r\n\r\n                        <SubMenu key=\"TrashList\" icon={<DeleteOutlined />} title=\"Trash\">\r\n                            {!collapsed ?\r\n                                TrashList.map(ele =>{\r\n                                    return(\r\n                                            <Menu.Item key={ele.NoteId}>\r\n                                                <Dropdown placement='bottomRight' overlay={() => {\r\n                                                    return(\r\n                                                        <Menu>\r\n                                                            <Menu.Item key=\"Delete\" style={{\"fontSize\":\"15px\",textAlign:\"center\"}} onClick={this.HandleDeleteTrash(ele)}>Delete</Menu.Item>\r\n                                                        </Menu>\r\n                                                    )\r\n                                                }} >\r\n                                                    <div style={{width:\"100%\"}}>\r\n                                                        {ele.Title}\r\n                                                    </div>\r\n                                                </Dropdown>\r\n                                            </Menu.Item>\r\n                                        )\r\n                                    })\r\n\r\n                                 : <></>\r\n                            }\r\n                        </SubMenu>\r\n                        {/*用户操作*/}\r\n                        <SubMenu key=\"sub3\" icon={<TeamOutlined />} title=\"Share\">\r\n                                {!collapsed ?\r\n                                    <SubMenu key=\"share\" title=\"admin\">\r\n                                        <Fragment>\r\n                                            <Menu.Item key=\"defaultSharing\" style={{\r\n                                                backgroundColor:'#1d39c4'\r\n                                            }}>\r\n                                                defaultSharing\r\n                                            </Menu.Item>\r\n                                        </Fragment>\r\n                                    </SubMenu> : <></>\r\n                                }\r\n                        </SubMenu>\r\n                    </Menu>\r\n                </Sider>\r\n                <Layout className=\"site-layout\">\r\n                    <Header className=\"site-layout-background\" style={{ padding: 0,backgroundColor:'#001529'}} >\r\n                        <div className=\"Header_container\">\r\n                            {/*头部用户左侧*/}\r\n                            <div className=\"user_action_container\">\r\n                                <div style={{\r\n                                    height:60,\r\n                                    width:290,\r\n                                    display: \"flex\",\r\n                                    justifyContent: \"space-between\",\r\n                                    alignItems: \"center\",\r\n                                }}>\r\n                                    <Input type=\"primary\" size=\"small\" placeholder='Search note...' ref={c => this.searchNoteName = c} style={{width:200,backgroundColor:'#f2f2ff'}} onChange={this.handleFindNote}/>\r\n                                    <Button type=\"primary\" size=\"small\" className=\"user_action_button\" onClick={this.handleCreateNote()}>New Note</Button>\r\n                                </div>\r\n                                <div className=\"current_notebook_name\">\r\n                                    {headerNoteBookTitle ? <Tag color=\"cyan\" className=\"headerTag\">{headerNoteBookTitle}</Tag>  : \"\"}\r\n                                </div>\r\n                            </div>\r\n                            {/*头部导航栏右侧*/}\r\n                            <div className=\"user_info_container\">\r\n                                <Button className=\"user_action_button\" type=\"primary\" onClick={async () => {\r\n                                    await this.getData()\r\n                                } }>更新笔记信息</Button>\r\n                                {/*<div>\r\n                                    WritingMode\r\n                                </div>\r\n                                <div>\r\n                                    Blog\r\n                                </div>\r\n                                <div>\r\n                                    Explore\r\n                                </div>\r\n                                用户头像和信息\r\n                                <div>\r\n                                    userinfo\r\n                                </div>*/}\r\n                                {/*<Input type=\"primary\" size='small'/>*/}\r\n                            </div>\r\n                        </div>\r\n                    </Header>\r\n                    <Content style={{ margin: '10px 10px' }}>\r\n                        <div className=\"site-layout-background\" style={{ minHeight:550 ,height:'100%'}}>\r\n                            <div className=\"content_container\" onMouseMove={this.dragDivideLine} onMouseUp={() =>  this.setState({draggable:false})} >\r\n                                {\r\n                                    isUsingLeftContainer ?  <div className=\"left_container\" style={left_container}>\r\n                                        <Header className='NoteListNavHeader'>\r\n                                            <div style={{\r\n                                                width:140,\r\n                                            }}>\r\n                                                <div style={{\r\n                                                    marginTop:15\r\n                                                }}>\r\n                                                    {headerNoteBookTitle ? <Tag icon={<EditOutlined />} color=\"#e6f7ff\" className=\"headerTag\" style={{color: \"#26214c\"}} >{headerNoteBookTitle}</Tag>  : \"\"}\r\n                                                </div>\r\n                                            </div>\r\n                                            {/*{headerNoteBookTitle ? <Switch className=\"NoteNavSwitch\" unCheckedChildren={<SnippetsOutlined />} checkedChildren={<UnorderedListOutlined />} defaultChecked onChange={this.handleSwitchChange}/> : <></>}*/}\r\n                                            <div>\r\n                                                <Dropdown overlay={this.NoteListNav} placement=\"bottomRight\" arrow >\r\n                                                    <UnorderedListOutlined />\r\n                                                </Dropdown>\r\n                                            </div>\r\n                                        </Header>\r\n                                        <div className=\"NoteNavList\">\r\n                                            {\r\n                                                !isUsingTagNav || (isUsingTagNav && currentNoteNavList.length > 0) ?\r\n                                                    <Menu\r\n                                                        style={{ width: \"100%\" }}\r\n                                                        mode=\"inline\"\r\n                                                    >\r\n                                                        {\r\n                                                            currentNoteNavList.map(ele => {\r\n                                                                return (\r\n                                                                    <Menu.Item key={ele.NoteId} className='NoteNavListItem' onClick={this.handleNoteListItem(ele,headerNoteBookTitle,\"click\")}>\r\n                                                                        <Dropdown overlay={this.NoteItemNavMenu(ele)} trigger={['contextMenu']}>\r\n\r\n                                                                            <div\r\n                                                                                className=\"site-dropdown-context-menu\"\r\n                                                                                style={{\r\n                                                                                    textAlign: 'left',\r\n                                                                                    height: 200,\r\n                                                                                    lineHeight: '200px',\r\n                                                                                }}\r\n                                                                            >\r\n                                                                                <span style={ele.IsMarkdown ?  {color:'#4789f3'} : null}>\r\n                                                                                    {ele.Title}\r\n                                                                                </span>\r\n                                                                            </div>\r\n                                                                        </Dropdown>\r\n\r\n                                                                    </Menu.Item>\r\n                                                                )\r\n                                                            })\r\n                                                        }\r\n                                                    </Menu> :\r\n                                                    <Result\r\n                                                        icon={<SmileOutlined />}\r\n                                                        title=\"当前标签没有对应的笔记,你可以创建新的笔记或者删除当前标签\"\r\n                                                        extra={<Button type=\"primary\" onClick={this.handleCreateNote()}>创建笔记</Button>}\r\n                                                    />\r\n                                            }\r\n                                        </div>\r\n\r\n                                    </div>:<></>\r\n                                }\r\n\r\n                                <div className=\"scroll\" style={!draggable ? {\r\n                                        ...scroll,\r\n                                       backgroundColor: \"#d9d9d9\",\r\n                                       transition:'background-color 0.2s ease-out'\r\n                                } : {\r\n                                       ...scroll,\r\n                                       backgroundColor: \"#8c8c8c\",\r\n                                       transition:'background-color 0.2s ease-out'\r\n                                   }\r\n                                } onMouseDown={this.handleOnMouseDown}/>\r\n                                <div className=\"right_container\" style={right_container}>\r\n\r\n                                   <MyPageHeader Token={this.state.userToken}/>\r\n\r\n\r\n                                   <MyBraftEditor Token={this.state.userToken} NoteList={NoteList}/>\r\n\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </Content>\r\n                    {/*<Footer style={{ textAlign: 'center',height:20 }}>Leanote Created by Chinesebread</Footer>*/}\r\n                </Layout>\r\n            </Layout>\r\n        );\r\n    }\r\n}\r\n//暴露组件\r\n//state将会是store中的总状态需要分别拿出来\r\nexport default connect(state => ({TagList:state.TagList}),{\r\n    //api层面的优化，会自动加入dispatch\r\n    deleteTagListAction,\r\n    addTagListAction,\r\n    clearAllTagAction\r\n})(Leanote);","export default \"data:image/png;base64,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\""],"sourceRoot":""}