(this.webpackJsonpleanote=this.webpackJsonpleanote||[]).push([[4],{306:function(e,t,n){},376:function(e,t,n){},479:function(e,t,n){},568:function(e,t,n){"use strict";n.r(t);var a=n(33),o=n.n(a),r=n(39),s=n(187),c=n(47),i=n(29),l=n(30),u=n(31),d=n(32),b=n(0),h=n(558),j=n(547),p=n(110),f=n(194),N=n(109),m=n(567),g=n(233),O=n(561),k=n(552),x=n(569),I=n(571),v=n(572),T=n(573),y=n(574),w=n(575),C=n(576),L=n(577),B=n(578),D=n(579),M=n(156),S=n(374),V=n(48),U=n.n(V),A=n(85),R=n(377),E=n.n(R),H=n(541),P=n(546),z=(n(472),n(473),n(474),n(475)),q=n.n(z),F=(n(478),n(582)),X=n(212),Y=n.n(X),Z=n(261),G=(n(479),n(80)),K=n(3);E.a.use(q()({includeEditors:["editor-with-code-highlighter"]})),E.a.use(q()({syntaxs:[{name:"JavaScript",syntax:"javascript"},{name:"HTML",syntax:"html"},{name:"CSS",syntax:"css"},{name:"Java",syntax:"java"}]}));var W=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={editorState:E.a.createEditorState(null),NoteInfoList:{},currentNote:{}},e.submitContent=Object(c.a)(o.a.mark((function t(){var n,a,r,s,c;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.state,a=n.currentNote,r=n.editorState,console.log("\u4fdd\u5b58\u7684\u7b14\u8bb0\u4fe1\u606f",a),a.hasOwnProperty("NoteId")){t.next=5;break}return p.b.warn("\u8bf7\u9009\u4e2d\u4e00\u4e2a\u7b14\u8bb0\uff01"),t.abrupt("return");case 5:return p.b.loading({content:"\u4fdd\u5b58\u4e2d...",key:"submit"}),s=a.IsMarkdown?a.Content:r.toHTML(),t.prev=7,t.next=10,Object(G.a)("note/updateNote",{token:e.props.Token,NoteId:a.NoteId,Content:s});case 10:c=t.sent,console.log("\u7b14\u8bb0\u5185\u5bb9\u7684\u66f4\u65b0",c),c.hasOwnProperty("Ok")?p.b.warn({content:"\u4fdd\u5b58\u5931\u8d25\u8bf7\u7a0d\u540e\u518d\u8bd5",key:"submit",duration:2}):(p.b.success({content:"\u4fdd\u5b58\u6210\u529f",key:"submit",duration:2}),a.UpdatedTime=c.UpdatedTime,a.Content=s,U.a.publish("updateNote",a),U.a.publish("NoteInfo",{type:"update",NoteInfo:a}),e.setState({currentNote:a})),t.next=19;break;case 15:t.prev=15,t.t0=t.catch(7),console.log(t.t0),t.t0.hasOwnProperty("status")?p.b.warn({content:"\u4fdd\u5b58\u5931\u8d25",key:"submit",duration:2}):p.b.warn({content:"\u8bf7\u6c42\u8d85\u65f6!",key:"submit",duration:2});case 19:case"end":return t.stop()}}),t,null,[[7,15]])}))),e.handleEditorChange=function(t){console.log(t.toHTML()),e.setState((function(e){var n=e.currentNote;return n.Content=t.toHTML(),{editorState:t,currentNote:n}}))},e.onMarkDownChange=function(t){var n=t.target.value;e.setState((function(e){var t=e.currentNote;return t.Content=n,{currentNote:t}}))},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=Object(c.a)(o.a.mark((function e(){var t,n,a=this;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(Y()(Date.now()).format("YYYY-MM-DD HH:mm:ss")),t="open".concat(Date.now()),n=Object(K.jsx)(f.a,{type:"primary",size:"small",onClick:function(){return N.a.close(t)},children:"\u786e\u8ba4"}),setTimeout((function(){N.a.open({message:"\u63d0\u793a",duration:0,description:"\u60a8\u53ef\u4ee5\u70b9\u51fb\u9875\u5934\u4fdd\u5b58\u6309\u94ae\u6216\u8005\u6309\u4e0bctrl+s\u952e\u6765\u4fdd\u5b58\u7b14\u8bb0,\u7b14\u8bb0\u5185\u5bb9\u6682\u4e0d\u652f\u6301\u81ea\u52a8\u4fdd\u5b58",btn:n,key:t,icon:Object(K.jsx)(F.a,{})})}),1e4),U.a.subscribe("NoteInfo",function(){var e=Object(c.a)(o.a.mark((function e(t,n){var s,c,i,l,u,d;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s=a.state,c=s.NoteInfoList,i=s.currentNote,l=s.editorState,u=null,e.t0=n.type,e.next="click"===e.t0?5:"content"===e.t0?17:19;break;case 5:if(i&&i.hasOwnProperty("NoteId")&&i.NoteId!==n.NoteInfo.NoteId&&(console.log("\u70b9\u51fb\u4e86\u5176\u4ed6\u7ec4\u4ef6"),c=[].concat(Object(r.a)(c.filter((function(e){return e.NoteId!==i.NoteId}))),[i]),a.setState({NoteInfoList:c})),!(i=c.find((function(e){return e.NoteId===n.NoteInfo.NoteId})))||!i.hasOwnProperty("Content")){e.next=11;break}l=E.a.createEditorState(i.Content),e.next=15;break;case 11:return e.next=13,Object(G.a)("note/getNoteContent",{token:a.props.Token,noteId:n.NoteInfo.NoteId},"post");case 13:(d=e.sent).hasOwnProperty("Ok")?p.b.warn("\u83b7\u53d6\u5185\u5bb9\u5931\u8d25!"):(u=""===d.Content?null:d.Content,(i=n.NoteInfo).Content=u,l=E.a.createEditorState(u));case 15:return a.setState({currentNote:i,editorState:l}),e.abrupt("break",19);case 17:return e.next=19,a.submitContent();case 19:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.setState({NoteInfoList:this.props.NoteList});case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){U.a.unsubscribe("NoteInfo")}},{key:"render",value:function(){var e=this.state,t=e.editorState,n=e.currentNote,a=n.IsMarkdown;return Object(K.jsx)("div",{className:"MyBraftEditor",children:a?Object(K.jsxs)("div",{style:{display:"flex",padding:20,width:"100%"},children:[Object(K.jsx)("div",{style:{width:"50%",maxHeight:"100%"},children:Object(K.jsx)(Z.a,{value:n.Content,onChange:this.onMarkDownChange,placeholder:n.Content?n.Content:"Mark Down",style:{height:"100%",maxHeight:1200}})}),Object(K.jsx)("div",{className:"MarkDownContainer",children:Object(K.jsx)("div",{className:"MarkDown",children:Object(K.jsx)(H.a,{rehypePlugins:[P.a],children:n.Content})})})]}):Object(K.jsx)("div",{children:Object(K.jsx)(E.a,{value:t,excludeControls:["emoji"],onChange:this.handleEditorChange,onSave:this.submitContent,id:"editor-with-code-highlighter"})})})}}]),n}(b.Component),J=W,Q=n(565),_=n(570),$=n(580),ee=n(581),te=function(e){return{type:"add",TagListOrSingleTag:e}},ne=function(e){return{type:"delete",TagListOrSingleTag:e}},ae=(n(376),function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,s=new Array(a),l=0;l<a;l++)s[l]=arguments[l];return(e=t.call.apply(t,[this].concat(s))).state={NoteInfo:{subTitle:"",CreatedTime:"",UpdatedTime:"",Tags:[],parentTitle:"",NoteId:"",NotebookId:"",Usn:0},inputVisible:!1,inputValue:"",editInputIndex:-1,editInputValue:"",hasGiveTagInformation:!1},e.handleClose=function(){var t=Object(c.a)(o.a.mark((function t(n){var a,s,c,i,l,u,d,b,h,j,m,g;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=e.state,s=a.NoteInfo,c=a.hasGiveTagInformation,i=s.NoteId,l=s.Tags,u=s.Usn,d=e.props.TagList,b=d.find((function(e){return e.Tag===n})),h=l.filter((function(e){return e!==n})),console.log(h),t.prev=6,!b){t.next=15;break}return t.next=10,Object(G.b)([{url:"tag/deleteTag",data:{tag:n,token:e.props.Token,usn:b.Usn},method:"post"},{url:"note/updateNote",data:{Tags:Object(r.a)(0===h.length?[""]:h),token:e.props.Token,NoteId:i,Usn:u},method:"post"}]);case 10:j=t.sent,s.Usn=j[1].Usn,s.UpdatedTime=j[1].UpdatedTime,t.next=18;break;case 15:return t.next=17,Object(G.a)("note/updateNote",{Tags:Object(r.a)(0===h.length?[""]:h),token:e.props.Token,NoteId:i,Usn:u});case 17:j=t.sent;case 18:console.log("\u5220\u9664tag\u540e\u7684\u66f4\u65b0",j),j.hasOwnProperty("Ok")?p.b.warn("\u5220\u9664\u5931\u8d25\u8bf7\u7a0d\u540e\u518d\u8bd5!"):(s.Tags=h,c||(m="open".concat(Date.now()),g=Object(K.jsx)(f.a,{type:"primary",size:"small",onClick:function(){return N.a.close(m)},children:"\u786e\u8ba4"}),N.a.open({message:"\u63d0\u793a",duration:0,description:"\u5f53\u6240\u6709\u7b14\u8bb0\u4e2d\u90fd\u4e0d\u5b58\u5728\u5f53\u524d\u6807\u7b7e\u65f6,\u5373\u8be5\u6807\u7b7e\u5df2\u7ecf\u5b8c\u5168\u88ab\u79fb\u9664\u65f6,\u4e0b\u4e00\u6b21\u66f4\u65b0\u6807\u7b7e\u5bfc\u822a\u5c06\u4e0d\u4f1a\u663e\u793a\u8be5\u6807\u7b7e",btn:g,key:m})),e.setState({NoteInfo:s,hasGiveTagInformation:!0}),U.a.publish("updateNote",s)),t.next=26;break;case 22:t.prev=22,t.t0=t.catch(6),console.log(t.t0),p.b.warn("\u5220\u9664\u5931\u8d25\u8bf7\u7a0d\u540e\u518d\u8bd5!");case 26:case"end":return t.stop()}}),t,null,[[6,22]])})));return function(e){return t.apply(this,arguments)}}(),e.showInput=function(){e.setState({inputVisible:!0},(function(){return e.input.focus()}))},e.handleInputChange=function(t){e.setState({inputValue:t.target.value})},e.handleInputConfirm=Object(c.a)(o.a.mark((function t(){var n,a,s,c,i,l,u,d;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.state,a=n.NoteInfo,s=n.inputValue,c=a.NoteId,i=a.Tags,l=a.Usn,u=e.props.TagList,!s||-1!==i.indexOf(s)){t.next=17;break}return t.prev=4,t.next=7,Object(G.b)([{url:"tag/addTag",data:{tag:s,token:e.props.Token},method:"post"},{url:"note/updateNote",data:{Tags:[].concat(Object(r.a)(i),[s]),token:e.props.Token,NoteId:c,Usn:l},method:"post"}]);case 7:d=t.sent,a.UpdatedTime=d[1].UpdatedTime,d.hasOwnProperty("Ok")||(console.log(d),i=[].concat(Object(r.a)(i),[s]),u.find((function(e){return e.Tag===s}))||e.props.addTagListAction([d[0]]),a.Tags=i,e.setState({NoteInfo:a})),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(4),p.b.warn("\u7f51\u7edc\u5f02\u5e38\u8bf7\u7a0d\u540e\u518d\u8bd5");case 15:t.next=18;break;case 17:p.b.info("\u8bf7\u52ff\u6dfb\u52a0\u76f8\u540c\u7684\u6807\u7b7e");case 18:U.a.publish("updateNote",a),U.a.publish("updateEditor",a),e.setState({inputVisible:!1,inputValue:""});case 21:case"end":return t.stop()}}),t,null,[[4,12]])}))),e.handleEditInputChange=function(t){e.setState({editInputValue:t.target.value})},e.handleEditInputConfirm=function(){e.setState((function(e){var t=e.NoteInfo,n=e.editInputIndex,a=e.editInputValue,o=Object(r.a)(t.Tags);return o[n]=a,t.Tags=o,{NoteInfo:t,editInputIndex:-1,editInputValue:""}}))},e.saveInputRef=function(t){e.input=t},e.saveEditInputRef=function(t){e.editInput=t},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this;U.a.subscribe("NoteInfo",(function(t,n){var a=e.state.NoteInfo;switch(n.type){case"click":e.setState({NoteInfo:n.NoteInfo});break;case"update":if(a&&a.NoteId===n.NoteInfo.NoteId){console.log("BeforePageHeaderUpdate",a);var o=n.NoteInfo,r=o.UpdatedTime,c=o.subTitle,i=o.Usn;a=Object(s.a)(Object(s.a)({},a),{},{UpdatedTime:r,subTitle:c,Usn:i}),e.setState({NoteInfo:a})}break;case"Tag":e.setState({NoteInfo:{}})}}))}},{key:"componentWillUnmount",value:function(){U.a.unsubscribe("NoteInfo"),this.setState({},(function(){return!1}))}},{key:"render",value:function(){var e=this,t=this.state,n=t.NoteInfo,a=t.inputVisible,o=t.inputValue,r=t.editInputIndex,s=t.editInputValue,c=n.subTitle,i=n.CreatedTime,l=n.UpdatedTime,u=n.parentTitle,d=n.Tags;return Object(K.jsxs)("div",{className:"Editor_Header",children:[Object(K.jsx)(Q.a,{className:"site-page-header",title:u||"BreadNote",subTitle:c||"Welcome",style:{height:100,padding:"8px 24px"},extra:[Object(K.jsx)(f.a,{icon:Object(K.jsx)($.a,{}),onClick:function(){return U.a.publish("NoteInfo",{type:"content"})},children:"\u4fdd\u5b58"},"save")],children:Object(K.jsxs)(_.b,{size:"small",column:2,children:[Object(K.jsx)(_.b.Item,{label:"CreatedTime",children:i?Y()(i).format("YYYY-MM-DD HH:mm:ss"):""}),Object(K.jsx)(_.b.Item,{label:"UpdatedTime",children:l?Y()(l).format("YYYY-MM-DD HH:mm:ss"):""})]})}),u?Object(K.jsxs)("div",{style:{display:"flex",alignItems:"center",width:"100%",padding:"0 20px",height:20},children:[d.map((function(t,n){if(r===n)return Object(K.jsx)(m.a,{ref:e.saveEditInputRef,size:"small",className:"tag-input",value:s,onChange:e.handleEditInputChange,onBlur:e.handleEditInputConfirm,onPressEnter:e.handleEditInputConfirm},t);var a=t.length>20,o=Object(K.jsx)(k.a,{className:"edit-tag",closable:!0,onClose:function(){return e.handleClose(t)},children:Object(K.jsx)("span",{onDoubleClick:function(a){0!==n&&(e.setState({editInputIndex:n,editInputValue:t},(function(){e.editInput.focus()})),a.preventDefault())},children:a?"".concat(t.slice(0,20),"..."):t})},t);return a?Object(K.jsx)(g.a,{title:t,children:o},t):o})),a&&Object(K.jsx)(m.a,{ref:this.saveInputRef,type:"text",size:"small",className:"tag-input",value:o,onChange:this.handleInputChange,onBlur:this.handleInputConfirm,onPressEnter:this.handleInputConfirm}),!a&&Object(K.jsxs)(k.a,{className:"site-tag-plus",onClick:this.showInput,children:[Object(K.jsx)(ee.a,{})," New Tag"]})]}):Object(K.jsx)(K.Fragment,{})]})}}]),n}(b.Component)),oe=Object(A.b)((function(e){return{TagList:e.TagList}}),{deleteTagListAction:ne,addTagListAction:te})(ae),re=n(566),se=n(564),ce=n(559),ie=n(560),le=n(563),ue=re.a.Option,de=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).handleOnFinish=function(){var t=Object(c.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n.Tags||(n.Tags=[""]),e.props.onFinish(n);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(l.a)(n,[{key:"render",value:function(){var e=this.props,t=e.NoteBookList,n=e.TagList;return Object(K.jsxs)(se.a,{layout:"vertical",hideRequiredMark:!0,initialValues:{type:"MarkDown"},onFinish:this.handleOnFinish,children:[Object(K.jsxs)(ce.a,{gutter:16,children:[Object(K.jsx)(ie.a,{span:12,children:Object(K.jsx)(se.a.Item,{name:"NotebookId",label:"\u7b14\u8bb0\u672c\u540d\u79f0",rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u4e00\u4e2a\u7b14\u8bb0\u672c"}],children:Object(K.jsx)(re.a,{showSearch:!0,style:{width:200},placeholder:"\u9009\u62e9\u7b14\u8bb0\u672c",optionFilterProp:"children",filterOption:function(e,t){return t.children.toLowerCase().indexOf(e.toLowerCase())>=0},children:t.map((function(e){return Object(K.jsx)(ue,{value:e.NotebookId,children:e.Title},e.NotebookId)}))})})}),Object(K.jsx)(ie.a,{span:12,children:Object(K.jsx)(se.a.Item,{name:"Title",label:"\u7b14\u8bb0\u540d\u79f0",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u7b14\u8bb0\u540d\u79f0"}],children:Object(K.jsx)(m.a,{placeholder:"\u8bf7\u8f93\u5165\u7b14\u8bb0\u540d\u79f0..."})})})]}),Object(K.jsxs)(ce.a,{gutter:16,children:[Object(K.jsx)(ie.a,{span:12,children:Object(K.jsx)(se.a.Item,{name:"type",label:"\u7b14\u8bb0\u7c7b\u578b",rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u4f60\u8981\u521b\u5efa\u7684\u7b14\u8bb0\u7c7b\u578b"}],children:Object(K.jsxs)(re.a,{children:[Object(K.jsx)(ue,{value:"Common",children:"\u666e\u901a\u7b14\u8bb0"}),Object(K.jsx)(ue,{value:"MarkDown",children:"MarkDown"})]})})}),Object(K.jsx)(ie.a,{span:12,children:Object(K.jsx)(se.a.Item,{name:"Tags",label:"\u6807\u7b7e",children:Object(K.jsx)(re.a,{mode:"tags",style:{width:"100%"},placeholder:"\u5728\u8fd9\u91cc\u8f93\u5165\u4f60\u60f3\u8981\u7684\u6807\u7b7e",children:n.map((function(e){return Object(K.jsx)(ue,{value:e.Tag,children:e.Tag},e.TagId)}))})})})]}),Object(K.jsx)(ce.a,{gutter:16,children:Object(K.jsx)(ie.a,{span:24,children:Object(K.jsx)(se.a.Item,{name:"CreatedTime",label:"\u65e5\u671f",rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u521b\u5efa\u65e5\u671f!"}],children:Object(K.jsx)(le.a,{showTime:!0,style:{width:"100%"}})})})}),Object(K.jsx)(ce.a,{gutter:16,children:Object(K.jsx)(ie.a,{span:24,children:Object(K.jsx)(se.a.Item,{children:Object(K.jsxs)("div",{style:{float:"right"},children:[Object(K.jsx)(f.a,{htmlType:"button",onClick:this.props.onCancel,style:{marginRight:"10px"},children:"\u53d6\u6d88"}),Object(K.jsx)(f.a,{type:"primary",htmlType:"submit",children:"\u786e\u8ba4"})]})})})})]})}}]),n}(b.Component),be=de,he=(n(306),h.a.Header),je=h.a.Content,pe=h.a.Sider,fe=j.a.SubMenu,Ne=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,l=new Array(a),u=0;u<a;u++)l[u]=arguments[u];return(e=t.call.apply(t,[this].concat(l))).state={collapsed:!1,userToken:"",loadingNoteBooksInfo:{isLoading:!0,status:!0,msg:""},NoteList:[],NoteBookList:[],headerNoteBookTitle:"",TrashList:[],currentNoteNavList:[],willHandleDropDownName:"",currentNoteInfo:{},NoteModalVisible:!1,NoteBookModalVisible:!1,currentNoteBookInfo:{},isGettingData:!1,isUsingTagNav:!1,isSearchingNote:!1,isSearching:!1,currentNoteNavListCache:[],createNoteVisible:!1,createNoteBookVisible:!1,content_style:{left_container:{width:250},scroll:{left:250},right_container:{width:"calc(100% - 250px)"}},draggable:!1,preClientX:0,currentWidth:0,isUsingLeftContainer:!0,hasGiveAddNoteInformation:!1},e.NoteItemNavMenu=function(t){return Object(K.jsxs)(j.a,{children:[Object(K.jsx)(j.a.Item,{icon:Object(K.jsx)(I.a,{}),onClick:e.handleClickNoteItemDropDown("Rename",t),children:"Rename"},"1"),Object(K.jsx)(j.a.Item,{icon:Object(K.jsx)(v.a,{}),onClick:e.handleClickNoteItemDropDown("Delete",t),children:"Delete"},"2")]})},e.menu=function(t){return Object(K.jsxs)(j.a,{children:[Object(K.jsx)(j.a.Item,{icon:Object(K.jsx)(I.a,{}),onClick:e.handleClickLeftNavItemDropDown("Rename",t),children:"Rename"},"1"),Object(K.jsx)(j.a.Item,{icon:Object(K.jsx)(v.a,{}),onClick:e.handleClickLeftNavItemDropDown("Delete",t),children:"Delete"},"2")]})},e.TagDropDown=function(t){return Object(K.jsx)(j.a,{children:Object(K.jsx)(j.a.Item,{icon:Object(K.jsx)(v.a,{}),onClick:e.handleClickLeftTagNavDropDown(t),children:"Delete"},"DeleteTag")})},e.NoteListNav=function(){return Object(K.jsxs)(j.a,{mode:"vertical",children:[Object(K.jsxs)(j.a.ItemGroup,{className:"NoteNavItemGroup",children:[Object(K.jsx)(j.a.Item,{className:"NoteNavMenuItem",icon:Object(K.jsx)(T.a,{}),children:"\u521b\u5efa\u65e5\u671f"},"DateCreatedDesc"),Object(K.jsx)(j.a.Item,{className:"NoteNavMenuItem",icon:Object(K.jsx)(y.a,{}),children:"\u521b\u5efa\u65e5\u671f"},"DateCreatedAsc")]}),Object(K.jsxs)(j.a.ItemGroup,{className:"NoteNavItemGroup",children:[Object(K.jsx)(j.a.Item,{className:"NoteNavMenuItem ",icon:Object(K.jsx)(T.a,{}),children:"\u66f4\u65b0\u65e5\u671f"},"DateUpdatedAsc"),Object(K.jsx)(j.a.Item,{className:"NoteNavMenuItem",icon:Object(K.jsx)(y.a,{}),children:"\u66f4\u65b0\u65e5\u671f"},"DateUpdatedDesc")]})]})},e.getData=Object(c.a)(o.a.mark((function t(){var n,a,c,i,l;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.state.isGettingData){t.next=3;break}return p.b.info("\u8bf7\u4e0d\u8981\u9891\u7e41\u83b7\u53d6\u4fe1\u606f!"),t.abrupt("return");case 3:return e.setState({isGettingData:!0}),e.props.clearAllTagAction(null),t.prev=5,a=[],t.next=9,Object(G.a)("tag/getSyncTags",{token:e.props.location.state.token},"post");case 9:return(n=t.sent).length>0&&(n=n.filter((function(e){return!e.IsDeleted})),console.log("Tag",n),e.props.addTagListAction(n)),t.next=13,Object(G.a)("notebook/getNotebooks",{token:e.props.location.state.token},"post");case 13:if(n=t.sent,c=n,i=[],!(n.length>0)){t.next=32;break}l=0;case 18:if(!(l<c.length)){t.next=31;break}return t.next=21,Object(G.a)("/note/getNotes",{token:e.props.location.state.token,notebookId:c[l].NotebookId},"post");case 21:if(!((n=t.sent)&&n.length>=1)){t.next=27;break}return c[l]=Object(s.a)(Object(s.a)({},c[l]),{},{notes:Object(r.a)(n.filter((function(e){return!e.IsTrash})))}),a=[].concat(Object(r.a)(a),Object(r.a)(n.filter((function(e){return e.IsTrash})))),i=[].concat(Object(r.a)(i),Object(r.a)(n)),t.abrupt("continue",28);case 27:c[l]=Object(s.a)(Object(s.a)({},c[l]),{},{notes:[]});case 28:l++,t.next=18;break;case 31:console.log("NoteBookList",c);case 32:e.setState({userToken:e.props.location.state.token,NoteBookList:c,NoteList:i,loadingNoteBooksInfo:{isLoading:!1,status:!0,msg:""}}),t.next=40;break;case 35:t.prev=35,t.t0=t.catch(5),console.log(t.t0),e.setState({loadingNoteBooksInfo:{isLoading:!1,status:!1,msg:"\u52a0\u8f7d\u5931\u8d25\u8bf7\u5237\u65b0\u518d\u8bd5..."}}),p.b.warn({content:"\u52a0\u8f7d\u5931\u8d25\u8bf7\u5237\u65b0\u518d\u8bd5...",key:"getData",duration:2});case 40:e.state.loadingNoteBooksInfo.status&&setTimeout((function(){e.setState({isGettingData:!1})}),1e4);case 41:case"end":return t.stop()}}),t,null,[[5,35]])}))),e.handleClickLeftNavItemDropDown=function(t,n){return Object(c.a)(o.a.mark((function a(){var r;return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:a.t0=t,a.next="Delete"===a.t0?3:"Rename"===a.t0?12:15;break;case 3:if(console.log("Delete",n),!window.confirm("\u786e\u8ba4\u5220\u9664\u5417?")){a.next=11;break}return p.b.loading({content:"Loading...",key:"deleteNoteBook"}),a.next=8,Object(G.a)("notebook/deleteNotebook",{notebookId:n.NotebookId,usn:n.Usn,token:e.state.userToken},"post");case 8:r=a.sent,console.log(r),r.Ok?(e.setState((function(e){var t=e.NoteBookList,a=e.NoteList,o=e.currentNoteBookInfo,r=e.currentNoteNavList,s=e.headerNoteBookTitle;return t=t.filter((function(e){return e.NotebookId!==n.NotebookId})),a=a.filter((function(e){return e.NotebookId!==n.NotebookId})),n.notebookId!==o.NotebookId&&0!==t.length||(r=[],s=""),{currentNoteNavList:r,NoteList:a,NoteBookList:t,headerNoteBookTitle:s}})),p.b.success({content:"\u5220\u9664\u6210\u529f!",key:"deleteNoteBook",duration:2})):p.b.warn({content:"\u5220\u9664\u5931\u8d25\u8bf7\u7a0d\u540e\u91cd\u8bd5!",key:"deleteNoteBook",duration:2});case 11:return a.abrupt("break",15);case 12:return e.setState({willHandleDropDownName:n.Title,currentNoteBookInfo:n,NoteBookModalVisible:!0}),console.log("Rename",n),a.abrupt("break",15);case 15:case"end":return a.stop()}}),a)})))},e.handleClickNoteItemDropDown=function(t,n){return Object(c.a)(o.a.mark((function a(){var r;return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:a.t0=t,a.next="Delete"===a.t0?3:"Rename"===a.t0?11:14;break;case 3:if(!window.confirm("\u786e\u8ba4\u8981\u5220\u9664\u5417?\u4f60\u7684\u64cd\u4f5c\u5c06\u65e0\u6cd5\u8fd4\u56de")){a.next=10;break}return console.log("\u5373\u5c06\u5220\u9664\u7684\u7b14\u8bb0",n),a.next=7,Object(G.a)("note/updateNote",{IsTrash:!0,token:e.state.userToken,NoteId:n.NoteId,Usn:n.Usn});case 7:r=a.sent,console.log(r),r.hasOwnProperty("Ok")?p.b.warn("\u7f51\u7edc\u5f02\u5e38\u8bf7\u7a0d\u540e\u518d\u8bd5"):(e.setState((function(e){var t=e.currentNoteNavList,a=e.NoteList,o=e.NoteBookList,r=e.TrashList;return t=t.filter((function(e){return e.NoteId!==n.NoteId})),a=a.filter((function(e){return e.NoteId!==n.NoteId})),o.forEach((function(e){n.NotebookId===e.NotebookId&&(e.notes=e.notes.filter((function(e){return e.NoteId!==n.NoteId})))})),r.push(n),{TrashList:r,NoteBookList:o,NoteList:a,currentNoteNavList:t}})),p.b.success("\u79fb\u9664\u6210\u529f"));case 10:return a.abrupt("break",14);case 11:return e.setState({NoteModalVisible:!0,currentNoteInfo:n,willHandleDropDownName:n.Title}),console.log("Rename",n),a.abrupt("break",14);case 14:case"end":return a.stop()}}),a)})))},e.handleClickLeftTagNavDropDown=function(t){return Object(c.a)(o.a.mark((function n(){var a;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(G.a)("tag/deleteTag",{token:e.state.userToken,tag:t.Tag,usn:t.Usn});case 2:a=n.sent,console.log(a),a.Ok?(p.b.success("\u5220\u9664\u6210\u529f"),e.props.deleteTagListAction(t)):p.b.warn("\u7f51\u7edc\u5f02\u5e38\u8bf7\u7a0d\u540e\u518d\u8bd5");case 5:case"end":return n.stop()}}),n)})))},e.handleModal=function(t){return Object(c.a)(o.a.mark((function n(){var a,r,s,c,i,l,u,d,b;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(a=e.state,r=a.NoteBookList,s=a.currentNoteBookInfo,c=a.currentNoteNavList,i=a.currentNoteInfo,""!==(l=e.changeNoteBookOrNoteNameInput.input.defaultValue)){n.next=5;break}return p.b.warn("\u8bf7\u8f93\u5165\u65b0\u7684\u540d\u79f0!"),n.abrupt("return");case 5:n.t0=t,n.next="NoteBook"===n.t0?8:"Note"===n.t0?13:18;break;case 8:return t="NotebookId",u=r,d=s,b=Object(G.a)("notebook/updateNotebook",{notebookId:d.NotebookId,title:l,usn:d.Usn,token:e.state.userToken}),n.abrupt("break",18);case 13:return t="NoteId",u=c,d=i,b=Object(G.a)("note/updateNote",{NoteId:d.NoteId,Usn:d.Usn,Title:l,token:e.state.userToken}),n.abrupt("break",18);case 18:return n.next=20,e.handleModalRequest(u,d,l,b,t);case 20:case"end":return n.stop()}}),n)})))},e.handleModalRequest=function(){var t=Object(c.a)(o.a.mark((function t(n,a,s,c,i){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(console.log(n),!n.find((function(e){return!e.IsDeleted&&e.Title===s}))){t.next=4;break}return p.b.warn("\u8bf7\u52ff\u8f93\u5165\u76f8\u540c\u7684\u540d\u79f0!"),t.abrupt("return");case 4:return t.next=6,c;case 6:c=t.sent,console.log("ModalRequest",c),c.hasOwnProperty("Ok")?p.b.warn("\u7f51\u7edc\u5f02\u5e38\u8bf7\u7a0d\u540e\u518d\u8bd5"):(a.Title=s,a.Usn=c.Usn,a.UpdatedTime=c.UpdatedTime,n=[].concat(Object(r.a)(n.filter((function(e){return e[i]!==a[i]}))),[a]),p.b.success("\u4fee\u6539\u6210\u529f!")),t.t0=i,t.next="NotebookId"===t.t0?12:"NoteId"===t.t0?14:17;break;case 12:return e.setState({NoteBookList:n,NoteBookModalVisible:!1}),t.abrupt("break",17);case 14:return e.HeaderChangePubSub(a,"","update"),e.setState({currentNoteNavList:n,NoteModalVisible:!1}),t.abrupt("break",17);case 17:case"end":return t.stop()}}),t)})));return function(e,n,a,o,r){return t.apply(this,arguments)}}(),e.handleClickLeftNavItem=function(t,n,a){return function(){e.setState({headerNoteBookTitle:t,currentNoteNavList:n,isUsingTagNav:!1,currentNoteBookInfo:a})}},e.handleClickTagNav=function(t){return function(){var n=e.state.NoteList,a=[];n.forEach((function(e){e.Tags.forEach((function(n){n===t.Tag&&(a=[].concat(Object(r.a)(a),[e]))}))})),e.setState({headerNoteBookTitle:t.Tag,currentNoteNavList:a,isUsingTagNav:!0}),e.HeaderChangePubSub()}},e.handleNoteListItem=function(t,n,a){return function(){e.HeaderChangePubSub(t,n,a)}},e.HeaderChangePubSub=function(e,t,n){e?U.a.publish("NoteInfo",{NoteInfo:{Usn:e.Usn,NotebookId:e.NotebookId,NoteId:e.NoteId,subTitle:e.Title,CreatedTime:e.CreatedTime,UpdatedTime:e.UpdatedTime,Tags:1===e.Tags.length&&""===e.Tags[0]?[]:e.Tags,parentTitle:t,IsMarkdown:e.IsMarkdown},type:n}):U.a.publish("NoteInfo",{type:"Tag"})},e.handleFindNote=function(){var t=e.state,n=t.NoteList;t.isSearching||(e.setState({isSearching:!0,isSearchingNote:!0}),e.timer=setInterval((function(){var t=e.searchNoteName.input.defaultValue;if(console.log(t),""===t)e.setState({isSearching:!1,isSearchingNote:!1}),clearInterval(e.timer);else{var a=n.filter((function(e){return-1!==e.Title.indexOf(t)}));e.setState({currentNoteNavListCache:a})}}),500),setTimeout((function(){e.timer&&(e.setState({isSearching:!1}),clearInterval(e.timer))}),5e3))},e.handleSearchNoteBook=function(){var t=e.state.NoteBookList,n=e.searchNoteBookName.input.defaultValue,a=t.find((function(e){return-1!==e.Title.indexOf(n)}));a&&e.setState({headerNoteBookTitle:a.Title,currentNoteNavList:a.notes,isUsingTagNav:!1})},e.handleFormFinish=function(){var t=Object(c.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(console.log(n),!e.state.NoteBookList.find((function(e){return e.NotebookId===n.NotebookId})).notes.find((function(e){return e.Title===n.Title}))){t.next=5;break}return p.b.warn("\u8bf7\u52ff\u6dfb\u52a0\u76f8\u540c\u7684\u7b14\u8bb0\u540d\u79f0"),t.abrupt("return");case 5:return t.next=7,e.handleFormRequest(n);case 7:e.setState({createNoteVisible:!1});case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.handleFormRequest=function(){var t=Object(c.a)(o.a.mark((function t(n){var a,s,c,i,l,u;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=n.NotebookId,s=n.Title,c=n.Tags,i=n.CreatedTime,l=n.type,t.next=3,Object(G.a)("note/addNote",{token:e.state.userToken,NotebookId:a,Tags:c,Title:s,Content:"",CreatedTime:i,IsMarkdown:"MarkDown"===l});case 3:u=t.sent,console.log(u),u.hasOwnProperty("Ok")?p.b.warn("\u6dfb\u52a0\u5931\u8d25\u8bf7\u7a0d\u540e\u518d\u8bd5!"):(p.b.success("\u6dfb\u52a0\u7b14\u8bb0\u6210\u529f!"),e.setState((function(e){var t=e.NoteBookList,n=e.NoteList,o=e.currentNoteNavList,s=e.currentNoteBookInfo,c=e.hasGiveAddNoteInformation;if(t.forEach((function(e){e.NotebookId===a&&(e.notes=[].concat(Object(r.a)(e.notes),[u]))})),n=[].concat(Object(r.a)(n),[u]),s.NotebookId===a&&(o=[].concat(Object(r.a)(o),[u])),!c){c=!0;var i="open".concat(Date.now()),l=Object(K.jsx)(f.a,{type:"primary",size:"small",onClick:function(){return N.a.close(i)},children:"\u786e\u8ba4"});N.a.open({message:"\u63d0\u793a",duration:0,description:"\u65b0\u6dfb\u52a0\u7b14\u8bb0\u7684\u6807\u7b7e\u5728\u66f4\u65b0\u540e\u4e0d\u4f1a\u663e\u793a\u5728\u5bfc\u822a\u680f,\u8fd9\u662f\u540e\u7aefapi\u539f\u56e0,\u540e\u7eed\u4f1a\u4fee\u6539",btn:l,key:i})}return{hasGiveAddNoteInformation:c,NoteBookList:t,NoteList:n,currentNoteNavList:o}})));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.handleCreateNote=function(){return Object(c.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state.NoteBookList.length>0?e.setState({createNoteVisible:!0}):N.a.info({duration:2,message:"\u63d0\u793a",description:"\u5f53\u524d\u6ca1\u6709\u7b14\u8bb0\u672c,\u8bf7\u5148\u521b\u5efa\u7b14\u8bb0\u672c\u540e\u91cd\u8bd5"});case 1:case"end":return t.stop()}}),t)})))},e.handleCreateNoteBookModal=function(){return Object(c.a)(o.a.mark((function t(){var n,a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.createNoteBookName.input.defaultValue,!e.state.NoteBookList.find((function(e){return e.Title===n}))){t.next=5;break}return p.b.warn("\u8bf7\u52ff\u6dfb\u52a0\u76f8\u540c\u7684\u7b14\u8bb0\u672c"),t.abrupt("return");case 5:return t.next=7,Object(G.a)("notebook/addNotebook",{token:e.state.userToken,title:n});case 7:a=t.sent,console.log(a),a.hasOwnProperty("Ok")?p.b.warn("\u6dfb\u52a0\u5931\u8d25\u8bf7\u7a0d\u540e\u518d\u8bd5"):(p.b.success("\u6dfb\u52a0\u6210\u529f"),e.setState((function(e){var t=e.NoteBookList;return a.notes=[],{NoteBookList:t=[].concat(Object(r.a)(t),[a])}}))),e.setState({createNoteBookVisible:!1});case 11:case"end":return t.stop()}}),t)})))},e.HandleDeleteTrash=function(t){return Object(c.a)(o.a.mark((function n(){var a;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(G.a)("note/deleteTrash",{token:e.state.userToken,noteId:t.NoteId});case 2:a=n.sent,console.log(a),a.OK?(p.b.success("\u5220\u9664\u6210\u529f"),e.setState((function(e){var n=e.TrashList;return{TrashList:n=n.filter((function(e){return e.NoteId!==t.NoteId}))}}))):p.b.warn("\u5220\u9664\u5931\u8d25!");case 5:case"end":return n.stop()}}),n)})))},e.handleOnMouseDown=function(t){var n=t.clientX,a=e.state.content_style.left_container.width;e.setState({draggable:!0,preClientX:n,currentWidth:a})},e.dragDivideLine=function(t){var n=e.state,a=n.draggable,o=n.preClientX,r=n.currentWidth,s=t.clientX,c=!0;if(a){var i=s-o+r;if(i<0)return void e.setState({draggable:!1});if(i<250||i>700){if(!(i<100))return;i=0,c=!1}e.setState({content_style:{left_container:{width:i},right_container:{width:"calc(100% - ".concat(i,"px)")},scroll:{left:i}},isUsingLeftContainer:c})}},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=Object(c.a)(o.a.mark((function e(){var t=this;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("\u2800               \u28c0\u28c0\u28c0\u28c0\u28c0\u28c0\u28c0\u28e0\u2802\u2800\u2802\u2881\u2800\u2800\u2800\u2800\n\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2880\u28f4\u28fb\u28fd\u28fb\u28fa\u287d\u28fb\u28fb\u28fd\u28fb\u28fa\u28c6\u2800\u2800\u2804\u2800\u2800\u2800\n\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2880\u28e4\u287f\u283f\u282b\u2809\u2880\u28fa\u28fa\u2807\u2800\u2808\u2809\u2809\u28fa\u28fa\u28ee\u2844\u2800\u2800\u2800\n\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u28fe\u285f\u2880\u2804\u2820\u2848\u2819\u280b\u2801\u2800\u2810\u2801\u2848\u28a2\u2808\u28bf\u28fa\u28fa\u2844\u2800\u2800\n\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2818\u285f\u2800\u2818\u2800\u28f4\u2844\u2800\u2800\u2800\u2800\u2800\u2838\u281f\u2800\u2800\u2800\u2819\u283f\u2807\u2800\u2800\n\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2880\u2883\u2800\u2800\u2820\u2808\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2808\u2828\u2810\u2800\u2800\n\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u282c\u2840\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2840\u2804\u2810\u2800\u2800\u2888\u2800\u2801\u2800\u2800\n\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2810\u2800\u2800\u2800\u2801\u2822\u2800\u2800\u2810\u2801\u2800\u2800\u2800\u2840\u2808\u2800\u2800\u2800\u2800\u2800\n\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2801\u2802\u28a0\u28e4\u28c0\u28c0\u28e4\u28e4\u28e4\u28d6\u2804\u2880\u2800\u2800\u2800\u2800\u2800\u2800\n\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2880\u2820\u2884\u2886\u2897\u289d\u289c\u285c\u28dc\u28ad\u28ab\u28aa\u286a\u286a\u2872\u2861\u2840\u2840\u2800\u2800\u2800\n\u2800\u2800\u28c0\u2860\u2880\u2820\u2870\u2854\u28d5\u2895\u285d\u285c\u28ce\u28ae\u28a3\u2863\u286b\u286a\u286a\u286a\u2863\u2863\u286b\u286a\u287a\u2878\u28cc\u2842\u2840\u2800\n\u2800\u2800\u2801\u2880\u2886\u2838\u2815\u28c7\u28a7\u2863\u2873\u28f9\u28b8\u286a\u286a\u286a\u2857\u285d\u285c\u2855\u285d\u285c\u28d5\u28bd\u2858\u28ea\u28b2\u28b1\u286a\u2800\n\u2800\u2800\u2800\u2800\u2801\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u28b0\u2895\u289d\u289c\u284e\u285e\u28dc\u2895\u289d\u285c\u28dc\u285c\u284e\u286e\u286a\u2863\u2803\u2800\n\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2873\u28b9\u2878\u2871\u2879\u2878\u2878\u28f1\u2871\u28b1\u2801\u284b\u280e\u280a\u2800\u2800\u2800\n\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2880\u285d\u28d2\u2896\u2886\u2854\u28d4\u2896\u2886\u282f\u28cd\u2838\u2805\u281c\u2800\u2800\u2800\u2800\n\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2838\u2878\u286a\u28ea\u28ce\u282e\u28ea\u288e\u28a7\u28ab\u286a\u284e\u2877\u2800\u2800\u2800\u2800\u2800\n\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2803\u2800\u2880\u280a\u2800\u2800\u2800\u2808\u2803\u2809\u2800\u2843\u2800\u2800\u2800\u2800\u2800\n\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u28b8\u2800\u2800\u2858\u2800\u2800\u2800\u2800\u2800\u2882\u2800\u2880\u28a0\u2800\u2800\u2800\u2800\u2810\n\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u28f0\u28af\u28e4\u2874\u2846\u2800\u2800\u2800\u2800\u2800\u2800\u28e6\u2800\u28b8\u28c4\u2800\u2800\u2800\u2888\n\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u28e0\u2876\u28f6\u28fb\u28fd\u28fb\u28fa\u287d\u2807\u2800\u2800\u2800\u2800\u2800\u2800\u28ef\u28bf\u28fd\u28fa\u2884\u2800\u2800\u2820\n\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2819\u2819\u2813\u281b\u281a\u2803\u2801\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2808\u281b\u28be\u28fa\u28af\u28df\u2866\u2840\n\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2819\u2819\u283a\u281d\u2883"),U.a.subscribe("updateNote",(function(e,n){n.Title=n.subTitle,t.setState((function(e){var t=e.NoteBookList,a=e.currentNoteNavList,o=e.NoteList;return t.forEach((function(e){e.NotebookId===n.NotebookId&&(e.notes=[].concat(Object(r.a)(e.notes.filter((function(e){return e.NoteId!==n.NoteId}))),[n]))})),o=[].concat(Object(r.a)(o.filter((function(e){return e.NoteId!==n.NoteId}))),[n]),{NoteBookList:t,currentNoteNavList:a=[].concat(Object(r.a)(a.filter((function(e){return e.NoteId!==n.NoteId}))),[n]),NoteList:o}}))})),e.next=4,this.getData();case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){this.setState({},(function(){return!1})),U.a.unsubscribe("updateNote")}},{key:"render",value:function(){var e=this,t=this.state,n=t.NoteBookList,a=t.NoteList,r=t.TrashList,i=t.loadingNoteBooksInfo,l=t.headerNoteBookTitle,u=t.content_style,d=t.draggable,p=t.currentNoteNavList,N=t.collapsed,T=t.isUsingTagNav,y=t.isSearchingNote,V=t.currentNoteNavListCache,U=t.isUsingLeftContainer,A=this.props.TagList,R=u.left_container,E=u.right_container,H=u.scroll,P=i.isLoading,z=i.msg,q=i.status;return p=y?V:p,l=y?"Search":l,Object(K.jsxs)(h.a,{style:{minHeight:"100vh"},children:[Object(K.jsx)(S.a,{title:"\u8bf7\u8f93\u5165\u65b0\u7684\u7b14\u8bb0\u540d\u79f0",visible:this.state.createNoteVisible,footer:null,onCancel:function(){return e.setState({createNoteVisible:!1})},children:Object(K.jsx)(be,{TagList:A,NoteBookList:n,onCancel:function(){return e.setState({createNoteVisible:!1})},onFinish:this.handleFormFinish})}),Object(K.jsxs)(S.a,{title:"\u8bf7\u8f93\u5165\u65b0\u7684\u7b14\u8bb0\u540d\u79f0",visible:this.state.NoteModalVisible,onOk:this.handleModal("Note"),onCancel:function(){return e.setState({NoteModalVisible:!1})},okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88",width:250,children:[Object(K.jsx)("h4",{children:this.state.willHandleDropDownName}),Object(K.jsx)(m.a,{placeholder:"Rename",style:{backgroundColor:"#e6f7ff"},ref:function(t){return e.changeNoteBookOrNoteNameInput=t},onPressEnter:this.handleModal("Note")})]}),Object(K.jsxs)(pe,{collapsible:!0,collapsed:N,onCollapse:function(t){return e.setState({collapsed:t})},children:[Object(K.jsx)("div",{className:"logo",children:Object(K.jsxs)("div",{style:{height:"50px"},children:[Object(K.jsx)("img",{src:"data:image/png;base64,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",alt:"logo",className:"".concat(this.state.collapsed?"logoIn":"logoOut")}),Object(K.jsx)("i",{className:"iconfont icon-mianbao Icon ".concat(this.state.collapsed?"IconIn":"IconOut")})]})}),Object(K.jsxs)(j.a,{theme:"dark",mode:"inline",className:"LeftNavMenu",children:[Object(K.jsx)(fe,{icon:Object(K.jsx)(w.a,{}),title:"NoteBook",children:N?Object(K.jsx)(K.Fragment,{}):Object(K.jsxs)(K.Fragment,{children:[Object(K.jsx)(g.a,{placement:"right",title:"\u6309\u4e0b\u56de\u8f66\u6765\u67e5\u627e\u7b14\u8bb0\u672c",children:Object(K.jsx)(j.a.Item,{style:{backgroundColor:"#000c17",marginTop:8,marginBottom:2,paddingLeft:32},children:Object(K.jsx)("div",{style:{display:"flex",justifyContent:"space-around",alignItems:"center"},children:Object(K.jsx)(m.a,{placeholder:"Search...",ref:function(t){return e.searchNoteBookName=t},style:{backgroundColor:"#e6f7ff",width:160},onPressEnter:this.handleSearchNoteBook})})},"Search")}),Object(K.jsx)(S.a,{title:"\u8bf7\u8f93\u5165\u65b0\u7684\u7b14\u8bb0\u672c\u540d\u79f0",visible:this.state.createNoteBookVisible,onCancel:function(){return e.setState({createNoteBookVisible:!1})},onOk:this.handleCreateNoteBookModal(),okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88",width:250,children:Object(K.jsx)(m.a,{placeholder:"\u5728\u6b64\u8f93\u5165\u7b14\u8bb0\u672c\u540d\u79f0",ref:function(t){return e.createNoteBookName=t},onPressEnter:this.handleCreateNoteBookModal()})}),Object(K.jsx)(g.a,{placement:"right",title:"\u70b9\u51fb\u6765\u521b\u5efa\u65b0\u7684\u7b14\u8bb0",children:Object(K.jsx)(j.a.Item,{icon:Object(K.jsx)(C.a,{}),style:{color:"white",backgroundColor:"#2f54eb"},onClick:function(){return e.setState({createNoteBookVisible:!0})},children:"Newest"},"Newest")}),P?Object(K.jsx)(j.a.Item,{children:"\u52a0\u8f7d\u4e2d..."},"loading"):q?n.filter((function(e){return!e.IsDeleted})).map((function(t){return Object(K.jsx)(j.a.Item,{onClick:e.handleClickLeftNavItem(t.Title,t.notes,t),children:Object(K.jsx)(O.a,{overlay:e.menu(t),trigger:["contextMenu"],children:Object(K.jsx)("div",{className:"site-dropdown-context-menu",style:{textAlign:"center",height:200,lineHeight:"200px"},children:Object(K.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[Object(K.jsxs)(S.a,{title:"\u8bf7\u8f93\u5165\u65b0\u7684\u7b14\u8bb0\u672c\u540d\u79f0",visible:e.state.NoteBookModalVisible,onOk:e.handleModal("NoteBook"),onCancel:function(){return e.setState({NoteBookModalVisible:!1})},okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88",width:250,children:[Object(K.jsx)("h4",{children:e.state.willHandleDropDownName}),Object(K.jsx)(m.a,{placeholder:"Rename",style:{backgroundColor:"#e6f7ff"},ref:function(t){return e.changeNoteBookOrNoteNameInput=t},onPressEnter:e.handleModal("NoteBook")})]}),Object(K.jsx)("div",{children:t.Title}),Object(K.jsx)("div",{children:t.notes.length})]})})})},t.NotebookId)})):Object(K.jsx)(j.a.Item,{style:{fontSize:"15px"},children:z},"loadingFalse")]})},"sub1"),Object(K.jsx)(fe,{icon:Object(K.jsx)(L.a,{}),title:"Tag",children:N?Object(K.jsx)(K.Fragment,{}):P?Object(K.jsx)(j.a.Item,{children:"\u52a0\u8f7d\u4e2d..."},"loadingTag"):q?A.filter((function(e){return""!==e.Tag})).map((function(t){return Object(K.jsx)(j.a.Item,{onClick:e.handleClickTagNav(t),children:Object(K.jsx)(O.a,{overlay:e.TagDropDown(t),trigger:["contextMenu"],children:Object(K.jsx)("div",{style:{width:"100%"},children:t.Tag})})},t.TagId)})):Object(K.jsx)(j.a.Item,{style:{fontSize:"15px"},children:z},"loadingTagFalse")},"sub2"),Object(K.jsx)(fe,{icon:Object(K.jsx)(v.a,{}),title:"Trash",children:N?Object(K.jsx)(K.Fragment,{}):r.map((function(t){return Object(K.jsx)(j.a.Item,{children:Object(K.jsx)(O.a,{placement:"bottomRight",overlay:function(){return Object(K.jsx)(j.a,{children:Object(K.jsx)(j.a.Item,{style:{fontSize:"15px",textAlign:"center"},onClick:e.HandleDeleteTrash(t),children:"Delete"},"Delete")})},children:Object(K.jsx)("div",{style:{width:"100%"},children:t.Title})})},t.NoteId)}))},"TrashList"),Object(K.jsx)(fe,{icon:Object(K.jsx)(B.a,{}),title:"Share",children:N?Object(K.jsx)(K.Fragment,{}):Object(K.jsx)(fe,{title:"admin",children:Object(K.jsx)(b.Fragment,{children:Object(K.jsx)(j.a.Item,{style:{backgroundColor:"#1d39c4"},children:"defaultSharing"},"defaultSharing")})},"share")},"sub3")]})]}),Object(K.jsxs)(h.a,{className:"site-layout",children:[Object(K.jsx)(he,{className:"site-layout-background",style:{padding:0,backgroundColor:"#001529"},children:Object(K.jsxs)("div",{className:"Header_container",children:[Object(K.jsxs)("div",{className:"user_action_container",children:[Object(K.jsxs)("div",{style:{height:65,width:290,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[Object(K.jsx)(m.a,{type:"primary",size:"small",placeholder:"Search note...",ref:function(t){return e.searchNoteName=t},style:{width:200,backgroundColor:"#f2f2ff"},onChange:this.handleFindNote}),Object(K.jsx)(f.a,{type:"primary",size:"small",className:"user_action_button",onClick:this.handleCreateNote(),children:"New Note"})]}),Object(K.jsx)("div",{className:"current_notebook_name",children:l?Object(K.jsx)(k.a,{color:"cyan",className:"headerTag",children:l}):""})]}),Object(K.jsx)("div",{className:"user_info_container",children:Object(K.jsx)(f.a,{className:"user_action_button",type:"primary",onClick:Object(c.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getData();case 2:case"end":return t.stop()}}),t)}))),children:"\u66f4\u65b0\u7b14\u8bb0\u4fe1\u606f"})})]})}),Object(K.jsx)(je,{style:{margin:"10px 10px"},children:Object(K.jsx)("div",{className:"site-layout-background",style:{minHeight:550,height:"100%"},children:Object(K.jsxs)("div",{className:"content_container",onMouseMove:this.dragDivideLine,onMouseUp:function(){return e.setState({draggable:!1})},children:[U?Object(K.jsxs)("div",{className:"left_container",style:R,children:[Object(K.jsxs)(he,{className:"NoteListNavHeader",children:[Object(K.jsx)("div",{style:{width:140},children:Object(K.jsx)("div",{style:{marginTop:15},children:l?Object(K.jsx)(k.a,{icon:Object(K.jsx)(I.a,{}),color:"#e6f7ff",className:"headerTag",style:{color:"#26214c"},children:l}):""})}),Object(K.jsx)("div",{children:Object(K.jsx)(O.a,{overlay:this.NoteListNav,placement:"bottomRight",arrow:!0,children:Object(K.jsx)(D.a,{})})})]}),Object(K.jsx)("div",{className:"NoteNavList",children:!T||T&&p.length>0?Object(K.jsx)(j.a,{style:{width:"100%"},mode:"inline",children:p.map((function(t){return Object(K.jsx)(j.a.Item,{className:"NoteNavListItem",onClick:e.handleNoteListItem(t,l,"click"),children:Object(K.jsx)(O.a,{overlay:e.NoteItemNavMenu(t),trigger:["contextMenu"],children:Object(K.jsx)("div",{className:"site-dropdown-context-menu",style:{textAlign:"left",height:200,lineHeight:"200px"},children:Object(K.jsx)("span",{style:t.IsMarkdown?{color:"#4789f3"}:null,children:t.Title})})})},t.NoteId)}))}):Object(K.jsx)(x.a,{icon:Object(K.jsx)(M.a,{}),title:"\u5f53\u524d\u6807\u7b7e\u6ca1\u6709\u5bf9\u5e94\u7684\u7b14\u8bb0,\u4f60\u53ef\u4ee5\u521b\u5efa\u65b0\u7684\u7b14\u8bb0\u6216\u8005\u5220\u9664\u5f53\u524d\u6807\u7b7e",extra:Object(K.jsx)(f.a,{type:"primary",onClick:this.handleCreateNote(),children:"\u521b\u5efa\u7b14\u8bb0"})})})]}):Object(K.jsx)(K.Fragment,{}),Object(K.jsx)("div",{className:"scroll",style:d?Object(s.a)(Object(s.a)({},H),{},{backgroundColor:"#8c8c8c",transition:"background-color 0.2s ease-out"}):Object(s.a)(Object(s.a)({},H),{},{backgroundColor:"#d9d9d9",transition:"background-color 0.2s ease-out"}),onMouseDown:this.handleOnMouseDown}),Object(K.jsxs)("div",{className:"right_container",style:E,children:[Object(K.jsx)(oe,{Token:this.state.userToken}),Object(K.jsx)(J,{Token:this.state.userToken,NoteList:a})]})]})})})]})]})}}]),n}(b.Component);t.default=Object(A.b)((function(e){return{TagList:e.TagList}}),{deleteTagListAction:ne,addTagListAction:te,clearAllTagAction:function(e){return{type:"clear",TagListOrSingleTag:e}}})(Ne)}}]);
//# sourceMappingURL=4.42856d3b.chunk.js.map